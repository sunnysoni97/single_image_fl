-----BEGIN-----
-----SETTINGS-----
TOTAL CROPS:10000
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:cifar10
PARTITION_ALPHA:100.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:20
LOCAL_LR:0.01
DISTILL_BATCH_SIZE:512
SERVER_LR:0.001
SERVER_STEPS:250
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
USE_ADAPTIVE_LR_ROUND:False
SEED:84
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:ameyoko.jpg
DISTILL_DATASET:cifar100
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:10000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:1
KMEANS_N_CLUSTER:50
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
KMEANS_BALANCING:0.5
CONFIDENCE_THRESHOLD:0.1
CONFIDENCE_STRATEGY:top
CONFIDENCE_ADAPTIVE:True
CONFIDENCE_MAX_THRESH:0.5
CLIPPING_FACTOR:2.5
FEDPROX_FACTOR:0.0
FEDPROX_ADAPTIVE:False
USE_CLIPPING:True
USE_ENTROPY:False
USE_KMEANS:False
USE_FEDPROX:False
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=10000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/ameyoko.jpg', targetpath='/scratch-local/sunnys.3339013/1692092717_740814792', seed=84, img_per_thread=555)
will save 10000 patches in /scratch-local/sunnys.3339013/1692092717_740814792/single_img_crops/crops
10000 took 0.11min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-08-15 11:45:41,012 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-08-15 11:45:41,012 | simulate.py:55 | Reading args from argument parser
Downloading https://www.cs.toronto.edu/~kriz/cifar-10-python.tar.gz to /scratch-local/sunnys.3339013/1692092717_740814792/cifar-10-python.tar.gz
Extracting /scratch-local/sunnys.3339013/1692092717_740814792/cifar-10-python.tar.gz to /scratch-local/sunnys.3339013/1692092717_740814792
Generating unified cifar10 dataset
Class histogram for 0-th partition (alpha=100.0, 10 classes): [225 194 247 272 217 251 256 333 258 247]
INFO flwr 2023-08-15 11:46:07,882 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-08-15 11:46:10,493	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8265 [39m[22m
INFO flwr 2023-08-15 11:46:11,498 | app.py:179 | Flower VCE: Ray initialized with resources: {'node:145.136.62.26': 1.0, 'memory': 103079215104.0, 'object_store_memory': 61847529062.0, 'GPU': 1.0, 'accelerator_type:A100': 1.0, 'CPU': 18.0}
INFO flwr 2023-08-15 11:46:11,498 | server.py:86 | Initializing global parameters
INFO flwr 2023-08-15 11:46:11,499 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-08-15 11:46:11,499 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-08-15 11:46:22,379 | server.py:91 | initial parameters (loss, other metrics): 2.319245477294922, {'server_test_acc': 0.0811}
INFO flwr 2023-08-15 11:46:22,379 | server.py:101 | FL starting
DEBUG flwr 2023-08-15 11:46:26,990 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-15 11:47:15,719 | server.py:229 | fit_round 1 received 8 results and 0 failures
INFO flwr 2023-08-15 11:47:15,931 | fed_df.py:365 | Warm start at round 1
INFO flwr 2023-08-15 11:47:16,055 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=89150)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=89151)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=89149)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=89147)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=89154)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=89153)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=89148)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=89152)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=89148)[0m malloc_consolidate(): invalid chunk size
E0815 11:47:16.640408689   86166 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
[2m[36m(launch_and_fit pid=89151)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=89152)[0m malloc_consolidate(): invalid chunk size
E0815 11:47:17.212597250  137081 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
[2m[36m(launch_and_fit pid=89150)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=89149)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=89153)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=89154)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 11:47:43,992 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 11:47:43,992 | fed_df.py:547 | Average fusion training loss : 0.027472114775329827, val accuracy : 0.42824, best val accuracy : 0.4374
INFO flwr 2023-08-15 11:47:43,994 | common.py:35 | Avg. local train loss : 8.843562776595354, train acc : 0.37706666666666666
INFO flwr 2023-08-15 11:47:46,426 | server.py:116 | fit progress: (1, 1.5742186492919923, {'server_test_acc': 0.453}, 84.04673850815743)
INFO flwr 2023-08-15 11:47:46,426 | server.py:163 | evaluate_round 1: no clients selected, cancel
DEBUG flwr 2023-08-15 11:47:50,803 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=163630)[0m double free or corruption (fasttop)
DEBUG flwr 2023-08-15 11:48:38,864 | server.py:229 | fit_round 2 received 8 results and 0 failures
INFO flwr 2023-08-15 11:48:39,076 | fed_df.py:365 | Warm start at round 2
INFO flwr 2023-08-15 11:48:39,201 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=163624)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=163627)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=163632)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=163631)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=163629)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=163630)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=163628)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=163626)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=163624)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=163629)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=163627)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=163631)[0m malloc_consolidate(): invalid chunk size
E0815 11:48:40.090678661  137748 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
[2m[36m(launch_and_fit pid=163628)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=163626)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=163632)[0m double free or corruption (fasttop)
INFO flwr 2023-08-15 11:49:07,311 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 11:49:07,311 | fed_df.py:547 | Average fusion training loss : 0.01857726425677538, val accuracy : 0.5508, best val accuracy : 0.5572
INFO flwr 2023-08-15 11:49:07,313 | common.py:35 | Avg. local train loss : 7.397400287538767, train acc : 0.5353472222222223
INFO flwr 2023-08-15 11:49:09,757 | server.py:116 | fit progress: (2, 1.4256148132324218, {'server_test_acc': 0.5603}, 167.3778672069311)
INFO flwr 2023-08-15 11:49:09,757 | server.py:163 | evaluate_round 2: no clients selected, cancel
DEBUG flwr 2023-08-15 11:49:14,155 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-15 11:50:01,542 | server.py:229 | fit_round 3 received 8 results and 0 failures
INFO flwr 2023-08-15 11:50:01,756 | fed_df.py:365 | Warm start at round 3
INFO flwr 2023-08-15 11:50:01,884 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=238659)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=238663)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=238659)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=238658)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=238662)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=238663)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=238666)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=238664)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=238667)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=238665)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=238665)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=238658)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=238662)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=238667)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=238666)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=238664)[0m malloc_consolidate(): invalid chunk size
E0815 11:50:22.379856773  211941 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
E0815 11:50:22.379938208  211941 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
E0815 11:50:22.379951142  211941 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
INFO flwr 2023-08-15 11:50:29,983 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 11:50:29,983 | fed_df.py:547 | Average fusion training loss : 0.019785642564296723, val accuracy : 0.63252, best val accuracy : 0.64
INFO flwr 2023-08-15 11:50:29,985 | common.py:35 | Avg. local train loss : 6.317086026817561, train acc : 0.6527305555555556
INFO flwr 2023-08-15 11:50:32,420 | server.py:116 | fit progress: (3, 1.389585073852539, {'server_test_acc': 0.6274}, 250.04043533094227)
INFO flwr 2023-08-15 11:50:32,420 | server.py:163 | evaluate_round 3: no clients selected, cancel
DEBUG flwr 2023-08-15 11:50:36,785 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=313178)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-15 11:51:24,503 | server.py:229 | fit_round 4 received 8 results and 0 failures
INFO flwr 2023-08-15 11:51:24,716 | fed_df.py:365 | Warm start at round 4
[2m[36m(launch_and_fit pid=313176)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 11:51:25,014 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=313178)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=313175)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=313179)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=313180)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=313182)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=313183)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=313176)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=313181)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=313175)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=313182)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=313179)[0m malloc_consolidate(): invalid chunk size
E0815 11:51:25.589953298  304198 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
[2m[36m(launch_and_fit pid=313181)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=313180)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=313183)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 11:51:53,149 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 11:51:53,149 | fed_df.py:547 | Average fusion training loss : 0.027927893813699485, val accuracy : 0.66908, best val accuracy : 0.6762
INFO flwr 2023-08-15 11:51:53,151 | common.py:35 | Avg. local train loss : 5.689393021538853, train acc : 0.7184250000000001
INFO flwr 2023-08-15 11:51:55,613 | server.py:116 | fit progress: (4, 1.4119577026367187, {'server_test_acc': 0.6726}, 333.2343167848885)
INFO flwr 2023-08-15 11:51:55,614 | server.py:163 | evaluate_round 4: no clients selected, cancel
DEBUG flwr 2023-08-15 11:52:00,008 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=387574)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-15 11:52:47,336 | server.py:229 | fit_round 5 received 8 results and 0 failures
INFO flwr 2023-08-15 11:52:47,550 | fed_df.py:365 | Warm start at round 5
INFO flwr 2023-08-15 11:52:47,675 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=387557)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=387574)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=387659)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=387807)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=387671)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=387806)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=387835)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=387833)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=387806)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=387833)[0m malloc_consolidate(): invalid chunk size
E0815 11:52:48.679763537  435677 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
[2m[36m(launch_and_fit pid=387835)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=387557)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=387659)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=387807)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 11:53:15,994 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 11:53:15,995 | fed_df.py:547 | Average fusion training loss : 0.044125945245847106, val accuracy : 0.6778000000000001, best val accuracy : 0.6914
INFO flwr 2023-08-15 11:53:15,997 | common.py:35 | Avg. local train loss : 5.300987903028727, train acc : 0.7587416666666665
INFO flwr 2023-08-15 11:53:18,436 | server.py:116 | fit progress: (5, 1.5404819366455078, {'server_test_acc': 0.6824}, 416.0572122577578)
INFO flwr 2023-08-15 11:53:18,437 | server.py:163 | evaluate_round 5: no clients selected, cancel
DEBUG flwr 2023-08-15 11:53:22,846 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-15 11:54:10,002 | server.py:229 | fit_round 6 received 8 results and 0 failures
INFO flwr 2023-08-15 11:54:10,216 | fed_df.py:365 | Warm start at round 6
INFO flwr 2023-08-15 11:54:10,341 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=462649)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=462651)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=462652)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=462657)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=462654)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=462653)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=462655)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=462656)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=462649)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=462655)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=462657)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=462656)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=462651)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=462653)[0m malloc_consolidate(): invalid chunk size
E0815 11:54:12.286283510  436317 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
[2m[36m(launch_and_fit pid=462652)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=462654)[0m double free or corruption (fasttop)
INFO flwr 2023-08-15 11:54:38,687 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 11:54:38,688 | fed_df.py:547 | Average fusion training loss : 0.05261686032544822, val accuracy : 0.68216, best val accuracy : 0.7068
INFO flwr 2023-08-15 11:54:38,690 | common.py:35 | Avg. local train loss : 5.057680406793952, train acc : 0.7855694444444443
INFO flwr 2023-08-15 11:54:41,129 | server.py:116 | fit progress: (6, 1.6577753784179687, {'server_test_acc': 0.6924}, 498.7498462838121)
INFO flwr 2023-08-15 11:54:41,129 | server.py:163 | evaluate_round 6: no clients selected, cancel
DEBUG flwr 2023-08-15 11:54:45,502 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=537037)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=537035)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-15 11:55:33,031 | server.py:229 | fit_round 7 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=537032)[0m double free or corruption (fasttop)
INFO flwr 2023-08-15 11:55:33,246 | fed_df.py:365 | Warm start at round 7
[2m[36m(launch_and_fit pid=537034)[0m double free or corruption (fasttop)
INFO flwr 2023-08-15 11:55:33,371 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=537032)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=537034)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=537031)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=537036)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=537033)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=537037)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=537035)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=537038)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=537031)[0m double free or corruption (fasttop)
E0815 11:55:34.517570364  591267 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
E0815 11:55:34.517687455  591267 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
[2m[36m(launch_and_fit pid=537038)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=537033)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 11:56:01,986 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 11:56:01,987 | fed_df.py:547 | Average fusion training loss : 0.0747432778403163, val accuracy : 0.6847999999999999, best val accuracy : 0.699
INFO flwr 2023-08-15 11:56:01,988 | common.py:35 | Avg. local train loss : 4.876208699122071, train acc : 0.8073944444444444
INFO flwr 2023-08-15 11:56:04,439 | server.py:116 | fit progress: (7, 1.7800866424560546, {'server_test_acc': 0.692}, 582.0597601570189)
INFO flwr 2023-08-15 11:56:04,439 | server.py:163 | evaluate_round 7: no clients selected, cancel
DEBUG flwr 2023-08-15 11:56:08,862 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=638259)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=638257)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-15 11:56:56,600 | server.py:229 | fit_round 8 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=638269)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 11:56:56,816 | fed_df.py:365 | Warm start at round 8
INFO flwr 2023-08-15 11:56:56,941 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=638259)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=638257)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=638264)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=638261)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=638268)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=638269)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=638263)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=638273)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=638263)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=638273)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=638264)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=638268)[0m double free or corruption (fasttop)
E0815 11:56:58.053789297  592007 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
[2m[36m(launch_and_fit pid=638261)[0m double free or corruption (fasttop)
INFO flwr 2023-08-15 11:57:25,315 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 11:57:25,316 | fed_df.py:547 | Average fusion training loss : 0.05069809520617127, val accuracy : 0.67296, best val accuracy : 0.6952
INFO flwr 2023-08-15 11:57:25,318 | common.py:35 | Avg. local train loss : 4.7647942215204235, train acc : 0.8222138888888888
INFO flwr 2023-08-15 11:57:27,824 | server.py:116 | fit progress: (8, 1.9084637573242187, {'server_test_acc': 0.6953}, 665.444533911068)
INFO flwr 2023-08-15 11:57:27,824 | server.py:163 | evaluate_round 8: no clients selected, cancel
DEBUG flwr 2023-08-15 11:57:32,218 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-15 11:58:19,578 | server.py:229 | fit_round 9 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=727965)[0m double free or corruption (fasttop)
INFO flwr 2023-08-15 11:58:19,793 | fed_df.py:365 | Warm start at round 9
[2m[36m(launch_and_fit pid=727963)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 11:58:19,943 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=727965)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=727963)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=727976)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=727977)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=727978)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=727980)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=727981)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=727979)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=727979)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=727980)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=727976)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=727977)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=727981)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=727978)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 11:58:48,389 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 11:58:48,389 | fed_df.py:547 | Average fusion training loss : 0.07241006955131889, val accuracy : 0.68364, best val accuracy : 0.706
INFO flwr 2023-08-15 11:58:48,391 | common.py:35 | Avg. local train loss : 4.635188238695263, train acc : 0.8391749999999999
INFO flwr 2023-08-15 11:58:50,856 | server.py:116 | fit progress: (9, 1.863247625732422, {'server_test_acc': 0.706}, 748.4766430319287)
INFO flwr 2023-08-15 11:58:50,856 | server.py:163 | evaluate_round 9: no clients selected, cancel
DEBUG flwr 2023-08-15 11:58:55,291 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=802346)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=802344)[0m double free or corruption (fasttop)
DEBUG flwr 2023-08-15 11:59:45,902 | server.py:229 | fit_round 10 received 8 results and 0 failures
INFO flwr 2023-08-15 11:59:46,117 | fed_df.py:365 | Warm start at round 10
[2m[36m(launch_and_fit pid=802345)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 11:59:46,242 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=802347)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=802345)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=802340)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=802346)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=802344)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=802348)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=802349)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=802343)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=802340)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=802348)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=802347)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=802343)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=802349)[0m malloc_consolidate(): invalid chunk size
E0815 11:59:51.129333869  851710 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
INFO flwr 2023-08-15 12:00:14,702 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 12:00:14,703 | fed_df.py:547 | Average fusion training loss : 0.055496452735736966, val accuracy : 0.6821200000000001, best val accuracy : 0.7022
INFO flwr 2023-08-15 12:00:14,705 | common.py:35 | Avg. local train loss : 4.542990826815368, train acc : 0.8488194444444445
INFO flwr 2023-08-15 12:00:17,161 | server.py:116 | fit progress: (10, 1.9324432495117188, {'server_test_acc': 0.7035}, 834.7821614257991)
INFO flwr 2023-08-15 12:00:17,161 | server.py:163 | evaluate_round 10: no clients selected, cancel
DEBUG flwr 2023-08-15 12:00:21,570 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=877419)[0m double free or corruption (fasttop)
DEBUG flwr 2023-08-15 12:01:08,750 | server.py:229 | fit_round 11 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=877417)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 12:01:08,969 | fed_df.py:365 | Warm start at round 11
INFO flwr 2023-08-15 12:01:09,094 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=877417)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=877419)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=877422)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=877429)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=877428)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=877427)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=877431)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=877430)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=877431)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=877422)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=877429)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=877430)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=877427)[0m double free or corruption (fasttop)
E0815 12:01:10.267469962  854238 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
E0815 12:01:10.267597118  854238 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
E0815 12:01:10.267615083  854238 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
[2m[36m(launch_and_fit pid=877428)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 12:01:37,491 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 12:01:37,492 | fed_df.py:547 | Average fusion training loss : 0.06281196764111519, val accuracy : 0.66496, best val accuracy : 0.6916
INFO flwr 2023-08-15 12:01:37,494 | common.py:35 | Avg. local train loss : 4.528655373677611, train acc : 0.8507916666666666
INFO flwr 2023-08-15 12:01:39,952 | server.py:116 | fit progress: (11, 1.9391066467285156, {'server_test_acc': 0.691}, 917.5731380428188)
INFO flwr 2023-08-15 12:01:39,952 | server.py:163 | evaluate_round 11: no clients selected, cancel
DEBUG flwr 2023-08-15 12:01:44,325 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=951839)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-15 12:02:31,621 | server.py:229 | fit_round 12 received 8 results and 0 failures
INFO flwr 2023-08-15 12:02:31,837 | fed_df.py:365 | Warm start at round 12
[2m[36m(launch_and_fit pid=951837)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 12:02:31,964 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=951835)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=951837)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=951839)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=951842)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=951843)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=951845)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=951846)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=951844)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=951845)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=951846)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=951835)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=951843)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=951842)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=951844)[0m double free or corruption (fasttop)
E0815 12:02:49.232160880  925965 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
E0815 12:02:49.232299815  925965 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
E0815 12:02:49.232326189  925965 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
INFO flwr 2023-08-15 12:03:00,425 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 12:03:00,426 | fed_df.py:547 | Average fusion training loss : 0.05150863872841001, val accuracy : 0.6652799999999999, best val accuracy : 0.692
INFO flwr 2023-08-15 12:03:00,428 | common.py:35 | Avg. local train loss : 4.42350280918181, train acc : 0.8627527777777778
INFO flwr 2023-08-15 12:03:02,908 | server.py:116 | fit progress: (12, 1.9729612243652344, {'server_test_acc': 0.6915}, 1000.5290331481956)
INFO flwr 2023-08-15 12:03:02,908 | server.py:163 | evaluate_round 12: no clients selected, cancel
DEBUG flwr 2023-08-15 12:03:07,313 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1027081)[0m ERROR: Unexpected segmentation fault encountered in worker.
[2m[36m(launch_and_fit pid=1027081)[0m  
[2m[36m(launch_and_fit pid=1027083)[0m ERROR: Unexpected segmentation fault encountered in worker.
[2m[36m(launch_and_fit pid=1027083)[0m  
[2m[36m(launch_and_fit pid=1027086)[0m ERROR: Unexpected segmentation fault encountered in worker.
[2m[36m(launch_and_fit pid=1027086)[0m  
[2m[36m(launch_and_fit pid=1027085)[0m ERROR: Unexpected segmentation fault encountered in worker.
[2m[36m(launch_and_fit pid=1027085)[0m  ERROR: Unexpected segmentation fault encountered in worker.
[2m[36m(launch_and_fit pid=1027085)[0m  
[2m[36m(launch_and_fit pid=1027084)[0m ERROR: Unexpected segmentation fault encountered in worker.
[2m[36m(launch_and_fit pid=1027084)[0m  
[2m[36m(launch_and_fit pid=1027076)[0m ERROR: Unexpected segmentation fault encountered in worker.
[2m[36m(launch_and_fit pid=1027076)[0m  
[2m[36m(launch_and_fit pid=1027079)[0m ERROR: Unexpected segmentation fault encountered in worker.
[2m[36m(launch_and_fit pid=1027079)[0m  ERROR: Unexpected segmentation fault encountered in worker.
[2m[36m(launch_and_fit pid=1027079)[0m  
[2m[36m(launch_and_fit pid=1027077)[0m ERROR: Unexpected segmentation fault encountered in worker.
[2m[36m(launch_and_fit pid=1027077)[0m  
DEBUG flwr 2023-08-15 12:05:32,045 | ray_client_proxy.py:87 | [36mray::launch_and_fit()[39m (pid=1027085, ip=145.136.62.26)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/queues.py", line 113, in get
    if not self._poll(timeout):
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/connection.py", line 257, in poll
    return self._poll(timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/connection.py", line 424, in _poll
    r = wait([self], timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/connection.py", line 931, in wait
    ready = selector.select(timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/selectors.py", line 416, in select
    fd_event_list = self._selector.poll(timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/_utils/signal_handling.py", line 66, in handler
    _error_if_any_worker_fails()
RuntimeError: DataLoader worker (pid 1067573) is killed by signal: Segmentation fault. 

The above exception was the direct cause of the following exception:

[36mray::launch_and_fit()[39m (pid=1027085, ip=145.136.62.26)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in launch_and_fit
    return maybe_call_fit(
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/flwr/client/client.py", line 184, in maybe_call_fit
    return client.fit(fit_ins)
  File "/gpfs/home1/sunnys/thesis_23/single_image_fl/client/fed_df.py", line 147, in fit
    new_parameters, distill_preds, train_res = train_model(
  File "/gpfs/home1/sunnys/thesis_23/single_image_fl/client/fed_df.py", line 55, in train_model
    for images, labels in train_loader:
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 628, in __next__
    data = self._next_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1316, in _next_data
    idx, data = self._get_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1282, in _get_data
    success, data = self._try_get_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1133, in _try_get_data
    raise RuntimeError('DataLoader worker (pid(s) {}) exited unexpectedly'.format(pids_str)) from e
RuntimeError: DataLoader worker (pid(s) 1067573) exited unexpectedly
DEBUG flwr 2023-08-15 12:05:32,047 | ray_client_proxy.py:87 | [36mray::launch_and_fit()[39m (pid=1027086, ip=145.136.62.26)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

[36mray::launch_and_fit()[39m (pid=1027086, ip=145.136.62.26)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1120, in _try_get_data
    data = self._data_queue.get(timeout=timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/queues.py", line 122, in get
    return _ForkingPickler.loads(res)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/multiprocessing/reductions.py", line 305, in rebuild_storage_fd
    fd = df.detach()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/resource_sharer.py", line 57, in detach
    with _resource_sharer.get_connection(self._id) as conn:
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/resource_sharer.py", line 86, in get_connection
    c = Client(address, authkey=process.current_process().authkey)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/connection.py", line 502, in Client
    c = SocketClient(address)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/connection.py", line 630, in SocketClient
    s.connect(address)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/_utils/signal_handling.py", line 66, in handler
    _error_if_any_worker_fails()
RuntimeError: DataLoader worker (pid 1066913) is killed by signal: Segmentation fault. 

The above exception was the direct cause of the following exception:

[36mray::launch_and_fit()[39m (pid=1027086, ip=145.136.62.26)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in launch_and_fit
    return maybe_call_fit(
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/flwr/client/client.py", line 184, in maybe_call_fit
    return client.fit(fit_ins)
  File "/gpfs/home1/sunnys/thesis_23/single_image_fl/client/fed_df.py", line 147, in fit
    new_parameters, distill_preds, train_res = train_model(
  File "/gpfs/home1/sunnys/thesis_23/single_image_fl/client/fed_df.py", line 55, in train_model
    for images, labels in train_loader:
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 628, in __next__
    data = self._next_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1316, in _next_data
    idx, data = self._get_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1282, in _get_data
    success, data = self._try_get_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1133, in _try_get_data
    raise RuntimeError('DataLoader worker (pid(s) {}) exited unexpectedly'.format(pids_str)) from e
RuntimeError: DataLoader worker (pid(s) 1066913) exited unexpectedly
DEBUG flwr 2023-08-15 12:05:32,052 | ray_client_proxy.py:87 | [36mray::launch_and_fit()[39m (pid=1027079, ip=145.136.62.26)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/queues.py", line 113, in get
    if not self._poll(timeout):
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/connection.py", line 257, in poll
    return self._poll(timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/connection.py", line 424, in _poll
    r = wait([self], timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/connection.py", line 931, in wait
    ready = selector.select(timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/selectors.py", line 416, in select
    fd_event_list = self._selector.poll(timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/_utils/signal_handling.py", line 66, in handler
    _error_if_any_worker_fails()
RuntimeError: DataLoader worker (pid 1067047) is killed by signal: Segmentation fault. 

The above exception was the direct cause of the following exception:

[36mray::launch_and_fit()[39m (pid=1027079, ip=145.136.62.26)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in launch_and_fit
    return maybe_call_fit(
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/flwr/client/client.py", line 184, in maybe_call_fit
    return client.fit(fit_ins)
  File "/gpfs/home1/sunnys/thesis_23/single_image_fl/client/fed_df.py", line 147, in fit
    new_parameters, distill_preds, train_res = train_model(
  File "/gpfs/home1/sunnys/thesis_23/single_image_fl/client/fed_df.py", line 55, in train_model
    for images, labels in train_loader:
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 628, in __next__
    data = self._next_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1316, in _next_data
    idx, data = self._get_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1282, in _get_data
    success, data = self._try_get_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1133, in _try_get_data
    raise RuntimeError('DataLoader worker (pid(s) {}) exited unexpectedly'.format(pids_str)) from e
RuntimeError: DataLoader worker (pid(s) 1067047, 1067425) exited unexpectedly
DEBUG flwr 2023-08-15 12:05:32,093 | ray_client_proxy.py:87 | [36mray::launch_and_fit()[39m (pid=1027081, ip=145.136.62.26)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/queues.py", line 113, in get
    if not self._poll(timeout):
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/connection.py", line 257, in poll
    return self._poll(timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/connection.py", line 424, in _poll
    r = wait([self], timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/connection.py", line 931, in wait
    ready = selector.select(timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/selectors.py", line 416, in select
    fd_event_list = self._selector.poll(timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/_utils/signal_handling.py", line 66, in handler
    _error_if_any_worker_fails()
RuntimeError: DataLoader worker (pid 1068492) is killed by signal: Segmentation fault. 

The above exception was the direct cause of the following exception:

[36mray::launch_and_fit()[39m (pid=1027081, ip=145.136.62.26)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in launch_and_fit
    return maybe_call_fit(
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/flwr/client/client.py", line 184, in maybe_call_fit
    return client.fit(fit_ins)
  File "/gpfs/home1/sunnys/thesis_23/single_image_fl/client/fed_df.py", line 147, in fit
    new_parameters, distill_preds, train_res = train_model(
  File "/gpfs/home1/sunnys/thesis_23/single_image_fl/client/fed_df.py", line 55, in train_model
    for images, labels in train_loader:
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 628, in __next__
    data = self._next_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1316, in _next_data
    idx, data = self._get_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1282, in _get_data
    success, data = self._try_get_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1133, in _try_get_data
    raise RuntimeError('DataLoader worker (pid(s) {}) exited unexpectedly'.format(pids_str)) from e
RuntimeError: DataLoader worker (pid(s) 1068492) exited unexpectedly
DEBUG flwr 2023-08-15 12:05:32,106 | ray_client_proxy.py:87 | [36mray::launch_and_fit()[39m (pid=1027076, ip=145.136.62.26)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/queues.py", line 113, in get
    if not self._poll(timeout):
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/connection.py", line 257, in poll
    return self._poll(timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/connection.py", line 424, in _poll
    r = wait([self], timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/connection.py", line 931, in wait
    ready = selector.select(timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/selectors.py", line 416, in select
    fd_event_list = self._selector.poll(timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/_utils/signal_handling.py", line 66, in handler
    _error_if_any_worker_fails()
RuntimeError: DataLoader worker (pid 1067966) is killed by signal: Segmentation fault. 

The above exception was the direct cause of the following exception:

[36mray::launch_and_fit()[39m (pid=1027076, ip=145.136.62.26)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in launch_and_fit
    return maybe_call_fit(
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/flwr/client/client.py", line 184, in maybe_call_fit
    return client.fit(fit_ins)
  File "/gpfs/home1/sunnys/thesis_23/single_image_fl/client/fed_df.py", line 147, in fit
    new_parameters, distill_preds, train_res = train_model(
  File "/gpfs/home1/sunnys/thesis_23/single_image_fl/client/fed_df.py", line 55, in train_model
    for images, labels in train_loader:
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 628, in __next__
    data = self._next_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1316, in _next_data
    idx, data = self._get_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1282, in _get_data
    success, data = self._try_get_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1133, in _try_get_data
    raise RuntimeError('DataLoader worker (pid(s) {}) exited unexpectedly'.format(pids_str)) from e
RuntimeError: DataLoader worker (pid(s) 1067966) exited unexpectedly
DEBUG flwr 2023-08-15 12:05:32,112 | ray_client_proxy.py:87 | [36mray::launch_and_fit()[39m (pid=1027083, ip=145.136.62.26)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/queues.py", line 113, in get
    if not self._poll(timeout):
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/connection.py", line 257, in poll
    return self._poll(timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/connection.py", line 424, in _poll
    r = wait([self], timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/connection.py", line 931, in wait
    ready = selector.select(timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/selectors.py", line 416, in select
    fd_event_list = self._selector.poll(timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/_utils/signal_handling.py", line 66, in handler
    _error_if_any_worker_fails()
RuntimeError: DataLoader worker (pid 1067309) is killed by signal: Segmentation fault. 

The above exception was the direct cause of the following exception:

[36mray::launch_and_fit()[39m (pid=1027083, ip=145.136.62.26)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in launch_and_fit
    return maybe_call_fit(
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/flwr/client/client.py", line 184, in maybe_call_fit
    return client.fit(fit_ins)
  File "/gpfs/home1/sunnys/thesis_23/single_image_fl/client/fed_df.py", line 147, in fit
    new_parameters, distill_preds, train_res = train_model(
  File "/gpfs/home1/sunnys/thesis_23/single_image_fl/client/fed_df.py", line 55, in train_model
    for images, labels in train_loader:
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 628, in __next__
    data = self._next_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1316, in _next_data
    idx, data = self._get_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1282, in _get_data
    success, data = self._try_get_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1133, in _try_get_data
    raise RuntimeError('DataLoader worker (pid(s) {}) exited unexpectedly'.format(pids_str)) from e
RuntimeError: DataLoader worker (pid(s) 1067309) exited unexpectedly
DEBUG flwr 2023-08-15 12:05:32,116 | ray_client_proxy.py:87 | [36mray::launch_and_fit()[39m (pid=1027077, ip=145.136.62.26)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/queues.py", line 113, in get
    if not self._poll(timeout):
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/connection.py", line 257, in poll
    return self._poll(timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/connection.py", line 424, in _poll
    r = wait([self], timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/connection.py", line 931, in wait
    ready = selector.select(timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/selectors.py", line 416, in select
    fd_event_list = self._selector.poll(timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/_utils/signal_handling.py", line 66, in handler
    _error_if_any_worker_fails()
RuntimeError: DataLoader worker (pid 1068360) is killed by signal: Segmentation fault. 

The above exception was the direct cause of the following exception:

[36mray::launch_and_fit()[39m (pid=1027077, ip=145.136.62.26)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in launch_and_fit
    return maybe_call_fit(
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/flwr/client/client.py", line 184, in maybe_call_fit
    return client.fit(fit_ins)
  File "/gpfs/home1/sunnys/thesis_23/single_image_fl/client/fed_df.py", line 147, in fit
    new_parameters, distill_preds, train_res = train_model(
  File "/gpfs/home1/sunnys/thesis_23/single_image_fl/client/fed_df.py", line 55, in train_model
    for images, labels in train_loader:
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 628, in __next__
    data = self._next_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1316, in _next_data
    idx, data = self._get_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1282, in _get_data
    success, data = self._try_get_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1133, in _try_get_data
    raise RuntimeError('DataLoader worker (pid(s) {}) exited unexpectedly'.format(pids_str)) from e
RuntimeError: DataLoader worker (pid(s) 1068360) exited unexpectedly
DEBUG flwr 2023-08-15 12:05:32,119 | ray_client_proxy.py:87 | [36mray::launch_and_fit()[39m (pid=1027084, ip=145.136.62.26)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/queues.py", line 113, in get
    if not self._poll(timeout):
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/connection.py", line 257, in poll
    return self._poll(timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/connection.py", line 424, in _poll
    r = wait([self], timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/multiprocessing/connection.py", line 931, in wait
    ready = selector.select(timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/selectors.py", line 416, in select
    fd_event_list = self._selector.poll(timeout)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/_utils/signal_handling.py", line 66, in handler
    _error_if_any_worker_fails()
RuntimeError: DataLoader worker (pid 1068215) is killed by signal: Segmentation fault. 

The above exception was the direct cause of the following exception:

[36mray::launch_and_fit()[39m (pid=1027084, ip=145.136.62.26)
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in launch_and_fit
    return maybe_call_fit(
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/flwr/client/client.py", line 184, in maybe_call_fit
    return client.fit(fit_ins)
  File "/gpfs/home1/sunnys/thesis_23/single_image_fl/client/fed_df.py", line 147, in fit
    new_parameters, distill_preds, train_res = train_model(
  File "/gpfs/home1/sunnys/thesis_23/single_image_fl/client/fed_df.py", line 55, in train_model
    for images, labels in train_loader:
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 628, in __next__
    data = self._next_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1316, in _next_data
    idx, data = self._get_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1282, in _get_data
    success, data = self._try_get_data()
  File "/home/sunnys/.conda/envs/single_image_fl/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 1133, in _try_get_data
    raise RuntimeError('DataLoader worker (pid(s) {}) exited unexpectedly'.format(pids_str)) from e
RuntimeError: DataLoader worker (pid(s) 1068215) exited unexpectedly
DEBUG flwr 2023-08-15 12:05:32,120 | server.py:229 | fit_round 13 received 0 results and 8 failures
[2m[36m(launch_and_fit pid=1027076)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1027077)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1027079)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1027083)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1027081)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1027085)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1027086)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1027084)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1027081)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1027086)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1027083)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1027076)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1027077)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1027084)[0m malloc_consolidate(): invalid chunk size
E0815 12:05:34.236036456 1070610 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
[2m[36m(launch_and_fit pid=1027085)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1027079)[0m double free or corruption (fasttop)
INFO flwr 2023-08-15 12:05:34,953 | server.py:116 | fit progress: (13, 1.9729612243652344, {'server_test_acc': 0.6915}, 1152.5742385280319)
INFO flwr 2023-08-15 12:05:34,954 | server.py:163 | evaluate_round 13: no clients selected, cancel
DEBUG flwr 2023-08-15 12:05:39,490 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1073316)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1073314)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-15 12:06:26,723 | server.py:229 | fit_round 14 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1073322)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 12:06:26,940 | fed_df.py:365 | Warm start at round 14
INFO flwr 2023-08-15 12:06:27,066 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=1073314)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1073316)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1073322)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1073320)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1073321)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1073319)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1073324)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1073323)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1073321)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1073323)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1073324)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1073320)[0m malloc_consolidate(): invalid chunk size
E0815 12:06:28.463398255 1071570 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
E0815 12:06:28.463464139 1071570 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
E0815 12:06:28.463474168 1071570 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
[2m[36m(launch_and_fit pid=1073319)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 12:06:58,155 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 12:06:58,156 | fed_df.py:547 | Average fusion training loss : 0.039644389789551496, val accuracy : 0.67208, best val accuracy : 0.705
INFO flwr 2023-08-15 12:06:58,158 | common.py:35 | Avg. local train loss : 4.348867328837515, train acc : 0.8698777777777777
INFO flwr 2023-08-15 12:07:00,910 | server.py:116 | fit progress: (14, 1.968801336669922, {'server_test_acc': 0.7066}, 1238.5308609190397)
INFO flwr 2023-08-15 12:07:00,910 | server.py:163 | evaluate_round 14: no clients selected, cancel
DEBUG flwr 2023-08-15 12:07:05,434 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1148232)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1148234)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-15 12:07:52,356 | server.py:229 | fit_round 15 received 8 results and 0 failures
INFO flwr 2023-08-15 12:07:52,570 | fed_df.py:365 | Warm start at round 15
INFO flwr 2023-08-15 12:07:52,694 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=1148232)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1148234)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1148238)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1148236)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1148239)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1148237)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1148240)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1148241)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1148238)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1148237)[0m malloc_consolidate(): invalid chunk size
E0815 12:07:53.702622612 1195940 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
[2m[36m(launch_and_fit pid=1148241)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1148240)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1148239)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1148236)[0m double free or corruption (fasttop)
INFO flwr 2023-08-15 12:08:23,978 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 12:08:23,978 | fed_df.py:547 | Average fusion training loss : 0.036228592209517956, val accuracy : 0.6764, best val accuracy : 0.7068
INFO flwr 2023-08-15 12:08:23,980 | common.py:35 | Avg. local train loss : 4.291770885139703, train acc : 0.87635
INFO flwr 2023-08-15 12:08:26,634 | server.py:116 | fit progress: (15, 1.9676705139160156, {'server_test_acc': 0.708}, 1324.2551958658732)
INFO flwr 2023-08-15 12:08:26,635 | server.py:163 | evaluate_round 15: no clients selected, cancel
DEBUG flwr 2023-08-15 12:08:31,166 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1222581)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1222584)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-15 12:09:18,339 | server.py:229 | fit_round 16 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1222583)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 12:09:18,553 | fed_df.py:365 | Warm start at round 16
INFO flwr 2023-08-15 12:09:18,679 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=1222581)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1222584)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1222583)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1222586)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1222597)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1222596)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1222595)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1222594)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1222586)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1222595)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1222594)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1222597)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1222596)[0m malloc_consolidate(): invalid chunk size
E0815 12:09:22.365762253 1271859 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
INFO flwr 2023-08-15 12:09:49,969 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 12:09:49,970 | fed_df.py:547 | Average fusion training loss : 0.03348308194987476, val accuracy : 0.68588, best val accuracy : 0.7114
INFO flwr 2023-08-15 12:09:49,972 | common.py:35 | Avg. local train loss : 4.2486366670578715, train acc : 0.8801444444444445
INFO flwr 2023-08-15 12:09:52,639 | server.py:116 | fit progress: (16, 1.9798482482910156, {'server_test_acc': 0.7085}, 1410.2601772071794)
INFO flwr 2023-08-15 12:09:52,640 | server.py:163 | evaluate_round 16: no clients selected, cancel
DEBUG flwr 2023-08-15 12:09:57,172 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1296985)[0m double free or corruption (fasttop)
DEBUG flwr 2023-08-15 12:10:44,695 | server.py:229 | fit_round 17 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1296997)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 12:10:44,911 | fed_df.py:365 | Warm start at round 17
INFO flwr 2023-08-15 12:10:45,038 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=1296985)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1296990)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1296989)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1296991)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1296995)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1296996)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1296997)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1296994)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1296991)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1296990)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1296989)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1296995)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1296994)[0m double free or corruption (fasttop)
E0815 12:10:46.451752125 1352840 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1296996)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 12:11:16,680 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 12:11:16,681 | fed_df.py:547 | Average fusion training loss : 0.033444337470456956, val accuracy : 0.6839600000000001, best val accuracy : 0.7134
INFO flwr 2023-08-15 12:11:16,683 | common.py:35 | Avg. local train loss : 4.165104648843408, train acc : 0.8889611111111112
INFO flwr 2023-08-15 12:11:19,351 | server.py:116 | fit progress: (17, 1.9691829284667968, {'server_test_acc': 0.7058}, 1496.9723546188325)
INFO flwr 2023-08-15 12:11:19,352 | server.py:163 | evaluate_round 17: no clients selected, cancel
DEBUG flwr 2023-08-15 12:11:23,876 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1398191)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1398194)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-15 12:12:11,156 | server.py:229 | fit_round 18 received 8 results and 0 failures
INFO flwr 2023-08-15 12:12:11,370 | fed_df.py:365 | Warm start at round 18
INFO flwr 2023-08-15 12:12:11,496 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=1398191)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1398194)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1398197)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1398199)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1398196)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1398198)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1398200)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1398195)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1398199)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1398195)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1398200)[0m malloc_consolidate(): invalid chunk size
E0815 12:12:12.887522126 1459964 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1398198)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1398196)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1398197)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 12:12:43,094 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 12:12:43,095 | fed_df.py:547 | Average fusion training loss : 0.03197358605451882, val accuracy : 0.70052, best val accuracy : 0.7338
INFO flwr 2023-08-15 12:12:43,097 | common.py:35 | Avg. local train loss : 4.133030020445585, train acc : 0.8914722222222222
INFO flwr 2023-08-15 12:12:45,752 | server.py:116 | fit progress: (18, 1.9102215270996095, {'server_test_acc': 0.7262}, 1583.3726298408583)
INFO flwr 2023-08-15 12:12:45,752 | server.py:163 | evaluate_round 18: no clients selected, cancel
DEBUG flwr 2023-08-15 12:12:50,316 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1488041)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1488044)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-15 12:13:37,676 | server.py:229 | fit_round 19 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1488051)[0m double free or corruption (fasttop)
INFO flwr 2023-08-15 12:13:37,892 | fed_df.py:365 | Warm start at round 19
INFO flwr 2023-08-15 12:13:38,018 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=1488041)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1488044)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1488046)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1488049)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1488048)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1488050)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1488051)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1488047)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1488046)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1488047)[0m malloc_consolidate(): invalid chunk size
E0815 12:13:39.015504376 1460511 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1488049)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1488050)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1488048)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 12:14:09,338 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 12:14:09,339 | fed_df.py:547 | Average fusion training loss : 0.026717511236667633, val accuracy : 0.70228, best val accuracy : 0.733
INFO flwr 2023-08-15 12:14:09,341 | common.py:35 | Avg. local train loss : 4.1062087185680864, train acc : 0.8941444444444444
INFO flwr 2023-08-15 12:14:12,025 | server.py:116 | fit progress: (19, 1.9394993591308594, {'server_test_acc': 0.7303}, 1669.6459544859827)
INFO flwr 2023-08-15 12:14:12,025 | server.py:163 | evaluate_round 19: no clients selected, cancel
DEBUG flwr 2023-08-15 12:14:16,550 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1562945)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1562944)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-15 12:15:03,476 | server.py:229 | fit_round 20 received 8 results and 0 failures
INFO flwr 2023-08-15 12:15:03,689 | fed_df.py:365 | Warm start at round 20
INFO flwr 2023-08-15 12:15:03,816 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=1562945)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1562944)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1562949)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1562954)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1562950)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1562952)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1562951)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1562953)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1562950)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1562951)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1562949)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1562954)[0m malloc_consolidate(): invalid chunk size
E0815 12:15:05.113341571 1611659 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1562953)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1562952)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 12:15:35,196 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 12:15:35,196 | fed_df.py:547 | Average fusion training loss : 0.02638288480229676, val accuracy : 0.69732, best val accuracy : 0.7276
INFO flwr 2023-08-15 12:15:35,198 | common.py:35 | Avg. local train loss : 4.071132556349039, train acc : 0.898802777777778
INFO flwr 2023-08-15 12:15:37,897 | server.py:116 | fit progress: (20, 1.9220422607421874, {'server_test_acc': 0.7232}, 1755.5180062088184)
INFO flwr 2023-08-15 12:15:37,897 | server.py:163 | evaluate_round 20: no clients selected, cancel
DEBUG flwr 2023-08-15 12:15:42,415 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1637284)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1637288)[0m double free or corruption (fasttop)
DEBUG flwr 2023-08-15 12:16:30,151 | server.py:229 | fit_round 21 received 8 results and 0 failures
INFO flwr 2023-08-15 12:16:30,441 | fed_df.py:365 | Warm start at round 21
INFO flwr 2023-08-15 12:16:30,567 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=1637284)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1637288)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1637286)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1637287)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1637289)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1637290)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1637291)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1637292)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1637291)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1637286)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1637290)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1637289)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1637287)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1637292)[0m malloc_consolidate(): invalid chunk size
E0815 12:16:32.822427910 1611727 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
INFO flwr 2023-08-15 12:16:59,011 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 12:16:59,012 | fed_df.py:547 | Average fusion training loss : 0.023750998590141535, val accuracy : 0.7038800000000001, best val accuracy : 0.7352
INFO flwr 2023-08-15 12:16:59,014 | common.py:35 | Avg. local train loss : 4.0131806775927545, train acc : 0.9061972222222223
INFO flwr 2023-08-15 12:17:01,627 | server.py:116 | fit progress: (21, 1.9068935119628907, {'server_test_acc': 0.7299}, 1839.2479822929017)
INFO flwr 2023-08-15 12:17:01,627 | server.py:163 | evaluate_round 21: no clients selected, cancel
DEBUG flwr 2023-08-15 12:17:06,032 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1712204)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1712206)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-15 12:17:53,074 | server.py:229 | fit_round 22 received 8 results and 0 failures
INFO flwr 2023-08-15 12:17:53,289 | fed_df.py:365 | Warm start at round 22
INFO flwr 2023-08-15 12:17:53,416 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=1712206)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1712204)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1712207)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1712208)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1712209)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1712210)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1712211)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1712212)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1712211)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1712209)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1712212)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1712208)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1712210)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1712207)[0m double free or corruption (fasttop)
E0815 12:17:55.380199950 1687027 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
INFO flwr 2023-08-15 12:18:22,231 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 12:18:22,231 | fed_df.py:547 | Average fusion training loss : 0.021476101867854595, val accuracy : 0.7202, best val accuracy : 0.7412
INFO flwr 2023-08-15 12:18:22,233 | common.py:35 | Avg. local train loss : 4.023521738126874, train acc : 0.9018194444444446
INFO flwr 2023-08-15 12:18:24,705 | server.py:116 | fit progress: (22, 1.9184545349121094, {'server_test_acc': 0.7364}, 1922.3254509218968)
INFO flwr 2023-08-15 12:18:24,705 | server.py:163 | evaluate_round 22: no clients selected, cancel
DEBUG flwr 2023-08-15 12:18:29,054 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-15 12:19:15,873 | server.py:229 | fit_round 23 received 8 results and 0 failures
INFO flwr 2023-08-15 12:19:16,090 | fed_df.py:365 | Warm start at round 23
INFO flwr 2023-08-15 12:19:16,217 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=1786653)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1786655)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1786657)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1786659)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1786660)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1786661)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1786662)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1786663)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1786659)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1786653)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1786663)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1786661)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1786655)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1786657)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1786662)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1786660)[0m malloc_consolidate(): invalid chunk size
E0815 12:19:18.379791799 1761133 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
INFO flwr 2023-08-15 12:19:44,911 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 12:19:44,912 | fed_df.py:547 | Average fusion training loss : 0.02135044270940125, val accuracy : 0.71928, best val accuracy : 0.7452
INFO flwr 2023-08-15 12:19:44,914 | common.py:35 | Avg. local train loss : 3.9700645152479406, train acc : 0.907275
INFO flwr 2023-08-15 12:19:47,379 | server.py:116 | fit progress: (23, 1.9084729797363282, {'server_test_acc': 0.7374}, 2005.000307640992)
INFO flwr 2023-08-15 12:19:47,380 | server.py:163 | evaluate_round 23: no clients selected, cancel
DEBUG flwr 2023-08-15 12:19:51,752 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1861088)[0m double free or corruption (fasttop)
DEBUG flwr 2023-08-15 12:20:38,864 | server.py:229 | fit_round 24 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1861106)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 12:20:39,081 | fed_df.py:365 | Warm start at round 24
[2m[36m(launch_and_fit pid=1861107)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 12:20:39,207 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=1861088)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1861098)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1861091)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1861092)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1861093)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1861107)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1861108)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1861106)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1861091)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1861098)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1861092)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1861093)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1861108)[0m malloc_consolidate(): invalid chunk size
E0815 12:20:40.540829206 1909662 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0815 12:20:40.540893788 1909662 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0815 12:20:40.540903898 1909662 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0815 12:20:40.540912063 1909662 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
INFO flwr 2023-08-15 12:21:07,880 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 12:21:07,880 | fed_df.py:547 | Average fusion training loss : 0.01962755552865565, val accuracy : 0.7224799999999999, best val accuracy : 0.7468
INFO flwr 2023-08-15 12:21:07,882 | common.py:35 | Avg. local train loss : 3.984992657229304, train acc : 0.9055916666666667
INFO flwr 2023-08-15 12:21:10,375 | server.py:116 | fit progress: (24, 1.8824601440429687, {'server_test_acc': 0.7435}, 2087.995961163193)
INFO flwr 2023-08-15 12:21:10,375 | server.py:163 | evaluate_round 24: no clients selected, cancel
DEBUG flwr 2023-08-15 12:21:14,833 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1936102)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-15 12:22:02,460 | server.py:229 | fit_round 25 received 8 results and 0 failures
INFO flwr 2023-08-15 12:22:02,677 | fed_df.py:365 | Warm start at round 25
INFO flwr 2023-08-15 12:22:02,805 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=1936094)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1936099)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1936094)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1936098)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1936100)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1936101)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1936097)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1936099)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1936102)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1936103)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1936101)[0m double free or corruption (fasttop)
E0815 12:22:03.396262481 1909784 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1936097)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1936098)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1936103)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1936100)[0m malloc_consolidate(): invalid chunk size
E0815 12:22:30.499671050 1611952 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
INFO flwr 2023-08-15 12:22:31,587 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 12:22:31,587 | fed_df.py:547 | Average fusion training loss : 0.017948784897103907, val accuracy : 0.72884, best val accuracy : 0.745
INFO flwr 2023-08-15 12:22:31,589 | common.py:35 | Avg. local train loss : 3.9602571621537206, train acc : 0.9084138888888889
INFO flwr 2023-08-15 12:22:34,085 | server.py:116 | fit progress: (25, 1.8911088806152343, {'server_test_acc': 0.7462}, 2171.7057482828386)
INFO flwr 2023-08-15 12:22:34,085 | server.py:163 | evaluate_round 25: no clients selected, cancel
DEBUG flwr 2023-08-15 12:22:38,525 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2010378)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2010376)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-15 12:23:25,760 | server.py:229 | fit_round 26 received 8 results and 0 failures
INFO flwr 2023-08-15 12:23:25,977 | fed_df.py:365 | Warm start at round 26
INFO flwr 2023-08-15 12:23:26,105 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=2010376)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2010378)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2010380)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2010381)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2010382)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2010384)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2010383)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2010385)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2010385)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2010380)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2010384)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2010383)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2010381)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2010382)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 12:23:54,882 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 12:23:54,883 | fed_df.py:547 | Average fusion training loss : 0.01801992467418313, val accuracy : 0.7325599999999999, best val accuracy : 0.7552
INFO flwr 2023-08-15 12:23:54,885 | common.py:35 | Avg. local train loss : 3.9329824306070806, train acc : 0.9112444444444444
INFO flwr 2023-08-15 12:23:57,349 | server.py:116 | fit progress: (26, 1.8451470581054688, {'server_test_acc': 0.7538}, 2254.9701708760113)
INFO flwr 2023-08-15 12:23:57,349 | server.py:163 | evaluate_round 26: no clients selected, cancel
DEBUG flwr 2023-08-15 12:24:01,758 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2085522)[0m double free or corruption (fasttop)
DEBUG flwr 2023-08-15 12:24:48,871 | server.py:229 | fit_round 27 received 8 results and 0 failures
INFO flwr 2023-08-15 12:24:49,087 | fed_df.py:365 | Warm start at round 27
[2m[36m(launch_and_fit pid=2085520)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 12:24:49,214 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=2085522)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2085520)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2085518)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2085524)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2085523)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2085525)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2085527)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2085526)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2085525)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2085523)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2085526)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2085527)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2085518)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2085524)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 12:25:18,040 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 12:25:18,041 | fed_df.py:547 | Average fusion training loss : 0.015644652095623313, val accuracy : 0.73676, best val accuracy : 0.7556
INFO flwr 2023-08-15 12:25:18,043 | common.py:35 | Avg. local train loss : 3.8862395569682127, train acc : 0.915775
INFO flwr 2023-08-15 12:25:20,541 | server.py:116 | fit progress: (27, 1.8674775390625, {'server_test_acc': 0.754}, 2338.162257305812)
INFO flwr 2023-08-15 12:25:20,542 | server.py:163 | evaluate_round 27: no clients selected, cancel
DEBUG flwr 2023-08-15 12:25:24,971 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2159889)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-15 12:26:11,925 | server.py:229 | fit_round 28 received 8 results and 0 failures
INFO flwr 2023-08-15 12:26:12,146 | fed_df.py:365 | Warm start at round 28
[2m[36m(launch_and_fit pid=2159895)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 12:26:12,271 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=2159889)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2159892)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2159894)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2159896)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2159898)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2159895)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2159897)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2159893)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2159892)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2159893)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2159894)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2159898)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2159897)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2159896)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 12:26:41,066 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 12:26:41,066 | fed_df.py:547 | Average fusion training loss : 0.015200525190681219, val accuracy : 0.7376799999999999, best val accuracy : 0.7548
INFO flwr 2023-08-15 12:26:41,068 | common.py:35 | Avg. local train loss : 3.814815654978156, train acc : 0.9221499999999999
INFO flwr 2023-08-15 12:26:43,526 | server.py:116 | fit progress: (28, 1.831419107055664, {'server_test_acc': 0.7543}, 2421.146987386979)
INFO flwr 2023-08-15 12:26:43,526 | server.py:163 | evaluate_round 28: no clients selected, cancel
DEBUG flwr 2023-08-15 12:26:47,976 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2250606)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-15 12:27:35,486 | server.py:229 | fit_round 29 received 8 results and 0 failures
INFO flwr 2023-08-15 12:27:35,704 | fed_df.py:365 | Warm start at round 29
[2m[36m(launch_and_fit pid=2250609)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 12:27:35,831 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=2250606)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2250609)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2250611)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2250612)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2250613)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2250616)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2250614)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2250615)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2250616)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2250614)[0m malloc_consolidate(): invalid chunk size
E0815 12:27:37.037995494 2216143 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2250611)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2250612)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2250615)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2250613)[0m double free or corruption (fasttop)
INFO flwr 2023-08-15 12:28:04,667 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 12:28:04,668 | fed_df.py:547 | Average fusion training loss : 0.0157150291223079, val accuracy : 0.73928, best val accuracy : 0.7532
INFO flwr 2023-08-15 12:28:04,670 | common.py:35 | Avg. local train loss : 3.8085421927273275, train acc : 0.9223305555555555
INFO flwr 2023-08-15 12:28:07,146 | server.py:116 | fit progress: (29, 1.808685433959961, {'server_test_acc': 0.7558}, 2504.7665205900557)
INFO flwr 2023-08-15 12:28:07,146 | server.py:163 | evaluate_round 29: no clients selected, cancel
DEBUG flwr 2023-08-15 12:28:11,547 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2350265)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2350266)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-15 12:28:58,720 | server.py:229 | fit_round 30 received 8 results and 0 failures
INFO flwr 2023-08-15 12:28:58,936 | fed_df.py:365 | Warm start at round 30
INFO flwr 2023-08-15 12:28:59,062 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=2350266)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2350265)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2350271)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2350277)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2350270)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2350298)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2350299)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2350272)[0m Fitting Client 19
E0815 12:28:59.425416956 2396507 chttp2_transport.cc:1079]             ipv4:145.136.62.26:43250: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2350270)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2350272)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2350271)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2350299)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2350298)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-15 12:29:27,922 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-15 12:29:27,923 | fed_df.py:547 | Average fusion training loss : 0.014754132565110921, val accuracy : 0.74712, best val accuracy : 0.7592
INFO flwr 2023-08-15 12:29:27,925 | common.py:35 | Avg. local train loss : 3.8074679289013145, train acc : 0.9217333333333333
INFO flwr 2023-08-15 12:29:30,568 | server.py:116 | fit progress: (30, 1.815140316772461, {'server_test_acc': 0.7612}, 2588.1891851429828)
INFO flwr 2023-08-15 12:29:30,569 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-08-15 12:29:30,569 | server.py:144 | FL finished in 2588.1895402260125
INFO flwr 2023-08-15 12:29:30,569 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-08-15 12:29:30,570 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-08-15 12:29:30,570 | app.py:204 | app_fit: losses_centralized [(0, 2.319245477294922), (1, 1.5742186492919923), (2, 1.4256148132324218), (3, 1.389585073852539), (4, 1.4119577026367187), (5, 1.5404819366455078), (6, 1.6577753784179687), (7, 1.7800866424560546), (8, 1.9084637573242187), (9, 1.863247625732422), (10, 1.9324432495117188), (11, 1.9391066467285156), (12, 1.9729612243652344), (13, 1.9729612243652344), (14, 1.968801336669922), (15, 1.9676705139160156), (16, 1.9798482482910156), (17, 1.9691829284667968), (18, 1.9102215270996095), (19, 1.9394993591308594), (20, 1.9220422607421874), (21, 1.9068935119628907), (22, 1.9184545349121094), (23, 1.9084729797363282), (24, 1.8824601440429687), (25, 1.8911088806152343), (26, 1.8451470581054688), (27, 1.8674775390625), (28, 1.831419107055664), (29, 1.808685433959961), (30, 1.815140316772461)]
INFO flwr 2023-08-15 12:29:30,570 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.0811), (1, 0.453), (2, 0.5603), (3, 0.6274), (4, 0.6726), (5, 0.6824), (6, 0.6924), (7, 0.692), (8, 0.6953), (9, 0.706), (10, 0.7035), (11, 0.691), (12, 0.6915), (13, 0.6915), (14, 0.7066), (15, 0.708), (16, 0.7085), (17, 0.7058), (18, 0.7262), (19, 0.7303), (20, 0.7232), (21, 0.7299), (22, 0.7364), (23, 0.7374), (24, 0.7435), (25, 0.7462), (26, 0.7538), (27, 0.754), (28, 0.7543), (29, 0.7558), (30, 0.7612)]}
double free or corruption (fasttop)
srun: error: gcn26: task 0: Aborted
srun: Terminating StepId=3339013.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3339013
Cluster: snellius
User/Group: sunnys/sunnys
State: COMPLETED (exit code 0)
Nodes: 1
Cores per node: 18
CPU Utilized: 01:44:37
CPU Efficiency: 13.03% of 13:23:06 core-walltime
Job Wall-clock time: 00:44:37
Memory Utilized: 56.45 GB
Memory Efficiency: 47.04% of 120.00 GB
