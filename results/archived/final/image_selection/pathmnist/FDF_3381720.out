-----BEGIN-----
-----SETTINGS-----
TOTAL CROPS:100000
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:pathmnist
PARTITION_ALPHA:100.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:20
LOCAL_LR:0.01
DISTILL_BATCH_SIZE:512
SERVER_LR:0.005
SERVER_STEPS:250
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
USE_ADAPTIVE_LR_ROUND:False
SEED:42
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:multi_ct_scan.jpg
DISTILL_DATASET:organamnist
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:10000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:5
KMEANS_N_CLUSTER:11
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
KMEANS_BALANCING:0.1
CONFIDENCE_THRESHOLD:0.5
CONFIDENCE_STRATEGY:top
CONFIDENCE_ADAPTIVE:False
CONFIDENCE_MAX_THRESH:0.5
CLIPPING_FACTOR:2.5
FEDPROX_FACTOR:0.0
FEDPROX_ADAPTIVE:False
USE_CLIPPING:True
USE_ENTROPY:True
USE_KMEANS:True
USE_FEDPROX:False
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=100000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/multi_ct_scan.jpg', targetpath='/scratch-local/sunnys.3381720/1692282864_466702798', seed=42, img_per_thread=5555)
will save 100000 patches in /scratch-local/sunnys.3381720/1692282864_466702798/single_img_crops/crops
100000 took 0.74min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-08-17 16:35:24,313 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-08-17 16:35:24,314 | simulate.py:55 | Reading args from argument parser
Downloading https://zenodo.org/record/6496656/files/pathmnist.npz?download=1 to /scratch-local/sunnys.3381720/1692282864_466702798/pathmnist.npz
Generating unified pathmnist dataset
Class histogram for 0-th partition (alpha=100.0, 9 classes): [481 532 428 497 477 533 503 491 558]
INFO flwr 2023-08-17 16:40:04,272 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-08-17 16:40:07,022	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8265 [39m[22m
INFO flwr 2023-08-17 16:40:08,051 | app.py:179 | Flower VCE: Ray initialized with resources: {'memory': 103079215104.0, 'GPU': 1.0, 'object_store_memory': 61847529062.0, 'node:145.136.62.4': 1.0, 'accelerator_type:A100': 1.0, 'CPU': 18.0}
INFO flwr 2023-08-17 16:40:08,051 | server.py:86 | Initializing global parameters
INFO flwr 2023-08-17 16:40:08,051 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-08-17 16:40:08,051 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-08-17 16:40:18,801 | server.py:91 | initial parameters (loss, other metrics): 2.1845225108367154, {'server_test_acc': 0.11030640668523677}
INFO flwr 2023-08-17 16:40:18,801 | server.py:101 | FL starting
DEBUG flwr 2023-08-17 16:40:27,848 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-17 16:41:22,920 | server.py:229 | fit_round 1 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=710223)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 16:41:23,133 | fed_df.py:365 | Warm start at round 1
INFO flwr 2023-08-17 16:41:23,243 | fed_df.py:463 | Performing server side distillation training...
[W] [16:40:25.092814] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=710224)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=710229)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=710228)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=710225)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=710222)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=710223)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=710226)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=710227)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=710229)[0m malloc_consolidate(): invalid chunk size
E0817 16:41:23.802717582  707185 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
[2m[36m(launch_and_fit pid=710226)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=710225)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=710222)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=710227)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=710224)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=710228)[0m double free or corruption (fasttop)
E0817 16:41:25.282493696  757933 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
INFO flwr 2023-08-17 16:41:56,095 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 16:41:56,096 | fed_df.py:547 | Average fusion training loss : 0.08488213688135147, val accuracy : 0.1687194308581592, best val accuracy : 0.2025344597598933
INFO flwr 2023-08-17 16:41:56,097 | common.py:35 | Avg. local train loss : 8.613698894158006, train acc : 0.694425925925926
INFO flwr 2023-08-17 16:41:58,513 | server.py:116 | fit progress: (1, 2.3494930681743993, {'server_test_acc': 0.2789693593314763}, 99.7117041258607)
INFO flwr 2023-08-17 16:41:58,513 | server.py:163 | evaluate_round 1: no clients selected, cancel
DEBUG flwr 2023-08-17 16:42:07,826 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=785233)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=785235)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=785239)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-17 16:42:59,806 | server.py:229 | fit_round 2 received 8 results and 0 failures
INFO flwr 2023-08-17 16:43:00,087 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=785233)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=785239)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=785235)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=785240)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=785241)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=785243)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=785242)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=785244)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=785243)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=785240)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=785242)[0m double free or corruption (fasttop)
E0817 16:43:00.886312609  759077 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
[2m[36m(launch_and_fit pid=785244)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=785241)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 16:43:35,054 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 16:43:35,054 | fed_df.py:547 | Average fusion training loss : 0.051750118479132655, val accuracy : 0.21705202312138727, best val accuracy : 0.2632281013783904
INFO flwr 2023-08-17 16:43:35,056 | common.py:35 | Avg. local train loss : 7.579208117350936, train acc : 0.7612808641975309
INFO flwr 2023-08-17 16:43:37,660 | server.py:116 | fit progress: (2, 6.1069538020822, {'server_test_acc': 0.29693593314763234}, 198.85883415606804)
INFO flwr 2023-08-17 16:43:37,660 | server.py:163 | evaluate_round 2: no clients selected, cancel
DEBUG flwr 2023-08-17 16:43:47,192 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=859837)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=859839)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=859841)[0m double free or corruption (fasttop)
DEBUG flwr 2023-08-17 16:44:40,114 | server.py:229 | fit_round 3 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=859842)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=859843)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 16:44:40,383 | fed_df.py:463 | Performing server side distillation training...
[W] [16:43:44.505262] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=859837)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=859839)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=859841)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=859842)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=859843)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=859845)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=859840)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=859844)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=859845)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=859844)[0m malloc_consolidate(): invalid chunk size
E0817 16:44:41.166782904  907961 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
[2m[36m(launch_and_fit pid=859840)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 16:45:15,663 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 16:45:15,663 | fed_df.py:547 | Average fusion training loss : 0.050276022426784035, val accuracy : 0.2654735437972432, best val accuracy : 0.2861271676300578
INFO flwr 2023-08-17 16:45:15,664 | common.py:35 | Avg. local train loss : 7.950796165689827, train acc : 0.7363981481481483
INFO flwr 2023-08-17 16:45:18,256 | server.py:116 | fit progress: (3, 10.243495286606812, {'server_test_acc': 0.28064066852367686}, 299.4549609038513)
INFO flwr 2023-08-17 16:45:18,257 | server.py:163 | evaluate_round 3: no clients selected, cancel
DEBUG flwr 2023-08-17 16:45:27,849 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=934571)[0m double free or corruption (fasttop)
DEBUG flwr 2023-08-17 16:46:19,904 | server.py:229 | fit_round 4 received 8 results and 0 failures
INFO flwr 2023-08-17 16:46:20,201 | fed_df.py:463 | Performing server side distillation training...
[W] [16:45:25.146474] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=934572)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=934571)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=934573)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=934574)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=934577)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=934578)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=934575)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=934576)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=934577)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=934575)[0m malloc_consolidate(): invalid chunk size
E0817 16:46:21.071081814  982675 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
[2m[36m(launch_and_fit pid=934572)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=934573)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=934576)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=934574)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=934578)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 16:46:54,877 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 16:46:54,877 | fed_df.py:547 | Average fusion training loss : 0.13960189253091812, val accuracy : 0.2648955091151623, best val accuracy : 0.28345931525122275
INFO flwr 2023-08-17 16:46:54,878 | common.py:35 | Avg. local train loss : 8.071942401304842, train acc : 0.7297638888888889
INFO flwr 2023-08-17 16:46:57,465 | server.py:116 | fit progress: (4, 4.7759233788195425, {'server_test_acc': 0.388857938718663}, 398.66330252285115)
INFO flwr 2023-08-17 16:46:57,465 | server.py:163 | evaluate_round 4: no clients selected, cancel
DEBUG flwr 2023-08-17 16:47:07,049 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1037179)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1036965)[0m double free or corruption (fasttop)
DEBUG flwr 2023-08-17 16:47:59,540 | server.py:229 | fit_round 5 received 8 results and 0 failures
INFO flwr 2023-08-17 16:47:59,752 | fed_df.py:365 | Warm start at round 5
INFO flwr 2023-08-17 16:47:59,864 | fed_df.py:463 | Performing server side distillation training...
[W] [16:47:04.388483] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1037016)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1037067)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1036965)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1037179)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1037178)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1037166)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1037096)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1037174)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1037178)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1037067)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1037174)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1037166)[0m malloc_consolidate(): invalid chunk size
E0817 16:48:01.446536480 1103776 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
[2m[36m(launch_and_fit pid=1037016)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1037096)[0m double free or corruption (fasttop)
INFO flwr 2023-08-17 16:48:34,447 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 16:48:34,447 | fed_df.py:547 | Average fusion training loss : 0.18667918622493743, val accuracy : 0.14468652734548687, best val accuracy : 0.16874166296131615
INFO flwr 2023-08-17 16:48:34,449 | common.py:35 | Avg. local train loss : 8.157645635679364, train acc : 0.7269043209876542
INFO flwr 2023-08-17 16:48:37,046 | server.py:116 | fit progress: (5, 4.190863098208287, {'server_test_acc': 0.15069637883008358}, 498.24493206688203)
INFO flwr 2023-08-17 16:48:37,047 | server.py:163 | evaluate_round 5: no clients selected, cancel
DEBUG flwr 2023-08-17 16:48:46,665 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1130156)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1130160)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-17 16:49:38,673 | server.py:229 | fit_round 6 received 8 results and 0 failures
INFO flwr 2023-08-17 16:49:38,972 | fed_df.py:463 | Performing server side distillation training...
[W] [16:48:43.959236] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1130156)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1130160)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1130161)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1130162)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1130163)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1130166)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1130164)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1130165)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1130162)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1130164)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1130163)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1130166)[0m double free or corruption (fasttop)
E0817 16:49:40.087383345 1178853 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
[2m[36m(launch_and_fit pid=1130165)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1130161)[0m double free or corruption (fasttop)
INFO flwr 2023-08-17 16:50:15,824 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 16:50:15,825 | fed_df.py:547 | Average fusion training loss : 0.04860328407585621, val accuracy : 0.155380168963984, best val accuracy : 0.1956425077812361
INFO flwr 2023-08-17 16:50:15,826 | common.py:35 | Avg. local train loss : 7.067906546592712, train acc : 0.7912870370370371
INFO flwr 2023-08-17 16:50:18,449 | server.py:116 | fit progress: (6, 4.39562796483797, {'server_test_acc': 0.21434540389972145}, 599.6478167138994)
INFO flwr 2023-08-17 16:50:18,449 | server.py:163 | evaluate_round 6: no clients selected, cancel
DEBUG flwr 2023-08-17 16:50:28,116 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1205156)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1205161)[0m double free or corruption (fasttop)
DEBUG flwr 2023-08-17 16:51:20,218 | server.py:229 | fit_round 7 received 8 results and 0 failures
INFO flwr 2023-08-17 16:51:20,485 | fed_df.py:463 | Performing server side distillation training...
[W] [16:50:25.377224] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1205156)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1205153)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1205157)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1205154)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1205159)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1205161)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1205158)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1205160)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1205158)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1205154)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1205160)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1205153)[0m malloc_consolidate(): invalid chunk size
E0817 16:51:21.897876399 1253661 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
[2m[36m(launch_and_fit pid=1205157)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1205159)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 16:51:56,361 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 16:51:56,361 | fed_df.py:547 | Average fusion training loss : 0.03130793268233538, val accuracy : 0.28603823921743, best val accuracy : 0.29079590929301913
INFO flwr 2023-08-17 16:51:56,363 | common.py:35 | Avg. local train loss : 7.472323861718178, train acc : 0.7687561728395063
INFO flwr 2023-08-17 16:51:58,998 | server.py:116 | fit progress: (7, 5.213577689168181, {'server_test_acc': 0.3757660167130919}, 700.196516952943)
INFO flwr 2023-08-17 16:51:58,998 | server.py:163 | evaluate_round 7: no clients selected, cancel
DEBUG flwr 2023-08-17 16:52:08,595 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1280512)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1280517)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-17 16:53:00,348 | server.py:229 | fit_round 8 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1280522)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 16:53:00,619 | fed_df.py:463 | Performing server side distillation training...
[W] [16:52:05.885783] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1280512)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1280517)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1280519)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1280520)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1280522)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1280523)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1280515)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1280521)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1280523)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1280515)[0m malloc_consolidate(): invalid chunk size
E0817 16:53:01.612415145 1328322 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
[2m[36m(launch_and_fit pid=1280519)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1280521)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1280520)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 16:53:36,693 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 16:53:36,693 | fed_df.py:547 | Average fusion training loss : 0.08978931617736817, val accuracy : 0.24319697643397067, best val accuracy : 0.266118274788795
INFO flwr 2023-08-17 16:53:36,695 | common.py:35 | Avg. local train loss : 7.517628386989236, train acc : 0.7669506172839505
INFO flwr 2023-08-17 16:53:39,320 | server.py:116 | fit progress: (8, 2.829352729499838, {'server_test_acc': 0.2318941504178273}, 800.5186152120586)
INFO flwr 2023-08-17 16:53:39,320 | server.py:163 | evaluate_round 8: no clients selected, cancel
DEBUG flwr 2023-08-17 16:53:48,907 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1355165)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-17 16:54:40,987 | server.py:229 | fit_round 9 received 8 results and 0 failures
INFO flwr 2023-08-17 16:54:41,309 | fed_df.py:463 | Performing server side distillation training...
[W] [16:53:46.202607] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1355165)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1355166)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1355169)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1355171)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1355174)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1355173)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1355172)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1355175)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1355174)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1355175)[0m double free or corruption (fasttop)
E0817 16:54:42.688694785 1403379 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
[2m[36m(launch_and_fit pid=1355171)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1355173)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1355172)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1355169)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1355166)[0m double free or corruption (fasttop)
INFO flwr 2023-08-17 16:55:16,569 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 16:55:16,570 | fed_df.py:547 | Average fusion training loss : 0.055026685521006584, val accuracy : 0.2539795464650956, best val accuracy : 0.2775678079146287
INFO flwr 2023-08-17 16:55:16,571 | common.py:35 | Avg. local train loss : 7.824229001253844, train acc : 0.7509922839506173
INFO flwr 2023-08-17 16:55:19,163 | server.py:116 | fit progress: (9, 7.0184512040077145, {'server_test_acc': 0.27103064066852367}, 900.3620185139589)
INFO flwr 2023-08-17 16:55:19,164 | server.py:163 | evaluate_round 9: no clients selected, cancel
DEBUG flwr 2023-08-17 16:55:28,694 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1429876)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1429882)[0m double free or corruption (fasttop)
DEBUG flwr 2023-08-17 16:56:20,937 | server.py:229 | fit_round 10 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1429879)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 16:56:21,155 | fed_df.py:365 | Warm start at round 10
[2m[36m(launch_and_fit pid=1429883)[0m double free or corruption (fasttop)
INFO flwr 2023-08-17 16:56:21,267 | fed_df.py:463 | Performing server side distillation training...
[W] [16:55:26.021464] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1429876)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1429875)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1429881)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1429884)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1429879)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1429882)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1429883)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1429885)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1429881)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1429875)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1429885)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1429884)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 16:57:02,529 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 16:57:02,529 | fed_df.py:547 | Average fusion training loss : 0.08640182285010814, val accuracy : 0.2065140062249889, best val accuracy : 0.27278790573588263
INFO flwr 2023-08-17 16:57:02,531 | common.py:35 | Avg. local train loss : 7.808081430569291, train acc : 0.7516496913580247
INFO flwr 2023-08-17 16:57:05,198 | server.py:116 | fit progress: (10, 9.00832304675599, {'server_test_acc': 0.40459610027855153}, 1006.3962086508982)
INFO flwr 2023-08-17 16:57:05,198 | server.py:163 | evaluate_round 10: no clients selected, cancel
DEBUG flwr 2023-08-17 16:57:14,709 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1504866)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1504868)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-17 16:58:06,801 | server.py:229 | fit_round 11 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1504874)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 16:58:07,069 | fed_df.py:463 | Performing server side distillation training...
[W] [16:57:12.011101] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1504866)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1504868)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1504869)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1504871)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1504874)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1504873)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1504870)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1504872)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1504869)[0m double free or corruption (fasttop)
E0817 16:58:07.871926294 1403516 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
[2m[36m(launch_and_fit pid=1504872)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1504873)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1504871)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1504870)[0m double free or corruption (fasttop)
INFO flwr 2023-08-17 16:58:43,204 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 16:58:43,204 | fed_df.py:547 | Average fusion training loss : 0.05312650556862354, val accuracy : 0.2028012449977768, best val accuracy : 0.2137616718541574
INFO flwr 2023-08-17 16:58:43,205 | common.py:35 | Avg. local train loss : 6.428298265114428, train acc : 0.8328966049382716
INFO flwr 2023-08-17 16:58:45,961 | server.py:116 | fit progress: (11, 8.433987224865756, {'server_test_acc': 0.23314763231197771}, 1107.1598105279263)
INFO flwr 2023-08-17 16:58:45,962 | server.py:163 | evaluate_round 11: no clients selected, cancel
DEBUG flwr 2023-08-17 16:58:55,532 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1580046)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1580050)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-17 16:59:47,672 | server.py:229 | fit_round 12 received 8 results and 0 failures
INFO flwr 2023-08-17 16:59:47,941 | fed_df.py:463 | Performing server side distillation training...
[W] [16:58:52.823431] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1580046)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1580049)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1580051)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1580050)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1580048)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1580053)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1580054)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1580052)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1580049)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1580051)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1580053)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1580048)[0m double free or corruption (fasttop)
E0817 16:59:48.835192895 1553035 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
[2m[36m(launch_and_fit pid=1580052)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1580054)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 17:00:24,187 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 17:00:24,188 | fed_df.py:547 | Average fusion training loss : 0.16896025931835174, val accuracy : 0.30157847932414406, best val accuracy : 0.302690084481992
INFO flwr 2023-08-17 17:00:24,190 | common.py:35 | Avg. local train loss : 6.869643598794937, train acc : 0.8085771604938272
INFO flwr 2023-08-17 17:00:26,815 | server.py:116 | fit progress: (12, 4.371730173265037, {'server_test_acc': 0.38091922005571033}, 1208.0139797918964)
INFO flwr 2023-08-17 17:00:26,816 | server.py:163 | evaluate_round 12: no clients selected, cancel
DEBUG flwr 2023-08-17 17:00:36,348 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1654828)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-17 17:01:30,050 | server.py:229 | fit_round 13 received 8 results and 0 failures
INFO flwr 2023-08-17 17:01:30,321 | fed_df.py:463 | Performing server side distillation training...
[W] [17:00:33.666972] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1654828)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1654833)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1654836)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1654830)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1654831)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1654835)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1654834)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1654832)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1654834)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1654836)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1654832)[0m malloc_consolidate(): invalid chunk size
E0817 17:01:31.402627536 1628020 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
[2m[36m(launch_and_fit pid=1654830)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1654833)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1654831)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1654835)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 17:02:06,464 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 17:02:06,464 | fed_df.py:547 | Average fusion training loss : 0.07251421593129635, val accuracy : 0.27292129835482437, best val accuracy : 0.3437083148065807
INFO flwr 2023-08-17 17:02:06,466 | common.py:35 | Avg. local train loss : 6.730027228593827, train acc : 0.8172592592592592
INFO flwr 2023-08-17 17:02:09,100 | server.py:116 | fit progress: (13, 3.7423139444632785, {'server_test_acc': 0.4}, 1310.2989696280565)
INFO flwr 2023-08-17 17:02:09,101 | server.py:163 | evaluate_round 13: no clients selected, cancel
DEBUG flwr 2023-08-17 17:02:18,594 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1733097)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-17 17:03:10,395 | server.py:229 | fit_round 14 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1733153)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 17:03:10,670 | fed_df.py:463 | Performing server side distillation training...
[W] [17:02:15.874478] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1733097)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1733100)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1733102)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1733153)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1733127)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1733099)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1733210)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1733209)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1733102)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1733099)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1733210)[0m malloc_consolidate(): invalid chunk size
E0817 17:03:11.578085634 1806256 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
[2m[36m(launch_and_fit pid=1733100)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1733209)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1733127)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 17:03:47,362 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 17:03:47,362 | fed_df.py:547 | Average fusion training loss : 0.13404610967636107, val accuracy : 0.29232992441084926, best val accuracy : 0.29502000889284125
INFO flwr 2023-08-17 17:03:47,363 | common.py:35 | Avg. local train loss : 6.7346709564328195, train acc : 0.8141913580246912
INFO flwr 2023-08-17 17:03:50,002 | server.py:116 | fit progress: (14, 7.852818339780844, {'server_test_acc': 0.3573816155988858}, 1411.2008494129404)
INFO flwr 2023-08-17 17:03:50,003 | server.py:163 | evaluate_round 14: no clients selected, cancel
DEBUG flwr 2023-08-17 17:03:59,725 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1850172)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-17 17:04:53,708 | server.py:229 | fit_round 15 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1850163)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 17:04:53,923 | fed_df.py:365 | Warm start at round 15
INFO flwr 2023-08-17 17:04:54,033 | fed_df.py:463 | Performing server side distillation training...
[W] [17:03:56.902794] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1850170)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1850165)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1850171)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1850163)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1850166)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1850172)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1850169)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1850168)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1850165)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1850169)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1850168)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1850170)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1850166)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1850171)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 17:05:29,897 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 17:05:29,898 | fed_df.py:547 | Average fusion training loss : 0.17030344516038895, val accuracy : 0.2879724321920854, best val accuracy : 0.29824366385060025
INFO flwr 2023-08-17 17:05:29,899 | common.py:35 | Avg. local train loss : 6.673754442483188, train acc : 0.8198549382716048
INFO flwr 2023-08-17 17:05:32,545 | server.py:116 | fit progress: (15, 6.813712951532645, {'server_test_acc': 0.3955431754874652}, 1513.743268755963)
INFO flwr 2023-08-17 17:05:32,545 | server.py:163 | evaluate_round 15: no clients selected, cancel
DEBUG flwr 2023-08-17 17:05:42,102 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1925295)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1925301)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-17 17:06:33,904 | server.py:229 | fit_round 16 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1925298)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 17:06:34,173 | fed_df.py:463 | Performing server side distillation training...
[W] [17:05:39.398001] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1925295)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1925298)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1925296)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1925301)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1925300)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1925297)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1925299)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1925302)[0m Fitting Client 18
E0817 17:06:34.570331200 1972158 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
[2m[36m(launch_and_fit pid=1925296)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1925302)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1925300)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1925297)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1925299)[0m double free or corruption (fasttop)
INFO flwr 2023-08-17 17:07:10,393 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 17:07:10,394 | fed_df.py:547 | Average fusion training loss : 0.2276723301410675, val accuracy : 0.24339706536238329, best val accuracy : 0.2691196087149844
INFO flwr 2023-08-17 17:07:10,395 | common.py:35 | Avg. local train loss : 5.829012890905141, train acc : 0.8698503086419754
INFO flwr 2023-08-17 17:07:13,042 | server.py:116 | fit progress: (16, 11.183932444112878, {'server_test_acc': 0.32047353760445685}, 1614.2410249079112)
INFO flwr 2023-08-17 17:07:13,043 | server.py:163 | evaluate_round 16: no clients selected, cancel
DEBUG flwr 2023-08-17 17:07:22,787 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-17 17:08:14,468 | server.py:229 | fit_round 17 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1999911)[0m double free or corruption (fasttop)
INFO flwr 2023-08-17 17:08:14,740 | fed_df.py:463 | Performing server side distillation training...
[W] [17:07:20.079734] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1999911)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1999913)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1999915)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1999916)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1999917)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1999920)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1999918)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1999919)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1999915)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1999920)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1999918)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1999916)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1999917)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1999919)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1999913)[0m double free or corruption (fasttop)
INFO flwr 2023-08-17 17:08:51,109 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 17:08:51,110 | fed_df.py:547 | Average fusion training loss : 0.16465497064590454, val accuracy : 0.2763672743441529, best val accuracy : 0.27934637616718544
INFO flwr 2023-08-17 17:08:51,111 | common.py:35 | Avg. local train loss : 6.325877382233739, train acc : 0.8396512345679011
INFO flwr 2023-08-17 17:08:53,755 | server.py:116 | fit progress: (17, 8.092143434402338, {'server_test_acc': 0.40766016713091924}, 1714.9533304709475)
INFO flwr 2023-08-17 17:08:53,755 | server.py:163 | evaluate_round 17: no clients selected, cancel
DEBUG flwr 2023-08-17 17:09:03,344 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2074995)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2075002)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-17 17:09:55,971 | server.py:229 | fit_round 18 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2075005)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 17:09:56,244 | fed_df.py:463 | Performing server side distillation training...
[W] [17:09:00.642792] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2074995)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2075003)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2075004)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2075005)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2075007)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2075006)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2074997)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2075002)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2075004)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2075003)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2075006)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2075007)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2074997)[0m double free or corruption (fasttop)
INFO flwr 2023-08-17 17:10:32,504 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 17:10:32,505 | fed_df.py:547 | Average fusion training loss : 0.17620155465602874, val accuracy : 0.27803468208092486, best val accuracy : 0.2843485993775011
INFO flwr 2023-08-17 17:10:32,507 | common.py:35 | Avg. local train loss : 6.335441130027174, train acc : 0.8413456790123458
INFO flwr 2023-08-17 17:10:35,125 | server.py:116 | fit progress: (18, 6.118696638867052, {'server_test_acc': 0.3754874651810585}, 1816.3235048800707)
INFO flwr 2023-08-17 17:10:35,125 | server.py:163 | evaluate_round 18: no clients selected, cancel
DEBUG flwr 2023-08-17 17:10:44,621 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2149715)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2149723)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2149719)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2149718)[0m double free or corruption (fasttop)
DEBUG flwr 2023-08-17 17:11:36,958 | server.py:229 | fit_round 19 received 8 results and 0 failures
INFO flwr 2023-08-17 17:11:37,227 | fed_df.py:463 | Performing server side distillation training...
[W] [17:10:41.929609] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2149715)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2149720)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2149719)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2149724)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2149722)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2149723)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2149718)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2149721)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2149720)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2149724)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2149722)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2149721)[0m double free or corruption (fasttop)
E0817 17:11:52.143276901 1972428 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
INFO flwr 2023-08-17 17:12:13,433 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 17:12:13,434 | fed_df.py:547 | Average fusion training loss : 0.15891729795932769, val accuracy : 0.2514006224988884, best val accuracy : 0.26122721209426414
INFO flwr 2023-08-17 17:12:13,435 | common.py:35 | Avg. local train loss : 6.537516056746245, train acc : 0.8310185185185186
INFO flwr 2023-08-17 17:12:16,261 | server.py:116 | fit progress: (19, 9.35655974810502, {'server_test_acc': 0.3842618384401114}, 1917.4591331989504)
INFO flwr 2023-08-17 17:12:16,261 | server.py:163 | evaluate_round 19: no clients selected, cancel
DEBUG flwr 2023-08-17 17:12:25,881 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2224417)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-17 17:13:17,565 | server.py:229 | fit_round 20 received 8 results and 0 failures
INFO flwr 2023-08-17 17:13:17,779 | fed_df.py:365 | Warm start at round 20
INFO flwr 2023-08-17 17:13:17,946 | fed_df.py:463 | Performing server side distillation training...
[W] [17:12:23.158485] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2224417)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2224426)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2224418)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2224428)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2224429)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2224432)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2224431)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2224430)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2224430)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2224426)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2224432)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2224429)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2224428)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2224418)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2224431)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 17:13:53,965 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 17:13:53,965 | fed_df.py:547 | Average fusion training loss : 0.2866849885582924, val accuracy : 0.22863494886616276, best val accuracy : 0.2849044019564251
INFO flwr 2023-08-17 17:13:53,967 | common.py:35 | Avg. local train loss : 6.926596465706827, train acc : 0.807395061728395
INFO flwr 2023-08-17 17:13:56,604 | server.py:116 | fit progress: (20, 2.5238882893639354, {'server_test_acc': 0.1798050139275766}, 2017.8026839930099)
INFO flwr 2023-08-17 17:13:56,604 | server.py:163 | evaluate_round 20: no clients selected, cancel
DEBUG flwr 2023-08-17 17:14:06,266 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-17 17:14:58,073 | server.py:229 | fit_round 21 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2299479)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2299481)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2299474)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 17:14:58,346 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=2299476)[0m malloc_consolidate(): invalid chunk size
[W] [17:14:03.561484] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2299474)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2299479)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2299476)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2299481)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2299484)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2299483)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2299482)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2299485)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2299485)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2299484)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2299483)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2299482)[0m malloc_consolidate(): invalid chunk size
E0817 17:15:03.920284814 2207381 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
INFO flwr 2023-08-17 17:15:34,685 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 17:15:34,686 | fed_df.py:547 | Average fusion training loss : 0.397304505109787, val accuracy : 0.21080480213428193, best val accuracy : 0.21598488216985326
INFO flwr 2023-08-17 17:15:34,687 | common.py:35 | Avg. local train loss : 5.7204556204378605, train acc : 0.8764151234567901
INFO flwr 2023-08-17 17:15:37,331 | server.py:116 | fit progress: (21, 9.143571667684485, {'server_test_acc': 0.27841225626740945}, 2118.5297135398723)
INFO flwr 2023-08-17 17:15:37,331 | server.py:163 | evaluate_round 21: no clients selected, cancel
DEBUG flwr 2023-08-17 17:15:46,791 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2374258)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2374262)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2374275)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-17 17:16:39,100 | server.py:229 | fit_round 22 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2374264)[0m double free or corruption (fasttop)
INFO flwr 2023-08-17 17:16:39,370 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=2374258)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2374262)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2374264)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2374267)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2374268)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2374275)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2374274)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2374276)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2374274)[0m malloc_consolidate(): invalid chunk size
E0817 17:16:39.995882771 2350940 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2374268)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2374267)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2374276)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 17:17:15,891 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 17:17:15,892 | fed_df.py:547 | Average fusion training loss : 0.19431641048192977, val accuracy : 0.1261227212094264, best val accuracy : 0.19086260560249
INFO flwr 2023-08-17 17:17:15,893 | common.py:35 | Avg. local train loss : 6.21167678758502, train acc : 0.8480154320987654
INFO flwr 2023-08-17 17:17:18,550 | server.py:116 | fit progress: (22, 4.115035129323975, {'server_test_acc': 0.13426183844011141}, 2219.748367805034)
INFO flwr 2023-08-17 17:17:18,550 | server.py:163 | evaluate_round 22: no clients selected, cancel
DEBUG flwr 2023-08-17 17:17:28,225 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2454859)[0m double free or corruption (fasttop)
DEBUG flwr 2023-08-17 17:18:20,693 | server.py:229 | fit_round 23 received 8 results and 0 failures
INFO flwr 2023-08-17 17:18:20,960 | fed_df.py:463 | Performing server side distillation training...
[W] [17:17:25.516358] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2454859)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2454858)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2454894)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2454892)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2454895)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2454860)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2454893)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2454857)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2454895)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2454892)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2454860)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2454858)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2454894)[0m malloc_consolidate(): invalid chunk size
E0817 17:18:22.569568441 2422337 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0817 17:18:22.569702954 2422337 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0817 17:18:22.569722598 2422337 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0817 17:18:22.569738380 2422337 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0817 17:18:22.569751756 2422337 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2454893)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=2454857)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 17:18:57,536 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 17:18:57,536 | fed_df.py:547 | Average fusion training loss : 0.26731920170783996, val accuracy : 0.1981547354379724, best val accuracy : 0.22421076033792797
INFO flwr 2023-08-17 17:18:57,538 | common.py:35 | Avg. local train loss : 6.421121672913433, train acc : 0.8365339506172839
INFO flwr 2023-08-17 17:19:00,169 | server.py:116 | fit progress: (23, 4.062404541716934, {'server_test_acc': 0.13899721448467967}, 2321.368094449863)
INFO flwr 2023-08-17 17:19:00,170 | server.py:163 | evaluate_round 23: no clients selected, cancel
DEBUG flwr 2023-08-17 17:19:09,678 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-17 17:20:01,876 | server.py:229 | fit_round 24 received 8 results and 0 failures
INFO flwr 2023-08-17 17:20:02,147 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=2569838)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2569844)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2569836)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2569843)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2569840)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2569841)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2569842)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2569845)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2569841)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2569836)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2569840)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2569844)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2569845)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2569843)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2569838)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2569842)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 17:20:38,639 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 17:20:38,640 | fed_df.py:547 | Average fusion training loss : 0.3163367564678192, val accuracy : 0.18883948421520674, best val accuracy : 0.21520675855935972
INFO flwr 2023-08-17 17:20:38,641 | common.py:35 | Avg. local train loss : 6.175097531825304, train acc : 0.8523101851851854
INFO flwr 2023-08-17 17:20:41,270 | server.py:116 | fit progress: (24, 3.7016342083391707, {'server_test_acc': 0.16504178272980502}, 2422.468967896886)
INFO flwr 2023-08-17 17:20:41,271 | server.py:163 | evaluate_round 24: no clients selected, cancel
DEBUG flwr 2023-08-17 17:20:51,066 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2644563)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-17 17:21:43,065 | server.py:229 | fit_round 25 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2644564)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 17:21:43,280 | fed_df.py:365 | Warm start at round 25
INFO flwr 2023-08-17 17:21:43,391 | fed_df.py:463 | Performing server side distillation training...
[W] [17:20:48.363797] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2644563)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2644559)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2644560)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2644565)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2644567)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2644568)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2644566)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2644564)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2644566)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2644559)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2644560)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2644565)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2644567)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2644568)[0m malloc_consolidate(): invalid chunk size
E0817 17:21:46.071767828 2527153 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
INFO flwr 2023-08-17 17:22:20,009 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 17:22:20,010 | fed_df.py:547 | Average fusion training loss : 0.361009375333786, val accuracy : 0.18803912850155624, best val accuracy : 0.22276567363272565
INFO flwr 2023-08-17 17:22:20,011 | common.py:35 | Avg. local train loss : 6.3843179950490585, train acc : 0.8390956790123457
INFO flwr 2023-08-17 17:22:22,674 | server.py:116 | fit progress: (25, 14.579897892773982, {'server_test_acc': 0.2927576601671309}, 2523.8730392069556)
INFO flwr 2023-08-17 17:22:22,675 | server.py:163 | evaluate_round 25: no clients selected, cancel
DEBUG flwr 2023-08-17 17:22:32,345 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2719249)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2719247)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2719252)[0m double free or corruption (fasttop)
DEBUG flwr 2023-08-17 17:23:25,246 | server.py:229 | fit_round 26 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2719255)[0m corrupted size vs. prev_size in fastbins
INFO flwr 2023-08-17 17:23:25,523 | fed_df.py:463 | Performing server side distillation training...
[W] [17:22:29.635029] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2719249)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2719247)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2719252)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2719255)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2719254)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2719256)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2719257)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2719253)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2719254)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2719257)[0m double free or corruption (fasttop)
E0817 17:23:26.422414769 2693535 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2719256)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2719253)[0m double free or corruption (fasttop)
INFO flwr 2023-08-17 17:24:01,697 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 17:24:01,698 | fed_df.py:547 | Average fusion training loss : 0.31683338510990144, val accuracy : 0.13132503334815473, best val accuracy : 0.19642063139172966
INFO flwr 2023-08-17 17:24:01,699 | common.py:35 | Avg. local train loss : 5.66655441597104, train acc : 0.8794907407407407
INFO flwr 2023-08-17 17:24:04,323 | server.py:116 | fit progress: (26, 11.290207319339338, {'server_test_acc': 0.26880222841225626}, 2625.521645855857)
INFO flwr 2023-08-17 17:24:04,323 | server.py:163 | evaluate_round 26: no clients selected, cancel
DEBUG flwr 2023-08-17 17:24:14,100 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2794309)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-17 17:25:06,984 | server.py:229 | fit_round 27 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2794304)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2794305)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2794308)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 17:25:07,309 | fed_df.py:463 | Performing server side distillation training...
[W] [17:24:11.392016] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2794300)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2794304)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2794305)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2794306)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2794307)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2794308)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2794309)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2794310)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2794300)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2794307)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2794310)[0m double free or corruption (fasttop)
E0817 17:25:08.904420194 2767184 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2794306)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 17:25:43,702 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 17:25:43,703 | fed_df.py:547 | Average fusion training loss : 0.3120289218425751, val accuracy : 0.14399733214762117, best val accuracy : 0.1512894619831036
INFO flwr 2023-08-17 17:25:43,704 | common.py:35 | Avg. local train loss : 5.89713224992156, train acc : 0.8671388888888888
INFO flwr 2023-08-17 17:25:46,552 | server.py:116 | fit progress: (27, 14.800313995276321, {'server_test_acc': 0.09596100278551532}, 2727.7510668458417)
INFO flwr 2023-08-17 17:25:46,553 | server.py:163 | evaluate_round 27: no clients selected, cancel
DEBUG flwr 2023-08-17 17:25:56,293 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2869340)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-17 17:26:48,396 | server.py:229 | fit_round 28 received 8 results and 0 failures
INFO flwr 2023-08-17 17:26:48,700 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=2869343)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2869342)[0m double free or corruption (fasttop)
[W] [17:25:53.602589] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2869340)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2869343)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2869342)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2869349)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2869347)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2869350)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2869351)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2869348)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2869347)[0m malloc_consolidate(): invalid chunk size
E0817 17:26:49.178612492 2843136 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2869348)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2869351)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2869349)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2869350)[0m corrupted size vs. prev_size in fastbins
INFO flwr 2023-08-17 17:27:25,178 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 17:27:25,179 | fed_df.py:547 | Average fusion training loss : 0.44639906883239744, val accuracy : 0.20918185860382393, best val accuracy : 0.2416629613161405
INFO flwr 2023-08-17 17:27:25,180 | common.py:35 | Avg. local train loss : 6.07240341976285, train acc : 0.8584645061728395
INFO flwr 2023-08-17 17:27:27,824 | server.py:116 | fit progress: (28, 3.6274935299971642, {'server_test_acc': 0.15793871866295264}, 2829.0228715999983)
INFO flwr 2023-08-17 17:27:27,825 | server.py:163 | evaluate_round 28: no clients selected, cancel
DEBUG flwr 2023-08-17 17:27:37,492 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-17 17:28:30,452 | server.py:229 | fit_round 29 received 8 results and 0 failures
INFO flwr 2023-08-17 17:28:30,724 | fed_df.py:463 | Performing server side distillation training...
[W] [17:27:34.817441] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2944039)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2944037)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2944048)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2944047)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2944049)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2944050)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2944046)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2944051)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2944048)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2944039)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2944047)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2944037)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2944046)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2944051)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2944049)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2944050)[0m double free or corruption (fasttop)
E0817 17:28:33.044014822 2916913 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
INFO flwr 2023-08-17 17:29:07,373 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 17:29:07,373 | fed_df.py:547 | Average fusion training loss : 0.4350378224849701, val accuracy : 0.12107603379279681, best val accuracy : 0.13717207647843485
INFO flwr 2023-08-17 17:29:07,375 | common.py:35 | Avg. local train loss : 6.290367526561021, train acc : 0.8449768518518518
INFO flwr 2023-08-17 17:29:10,020 | server.py:116 | fit progress: (29, 4.361206745370849, {'server_test_acc': 0.12325905292479108}, 2931.218190646032)
INFO flwr 2023-08-17 17:29:10,020 | server.py:163 | evaluate_round 29: no clients selected, cancel
DEBUG flwr 2023-08-17 17:29:19,641 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-17 17:30:11,464 | server.py:229 | fit_round 30 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3019135)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 17:30:11,684 | fed_df.py:365 | Warm start at round 30
[2m[36m(launch_and_fit pid=3019137)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-17 17:30:11,831 | fed_df.py:463 | Performing server side distillation training...
[W] [17:29:16.930357] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3019137)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3019135)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3019138)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3019142)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3019139)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3019141)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3019136)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3019140)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3019138)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3019141)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3019136)[0m double free or corruption (fasttop)
E0817 17:30:13.428036822 3067584 chttp2_transport.cc:1079]             ipv4:145.136.62.4:45465: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3019140)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3019142)[0m double free or corruption (fasttop)
INFO flwr 2023-08-17 17:30:48,295 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-17 17:30:48,295 | fed_df.py:547 | Average fusion training loss : 0.4605805472135544, val accuracy : 0.12556691863050246, best val accuracy : 0.17218763895064473
INFO flwr 2023-08-17 17:30:48,297 | common.py:35 | Avg. local train loss : 6.377058261632919, train acc : 0.8422438271604937
INFO flwr 2023-08-17 17:30:50,925 | server.py:116 | fit progress: (30, 13.977123893801549, {'server_test_acc': 0.1533426183844011}, 3032.1239259210415)
INFO flwr 2023-08-17 17:30:50,926 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-08-17 17:30:50,926 | server.py:144 | FL finished in 3032.124365427997
INFO flwr 2023-08-17 17:30:50,926 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-08-17 17:30:50,927 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-08-17 17:30:50,927 | app.py:204 | app_fit: losses_centralized [(0, 2.1845225108367154), (1, 2.3494930681743993), (2, 6.1069538020822), (3, 10.243495286606812), (4, 4.7759233788195425), (5, 4.190863098208287), (6, 4.39562796483797), (7, 5.213577689168181), (8, 2.829352729499838), (9, 7.0184512040077145), (10, 9.00832304675599), (11, 8.433987224865756), (12, 4.371730173265037), (13, 3.7423139444632785), (14, 7.852818339780844), (15, 6.813712951532645), (16, 11.183932444112878), (17, 8.092143434402338), (18, 6.118696638867052), (19, 9.35655974810502), (20, 2.5238882893639354), (21, 9.143571667684485), (22, 4.115035129323975), (23, 4.062404541716934), (24, 3.7016342083391707), (25, 14.579897892773982), (26, 11.290207319339338), (27, 14.800313995276321), (28, 3.6274935299971642), (29, 4.361206745370849), (30, 13.977123893801549)]
INFO flwr 2023-08-17 17:30:50,927 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.11030640668523677), (1, 0.2789693593314763), (2, 0.29693593314763234), (3, 0.28064066852367686), (4, 0.388857938718663), (5, 0.15069637883008358), (6, 0.21434540389972145), (7, 0.3757660167130919), (8, 0.2318941504178273), (9, 0.27103064066852367), (10, 0.40459610027855153), (11, 0.23314763231197771), (12, 0.38091922005571033), (13, 0.4), (14, 0.3573816155988858), (15, 0.3955431754874652), (16, 0.32047353760445685), (17, 0.40766016713091924), (18, 0.3754874651810585), (19, 0.3842618384401114), (20, 0.1798050139275766), (21, 0.27841225626740945), (22, 0.13426183844011141), (23, 0.13899721448467967), (24, 0.16504178272980502), (25, 0.2927576601671309), (26, 0.26880222841225626), (27, 0.09596100278551532), (28, 0.15793871866295264), (29, 0.12325905292479108), (30, 0.1533426183844011)]}
double free or corruption (fasttop)
srun: error: gcn4: task 0: Aborted
srun: Terminating StepId=3381720.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3381720
Cluster: snellius
User/Group: sunnys/sunnys
State: RUNNING
Nodes: 1
Cores per node: 18
CPU Utilized: 02:11:37
CPU Efficiency: 12.51% of 17:32:06 core-walltime
Job Wall-clock time: 00:58:27
Memory Utilized: 55.60 GB
Memory Efficiency: 46.33% of 120.00 GB
WARNING: Efficiency statistics may be misleading for RUNNING jobs.
