-----BEGIN-----
-----SETTINGS-----
TOTAL CROPS:100000
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:organamnist
PARTITION_ALPHA:100.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:20
LOCAL_LR:0.01
DISTILL_BATCH_SIZE:512
SERVER_LR:0.005
SERVER_STEPS:250
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
USE_ADAPTIVE_LR_ROUND:False
SEED:42
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:multi_ct_scan.jpg
DISTILL_DATASET:pathmnist
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:10000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:5
KMEANS_N_CLUSTER:11
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
KMEANS_BALANCING:0.1
CONFIDENCE_THRESHOLD:0.5
CONFIDENCE_STRATEGY:top
CONFIDENCE_ADAPTIVE:False
CONFIDENCE_MAX_THRESH:0.5
CLIPPING_FACTOR:2.5
FEDPROX_FACTOR:0.0
FEDPROX_ADAPTIVE:False
USE_CLIPPING:True
USE_ENTROPY:True
USE_KMEANS:True
USE_FEDPROX:False
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=100000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/multi_ct_scan.jpg', targetpath='/scratch-local/sunnys.3367411/1692217169_308229452', seed=42, img_per_thread=5555)
will save 100000 patches in /scratch-local/sunnys.3367411/1692217169_308229452/single_img_crops/crops
100000 took 1.06min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-08-16 22:20:48,607 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-08-16 22:20:48,607 | simulate.py:55 | Reading args from argument parser
Downloading https://zenodo.org/record/6496656/files/organamnist.npz?download=1 to /scratch-local/sunnys.3367411/1692217169_308229452/organamnist.npz
Generating unified organamnist dataset
Class histogram for 0-th partition (alpha=100.0, 11 classes): [165 163 121 157 135 185 160 160 166 177 141]
INFO flwr 2023-08-16 22:21:53,037 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-08-16 22:21:55,510	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8266 [39m[22m
INFO flwr 2023-08-16 22:21:56,878 | app.py:179 | Flower VCE: Ray initialized with resources: {'accelerator_type:A100': 1.0, 'node:145.136.62.32': 1.0, 'GPU': 1.0, 'memory': 103079215104.0, 'CPU': 18.0, 'object_store_memory': 61847529062.0}
INFO flwr 2023-08-16 22:21:56,878 | server.py:86 | Initializing global parameters
INFO flwr 2023-08-16 22:21:56,878 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-08-16 22:21:56,878 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-08-16 22:22:05,834 | server.py:91 | initial parameters (loss, other metrics): 2.4133372260153876, {'server_test_acc': 0.043143210709866125}
INFO flwr 2023-08-16 22:22:05,834 | server.py:101 | FL starting
DEBUG flwr 2023-08-16 22:22:14,009 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3500282)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3500283)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3500285)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-16 22:23:00,525 | server.py:229 | fit_round 1 received 8 results and 0 failures
INFO flwr 2023-08-16 22:23:00,738 | fed_df.py:365 | Warm start at round 1
INFO flwr 2023-08-16 22:23:00,830 | fed_df.py:463 | Performing server side distillation training...
[W] [22:22:11.678888] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3500279)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3500284)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3500282)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3500281)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3500287)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3500285)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3500283)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3500280)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3500281)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3500287)[0m malloc_consolidate(): invalid chunk size
E0816 22:23:01.606731474 3488236 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
[2m[36m(launch_and_fit pid=3500284)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3500279)[0m double free or corruption (fasttop)
INFO flwr 2023-08-16 22:23:30,508 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:23:30,508 | fed_df.py:547 | Average fusion training loss : 0.010742772705852985, val accuracy : 0.4408602150537634, best val accuracy : 0.49287997675094447
INFO flwr 2023-08-16 22:23:30,509 | common.py:35 | Avg. local train loss : 5.714875707402825, train acc : 0.5678990044958253
INFO flwr 2023-08-16 22:23:33,443 | server.py:116 | fit progress: (1, 1.569403406444236, {'server_test_acc': 0.44324445944425694}, 87.60867027798668)
INFO flwr 2023-08-16 22:23:33,443 | server.py:163 | evaluate_round 1: no clients selected, cancel
DEBUG flwr 2023-08-16 22:23:41,558 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3647637)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3647777)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3647775)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3647676)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-16 22:24:27,333 | server.py:229 | fit_round 2 received 8 results and 0 failures
INFO flwr 2023-08-16 22:24:27,579 | fed_df.py:463 | Performing server side distillation training...
[W] [22:23:39.330443] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3647637)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3647777)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3647676)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3647776)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3647675)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3647775)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3647774)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3647639)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3647776)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3647675)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3647639)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3647774)[0m malloc_consolidate(): invalid chunk size
E0816 22:24:31.034091817 3753284 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
INFO flwr 2023-08-16 22:24:56,998 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:24:56,999 | fed_df.py:547 | Average fusion training loss : 0.008906112514901907, val accuracy : 0.5000871839581518, best val accuracy : 0.6204591688462656
INFO flwr 2023-08-16 22:24:57,000 | common.py:35 | Avg. local train loss : 4.590836777165532, train acc : 0.7396836865767501
INFO flwr 2023-08-16 22:25:00,060 | server.py:116 | fit progress: (2, 1.2126537781757343, {'server_test_acc': 0.5449994375070312}, 174.22551745176315)
INFO flwr 2023-08-16 22:25:00,060 | server.py:163 | evaluate_round 2: no clients selected, cancel
DEBUG flwr 2023-08-16 22:25:08,436 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3802156)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3802299)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-16 22:25:54,156 | server.py:229 | fit_round 3 received 8 results and 0 failures
INFO flwr 2023-08-16 22:25:54,404 | fed_df.py:463 | Performing server side distillation training...
[W] [22:25:06.196930] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3802136)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3802156)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3802152)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3802311)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3802299)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3802346)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3802347)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3802298)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3802152)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3802311)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3802346)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3802298)[0m double free or corruption (fasttop)
E0816 22:25:55.618120527 3754478 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
[2m[36m(launch_and_fit pid=3802347)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-16 22:26:24,989 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:26:24,989 | fed_df.py:547 | Average fusion training loss : 0.02790056437253952, val accuracy : 0.6097064806742226, best val accuracy : 0.6192967160709096
INFO flwr 2023-08-16 22:26:24,990 | common.py:35 | Avg. local train loss : 4.466899230331182, train acc : 0.7691192999357739
INFO flwr 2023-08-16 22:26:27,987 | server.py:116 | fit progress: (3, 1.2968608466963865, {'server_test_acc': 0.5449994375070312}, 262.1522814659402)
INFO flwr 2023-08-16 22:26:27,987 | server.py:163 | evaluate_round 3: no clients selected, cancel
DEBUG flwr 2023-08-16 22:26:36,128 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3979901)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3980111)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-16 22:27:22,398 | server.py:229 | fit_round 4 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3980117)[0m double free or corruption (fasttop)
INFO flwr 2023-08-16 22:27:22,648 | fed_df.py:463 | Performing server side distillation training...
[W] [22:26:33.912026] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3979901)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3980111)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3980118)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3980047)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3980113)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3980117)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3979900)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3980040)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3980113)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3979900)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3980118)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3980047)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3980040)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-16 22:27:53,176 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:27:53,176 | fed_df.py:547 | Average fusion training loss : 0.0056993864951655265, val accuracy : 0.6569020633536763, best val accuracy : 0.7683812845103167
INFO flwr 2023-08-16 22:27:53,177 | common.py:35 | Avg. local train loss : 4.179204052314162, train acc : 0.8036769428387927
INFO flwr 2023-08-16 22:27:56,167 | server.py:116 | fit progress: (4, 0.9671476692219448, {'server_test_acc': 0.6829227134660817}, 350.33277847478166)
INFO flwr 2023-08-16 22:27:56,167 | server.py:163 | evaluate_round 4: no clients selected, cancel
DEBUG flwr 2023-08-16 22:28:04,581 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-16 22:28:50,295 | server.py:229 | fit_round 5 received 8 results and 0 failures
INFO flwr 2023-08-16 22:28:50,510 | fed_df.py:365 | Warm start at round 5
INFO flwr 2023-08-16 22:28:50,600 | fed_df.py:463 | Performing server side distillation training...
[W] [22:28:02.156334] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=4145257)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=4145235)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=4145221)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=4145253)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=4145223)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=4145238)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=4145234)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=4145206)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=4145253)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4145238)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4145257)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4145206)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4145223)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4145221)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4145235)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4145234)[0m malloc_consolidate(): invalid chunk size
E0816 22:28:57.462507593 3920792 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
INFO flwr 2023-08-16 22:29:21,088 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:29:21,088 | fed_df.py:547 | Average fusion training loss : 0.011687905264087022, val accuracy : 0.7121185701830862, best val accuracy : 0.7503632664922988
INFO flwr 2023-08-16 22:29:21,089 | common.py:35 | Avg. local train loss : 4.0747683852911, train acc : 0.8156350353243418
INFO flwr 2023-08-16 22:29:24,045 | server.py:116 | fit progress: (5, 1.0171631576910587, {'server_test_acc': 0.6948475644054449}, 438.2110985778272)
INFO flwr 2023-08-16 22:29:24,046 | server.py:163 | evaluate_round 5: no clients selected, cancel
DEBUG flwr 2023-08-16 22:29:32,101 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=98525)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=98519)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-16 22:30:18,390 | server.py:229 | fit_round 6 received 8 results and 0 failures
INFO flwr 2023-08-16 22:30:18,638 | fed_df.py:463 | Performing server side distillation training...
[W] [22:29:29.954002] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=98522)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=98520)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=98521)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=98518)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=98524)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=98525)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=98523)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=98519)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=98521)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=98523)[0m malloc_consolidate(): invalid chunk size
E0816 22:30:19.536269848   62011 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
[2m[36m(launch_and_fit pid=98520)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=98522)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=98518)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=98524)[0m double free or corruption (fasttop)
INFO flwr 2023-08-16 22:30:49,475 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:30:49,476 | fed_df.py:547 | Average fusion training loss : 0.01118936936184764, val accuracy : 0.7830281894798024, best val accuracy : 0.7887242080790468
INFO flwr 2023-08-16 22:30:49,477 | common.py:35 | Avg. local train loss : 3.70790130533278, train acc : 0.8539619460500962
INFO flwr 2023-08-16 22:30:52,437 | server.py:116 | fit progress: (6, 0.969289384203132, {'server_test_acc': 0.7165597930025874}, 526.6023283889517)
INFO flwr 2023-08-16 22:30:52,437 | server.py:163 | evaluate_round 6: no clients selected, cancel
DEBUG flwr 2023-08-16 22:31:00,709 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-16 22:31:47,082 | server.py:229 | fit_round 7 received 8 results and 0 failures
INFO flwr 2023-08-16 22:31:47,331 | fed_df.py:463 | Performing server side distillation training...
[W] [22:30:58.311005] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=248113)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=248135)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=248133)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=248211)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=248187)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=248193)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=248188)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=248212)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=248135)[0m malloc_consolidate(): invalid chunk size
E0816 22:31:48.244627499  347620 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
[2m[36m(launch_and_fit pid=248188)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=248133)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=248187)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=248113)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=248211)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=248212)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=248193)[0m malloc_consolidate(): invalid chunk size
E0816 22:31:49.723703482  348529 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
INFO flwr 2023-08-16 22:32:18,493 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:32:18,494 | fed_df.py:547 | Average fusion training loss : 0.006007833765819669, val accuracy : 0.7829119442022668, best val accuracy : 0.7954083115373438
INFO flwr 2023-08-16 22:32:18,495 | common.py:35 | Avg. local train loss : 3.9023373488336803, train acc : 0.8357177263969171
INFO flwr 2023-08-16 22:32:21,456 | server.py:116 | fit progress: (7, 0.9693368634298931, {'server_test_acc': 0.7383845201934975}, 615.6221509259194)
INFO flwr 2023-08-16 22:32:21,457 | server.py:163 | evaluate_round 7: no clients selected, cancel
DEBUG flwr 2023-08-16 22:32:29,603 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=397407)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-16 22:33:16,054 | server.py:229 | fit_round 8 received 8 results and 0 failures
INFO flwr 2023-08-16 22:33:16,303 | fed_df.py:463 | Performing server side distillation training...
[W] [22:32:27.386886] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=397406)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=397407)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=397411)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=397405)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=397410)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=397408)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=397404)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=397409)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=397408)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=397411)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=397409)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=397404)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=397405)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=397406)[0m double free or corruption (fasttop)
E0816 22:33:17.731557657  497676 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
[2m[36m(launch_and_fit pid=397410)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-16 22:33:47,335 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:33:47,336 | fed_df.py:547 | Average fusion training loss : 0.0072564272116869685, val accuracy : 0.8169718105201976, best val accuracy : 0.8259226968904388
INFO flwr 2023-08-16 22:33:47,337 | common.py:35 | Avg. local train loss : 3.879131727665663, train acc : 0.843332530507386
INFO flwr 2023-08-16 22:33:50,344 | server.py:116 | fit progress: (8, 0.7239880947525449, {'server_test_acc': 0.7539093261334233}, 704.5098382099532)
INFO flwr 2023-08-16 22:33:50,344 | server.py:163 | evaluate_round 8: no clients selected, cancel
DEBUG flwr 2023-08-16 22:33:58,468 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=546951)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=546954)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=546945)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=546947)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=546950)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-16 22:34:47,389 | server.py:229 | fit_round 9 received 8 results and 0 failures
INFO flwr 2023-08-16 22:34:47,641 | fed_df.py:463 | Performing server side distillation training...
[2m[36m(launch_and_fit pid=546955)[0m malloc_consolidate(): invalid chunk size
[W] [22:33:56.280435] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=546945)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=546947)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=546955)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=546950)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=546951)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=546954)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=546952)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=546953)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=546952)[0m malloc_consolidate(): invalid chunk size
E0816 22:34:48.404584363  642272 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
[2m[36m(launch_and_fit pid=546953)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-16 22:35:18,735 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:35:18,735 | fed_df.py:547 | Average fusion training loss : 0.011463364252820612, val accuracy : 0.7948270851496658, best val accuracy : 0.8090671316477768
INFO flwr 2023-08-16 22:35:18,736 | common.py:35 | Avg. local train loss : 3.7141864214092495, train acc : 0.8550016056518948
INFO flwr 2023-08-16 22:35:21,764 | server.py:116 | fit progress: (9, 0.8672356143659166, {'server_test_acc': 0.7395657554280571}, 795.9296802408062)
INFO flwr 2023-08-16 22:35:21,764 | server.py:163 | evaluate_round 9: no clients selected, cancel
DEBUG flwr 2023-08-16 22:35:29,927 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=695528)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-16 22:36:17,484 | server.py:229 | fit_round 10 received 8 results and 0 failures
INFO flwr 2023-08-16 22:36:17,702 | fed_df.py:365 | Warm start at round 10
INFO flwr 2023-08-16 22:36:17,792 | fed_df.py:463 | Performing server side distillation training...
[W] [22:35:27.752101] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=695527)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=695532)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=695528)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=695529)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=695530)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=695531)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=695534)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=695533)[0m Fitting Client 7
E0816 22:36:18.560936365  790494 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
[2m[36m(launch_and_fit pid=695531)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=695534)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=695532)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=695533)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=695527)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=695530)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=695529)[0m double free or corruption (fasttop)
E0816 22:36:20.218353286  794572 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
INFO flwr 2023-08-16 22:36:48,974 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:36:48,975 | fed_df.py:547 | Average fusion training loss : 0.011879038719460368, val accuracy : 0.868875326939843, best val accuracy : 0.8776518453937808
INFO flwr 2023-08-16 22:36:48,976 | common.py:35 | Avg. local train loss : 3.847167140990495, train acc : 0.8416104688503531
INFO flwr 2023-08-16 22:36:52,035 | server.py:116 | fit progress: (10, 0.6423027320953654, {'server_test_acc': 0.8005962425469682}, 886.2004574858584)
INFO flwr 2023-08-16 22:36:52,035 | server.py:163 | evaluate_round 10: no clients selected, cancel
DEBUG flwr 2023-08-16 22:37:00,139 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=845377)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-16 22:37:47,959 | server.py:229 | fit_round 11 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=845373)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-16 22:37:48,211 | fed_df.py:463 | Performing server side distillation training...
[W] [22:36:57.961915] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=845367)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=845370)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=845371)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=845375)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=845373)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=845374)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=845377)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=845376)[0m Fitting Client 13
E0816 22:37:48.749015120  940612 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
[2m[36m(launch_and_fit pid=845374)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=845376)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=845371)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=845370)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=845367)[0m double free or corruption (fasttop)
E0816 22:37:50.084475469  941939 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
INFO flwr 2023-08-16 22:38:18,766 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:38:18,766 | fed_df.py:547 | Average fusion training loss : 0.006419325830414891, val accuracy : 0.8620749782040104, best val accuracy : 0.8735832606800349
INFO flwr 2023-08-16 22:38:18,767 | common.py:35 | Avg. local train loss : 3.4237307604402307, train acc : 0.8856374438021838
INFO flwr 2023-08-16 22:38:21,801 | server.py:116 | fit progress: (11, 0.6392194902632686, {'server_test_acc': 0.7975587805152435}, 975.9669674630277)
INFO flwr 2023-08-16 22:38:21,802 | server.py:163 | evaluate_round 11: no clients selected, cancel
DEBUG flwr 2023-08-16 22:38:29,887 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=994112)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-16 22:39:18,246 | server.py:229 | fit_round 12 received 8 results and 0 failures
INFO flwr 2023-08-16 22:39:18,498 | fed_df.py:463 | Performing server side distillation training...
[W] [22:38:27.729662] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=994106)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=994112)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=994105)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=994110)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=994114)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=994113)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=994115)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=994111)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=994106)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=994110)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=994115)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=994114)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=994105)[0m malloc_consolidate(): invalid chunk size
E0816 22:39:20.571697654  944381 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
[2m[36m(launch_and_fit pid=994111)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-16 22:39:49,538 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:39:49,538 | fed_df.py:547 | Average fusion training loss : 0.005818765996955335, val accuracy : 0.8371403661726242, best val accuracy : 0.8561464690496948
INFO flwr 2023-08-16 22:39:49,539 | common.py:35 | Avg. local train loss : 3.5359817091375594, train acc : 0.8764771997430956
INFO flwr 2023-08-16 22:39:52,576 | server.py:116 | fit progress: (12, 0.6593923956031726, {'server_test_acc': 0.7840589492631342}, 1066.7421989557333)
INFO flwr 2023-08-16 22:39:52,577 | server.py:163 | evaluate_round 12: no clients selected, cancel
DEBUG flwr 2023-08-16 22:40:00,685 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-16 22:40:48,947 | server.py:229 | fit_round 13 received 8 results and 0 failures
INFO flwr 2023-08-16 22:40:49,200 | fed_df.py:463 | Performing server side distillation training...
[W] [22:39:58.521556] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1143848)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1143841)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1143844)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1143849)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1143851)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1143845)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1143847)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1143850)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1143850)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1143851)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1143849)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1143841)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1143848)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1143847)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1143844)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1143845)[0m double free or corruption (fasttop)
E0816 22:40:51.327919723 1244659 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
INFO flwr 2023-08-16 22:41:20,344 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:41:20,344 | fed_df.py:547 | Average fusion training loss : 0.004848580667749047, val accuracy : 0.809299622202848, best val accuracy : 0.8209822725951759
INFO flwr 2023-08-16 22:41:20,346 | common.py:35 | Avg. local train loss : 3.459011797234416, train acc : 0.8861753371868979
INFO flwr 2023-08-16 22:41:23,402 | server.py:116 | fit progress: (13, 0.8030470162412154, {'server_test_acc': 0.751884351445607}, 1157.5677168490365)
INFO flwr 2023-08-16 22:41:23,402 | server.py:163 | evaluate_round 13: no clients selected, cancel
DEBUG flwr 2023-08-16 22:41:31,534 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-16 22:42:18,481 | server.py:229 | fit_round 14 received 8 results and 0 failures
INFO flwr 2023-08-16 22:42:18,732 | fed_df.py:463 | Performing server side distillation training...
[W] [22:41:29.355099] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1321685)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1321639)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1321686)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1321717)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1321695)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1321719)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1321718)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1321696)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1321685)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1321719)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1321639)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1321718)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1321717)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1321686)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1321695)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1321696)[0m malloc_consolidate(): invalid chunk size
E0816 22:42:20.997045944 1429036 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
INFO flwr 2023-08-16 22:42:49,657 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:42:49,657 | fed_df.py:547 | Average fusion training loss : 0.01734958129003644, val accuracy : 0.8076721883173497, best val accuracy : 0.8174949142691078
INFO flwr 2023-08-16 22:42:49,659 | common.py:35 | Avg. local train loss : 3.459394512325525, train acc : 0.8867373153500321
INFO flwr 2023-08-16 22:42:52,715 | server.py:116 | fit progress: (14, 0.8614662746326877, {'server_test_acc': 0.7471594105073687}, 1246.8807330066338)
INFO flwr 2023-08-16 22:42:52,715 | server.py:163 | evaluate_round 14: no clients selected, cancel
DEBUG flwr 2023-08-16 22:43:00,853 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1496167)[0m double free or corruption (fasttop)
DEBUG flwr 2023-08-16 22:43:48,537 | server.py:229 | fit_round 15 received 8 results and 0 failures
INFO flwr 2023-08-16 22:43:48,753 | fed_df.py:365 | Warm start at round 15
INFO flwr 2023-08-16 22:43:48,843 | fed_df.py:463 | Performing server side distillation training...
[W] [22:42:58.688273] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1496167)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1496170)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1496173)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1496171)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1496172)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1496176)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1496175)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1496174)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1496170)[0m malloc_consolidate(): invalid chunk size
E0816 22:43:49.395884581 1588992 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1496175)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1496172)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1496171)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1496176)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1496174)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1496173)[0m double free or corruption (fasttop)
E0816 22:44:08.281489371 1589994 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
INFO flwr 2023-08-16 22:44:20,308 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:44:20,309 | fed_df.py:547 | Average fusion training loss : 0.009614911428652704, val accuracy : 0.7873292647486195, best val accuracy : 0.8081952920662598
INFO flwr 2023-08-16 22:44:20,310 | common.py:35 | Avg. local train loss : 3.3557310312986375, train acc : 0.8920439948619139
INFO flwr 2023-08-16 22:44:23,384 | server.py:116 | fit progress: (15, 0.7798389233544004, {'server_test_acc': 0.7391720103498707}, 1337.5496244458482)
INFO flwr 2023-08-16 22:44:23,384 | server.py:163 | evaluate_round 15: no clients selected, cancel
DEBUG flwr 2023-08-16 22:44:31,516 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-16 22:45:18,700 | server.py:229 | fit_round 16 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1645225)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1645224)[0m malloc(): unsorted double linked list corrupted
INFO flwr 2023-08-16 22:45:18,952 | fed_df.py:463 | Performing server side distillation training...
[W] [22:44:29.331569] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1645223)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1645224)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1645225)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1645230)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1645229)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1645226)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1645228)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1645227)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1645228)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1645229)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1645223)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1645227)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1645230)[0m double free or corruption (fasttop)
E0816 22:45:20.374282343 1641480 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1645226)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-16 22:45:49,966 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:45:49,967 | fed_df.py:547 | Average fusion training loss : 0.004456361888442189, val accuracy : 0.7901772740482418, best val accuracy : 0.7936646323743098
INFO flwr 2023-08-16 22:45:49,968 | common.py:35 | Avg. local train loss : 3.071732724457979, train acc : 0.9206005138086063
INFO flwr 2023-08-16 22:45:53,019 | server.py:116 | fit progress: (16, 0.9419974443922967, {'server_test_acc': 0.7442344470694117}, 1427.1845566639677)
INFO flwr 2023-08-16 22:45:53,019 | server.py:163 | evaluate_round 16: no clients selected, cancel
DEBUG flwr 2023-08-16 22:46:01,187 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1794738)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1794736)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1794736)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1794735)[0m corrupted size vs. prev_size in fastbins
DEBUG flwr 2023-08-16 22:46:48,633 | server.py:229 | fit_round 17 received 8 results and 0 failures
INFO flwr 2023-08-16 22:46:48,896 | fed_df.py:463 | Performing server side distillation training...
[W] [22:45:58.991331] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1794738)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1794737)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1794735)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1794741)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1794740)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1794736)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1794739)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1794742)[0m Fitting Client 15
E0816 22:46:49.325862843 1887551 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1794740)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1794741)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1794737)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1794739)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1794742)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-16 22:47:20,553 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:47:20,554 | fed_df.py:547 | Average fusion training loss : 0.013361431390047073, val accuracy : 0.7999418773612322, best val accuracy : 0.8049985469340308
INFO flwr 2023-08-16 22:47:20,555 | common.py:35 | Avg. local train loss : 3.263379352539778, train acc : 0.9023763648041104
INFO flwr 2023-08-16 22:47:23,574 | server.py:116 | fit progress: (17, 0.9924833358024797, {'server_test_acc': 0.751884351445607}, 1517.7393667576835)
INFO flwr 2023-08-16 22:47:23,574 | server.py:163 | evaluate_round 17: no clients selected, cancel
DEBUG flwr 2023-08-16 22:47:31,768 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1943616)[0m double free or corruption (fasttop)
DEBUG flwr 2023-08-16 22:48:18,551 | server.py:229 | fit_round 18 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1943617)[0m double free or corruption (fasttop)
INFO flwr 2023-08-16 22:48:18,804 | fed_df.py:463 | Performing server side distillation training...
[W] [22:47:29.579407] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1943617)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1943616)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1943619)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1943615)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1943618)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1943614)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1943621)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1943620)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1943614)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1943621)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1943620)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1943619)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1943618)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1943615)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-16 22:48:50,521 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:48:50,521 | fed_df.py:547 | Average fusion training loss : 0.00889784460887313, val accuracy : 0.8046498111014241, best val accuracy : 0.8093577448416158
INFO flwr 2023-08-16 22:48:50,522 | common.py:35 | Avg. local train loss : 3.300139550119639, train acc : 0.8973185613359024
INFO flwr 2023-08-16 22:48:53,563 | server.py:116 | fit progress: (18, 0.922536427050155, {'server_test_acc': 0.747609404882439}, 1607.7285896986723)
INFO flwr 2023-08-16 22:48:53,563 | server.py:163 | evaluate_round 18: no clients selected, cancel
DEBUG flwr 2023-08-16 22:49:01,793 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2093153)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2093154)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2093156)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2093146)[0m double free or corruption (fasttop)
DEBUG flwr 2023-08-16 22:49:49,994 | server.py:229 | fit_round 19 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2093151)[0m double free or corruption (fasttop)
INFO flwr 2023-08-16 22:49:50,263 | fed_df.py:463 | Performing server side distillation training...
[W] [22:48:59.575484] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2093150)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2093146)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2093151)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2093153)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2093154)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2093156)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2093155)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2093152)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2093150)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2093152)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2093155)[0m double free or corruption (fasttop)
E0816 22:49:53.875905412 2191520 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
INFO flwr 2023-08-16 22:50:21,262 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:50:21,262 | fed_df.py:547 | Average fusion training loss : 0.006687549499794841, val accuracy : 0.87555943039814, best val accuracy : 0.8831734960767219
INFO flwr 2023-08-16 22:50:21,264 | common.py:35 | Avg. local train loss : 3.460123056545853, train acc : 0.8850152536929994
INFO flwr 2023-08-16 22:50:24,341 | server.py:116 | fit progress: (19, 0.6453357927844017, {'server_test_acc': 0.809427382157723}, 1698.5067361020483)
INFO flwr 2023-08-16 22:50:24,341 | server.py:163 | evaluate_round 19: no clients selected, cancel
DEBUG flwr 2023-08-16 22:50:32,541 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2242016)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-08-16 22:51:19,777 | server.py:229 | fit_round 20 received 8 results and 0 failures
INFO flwr 2023-08-16 22:51:19,999 | fed_df.py:365 | Warm start at round 20
INFO flwr 2023-08-16 22:51:20,091 | fed_df.py:463 | Performing server side distillation training...
[W] [22:50:30.324607] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2242012)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2242013)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2242019)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2242020)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2242016)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2242015)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2242017)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2242018)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2242018)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2242013)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2242017)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2242012)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=2242015)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2242019)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2242020)[0m corrupted size vs. prev_size in fastbins
INFO flwr 2023-08-16 22:51:56,554 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:51:56,554 | fed_df.py:547 | Average fusion training loss : 0.013573650378733874, val accuracy : 0.852019761697181, best val accuracy : 0.8791049113629759
INFO flwr 2023-08-16 22:51:56,556 | common.py:35 | Avg. local train loss : 3.440675887092948, train acc : 0.8871026011560695
INFO flwr 2023-08-16 22:51:59,597 | server.py:116 | fit progress: (20, 0.6003382907352025, {'server_test_acc': 0.8161210484868939}, 1793.7631208579987)
INFO flwr 2023-08-16 22:51:59,598 | server.py:163 | evaluate_round 20: no clients selected, cancel
DEBUG flwr 2023-08-16 22:52:07,699 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-16 22:52:56,175 | server.py:229 | fit_round 21 received 8 results and 0 failures
INFO flwr 2023-08-16 22:52:56,426 | fed_df.py:463 | Performing server side distillation training...
[W] [22:52:05.541828] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2392433)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2392436)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2392440)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2392438)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2392441)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2392439)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2392435)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2392442)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2392441)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2392442)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2392436)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2392438)[0m malloc_consolidate(): invalid chunk size
E0816 22:52:57.263967359 2192304 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2392440)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2392439)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2392433)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2392435)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-16 22:53:27,095 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:53:27,095 | fed_df.py:547 | Average fusion training loss : 0.005182054350152612, val accuracy : 0.8446381865736704, best val accuracy : 0.8625399593141528
INFO flwr 2023-08-16 22:53:27,096 | common.py:35 | Avg. local train loss : 3.1049328569322823, train acc : 0.9182602761721258
INFO flwr 2023-08-16 22:53:30,161 | server.py:116 | fit progress: (21, 0.6505046453528522, {'server_test_acc': 0.7958150523118461}, 1884.3267897190526)
INFO flwr 2023-08-16 22:53:30,161 | server.py:163 | evaluate_round 21: no clients selected, cancel
DEBUG flwr 2023-08-16 22:53:38,295 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-16 22:54:25,845 | server.py:229 | fit_round 22 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2541772)[0m double free or corruption (fasttop)
INFO flwr 2023-08-16 22:54:26,100 | fed_df.py:463 | Performing server side distillation training...
[W] [22:53:36.115582] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2541772)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2541769)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2541776)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2541767)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2541771)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2541777)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2541773)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2541774)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2541777)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2541771)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2541769)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2541773)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2541776)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2541774)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2541767)[0m malloc_consolidate(): invalid chunk size
E0816 22:54:28.317587734 2490351 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
INFO flwr 2023-08-16 22:54:57,147 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:54:57,147 | fed_df.py:547 | Average fusion training loss : 0.008930683977901935, val accuracy : 0.8347573379831443, best val accuracy : 0.8424876489392619
INFO flwr 2023-08-16 22:54:57,148 | common.py:35 | Avg. local train loss : 3.272256951779127, train acc : 0.9051180154142582
INFO flwr 2023-08-16 22:55:00,216 | server.py:116 | fit progress: (22, 0.701099048571158, {'server_test_acc': 0.780121498481269}, 1974.3820255007595)
INFO flwr 2023-08-16 22:55:00,217 | server.py:163 | evaluate_round 22: no clients selected, cancel
DEBUG flwr 2023-08-16 22:55:08,474 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-16 22:55:56,461 | server.py:229 | fit_round 23 received 8 results and 0 failures
INFO flwr 2023-08-16 22:55:56,713 | fed_df.py:463 | Performing server side distillation training...
[W] [22:55:06.217493] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2691094)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2691093)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2691089)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2691092)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2691090)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2691087)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2691095)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2691096)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2691090)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2691094)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2691095)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2691093)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2691089)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2691096)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2691092)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2691087)[0m malloc_consolidate(): invalid chunk size
E0816 22:56:00.409895564 2640917 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
INFO flwr 2023-08-16 22:56:27,934 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:56:27,934 | fed_df.py:547 | Average fusion training loss : 0.0077096897615119815, val accuracy : 0.84649811101424, best val accuracy : 0.8549840162743388
INFO flwr 2023-08-16 22:56:27,935 | common.py:35 | Avg. local train loss : 3.2731978617608553, train acc : 0.9023723506743736
E0816 22:56:29.989535579 2849897 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
INFO flwr 2023-08-16 22:56:30,999 | server.py:116 | fit progress: (23, 0.669755103765396, {'server_test_acc': 0.7967150410619868}, 2065.1649506720714)
INFO flwr 2023-08-16 22:56:31,000 | server.py:163 | evaluate_round 23: no clients selected, cancel
DEBUG flwr 2023-08-16 22:56:39,128 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-16 22:57:27,295 | server.py:229 | fit_round 24 received 8 results and 0 failures
INFO flwr 2023-08-16 22:57:27,550 | fed_df.py:463 | Performing server side distillation training...
[W] [22:56:36.972086] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2858335)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2858292)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2858299)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2858304)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2858319)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2858277)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2858336)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2858332)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2858304)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2858319)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2858336)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2858335)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2858277)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2858299)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2858332)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2858292)[0m malloc_consolidate(): invalid chunk size
E0816 22:57:30.330023270 2974519 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
INFO flwr 2023-08-16 22:57:59,649 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:57:59,650 | fed_df.py:547 | Average fusion training loss : 0.00932898872718215, val accuracy : 0.8183667538506247, best val accuracy : 0.8204010462074979
INFO flwr 2023-08-16 22:57:59,651 | common.py:35 | Avg. local train loss : 3.2100382301956416, train acc : 0.9099470134874761
INFO flwr 2023-08-16 22:58:02,720 | server.py:116 | fit progress: (24, 0.788412303755047, {'server_test_acc': 0.7571717853526831}, 2156.886213044636)
INFO flwr 2023-08-16 22:58:02,721 | server.py:163 | evaluate_round 24: no clients selected, cancel
DEBUG flwr 2023-08-16 22:58:10,963 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-16 22:58:57,937 | server.py:229 | fit_round 25 received 8 results and 0 failures
INFO flwr 2023-08-16 22:58:58,158 | fed_df.py:365 | Warm start at round 25
INFO flwr 2023-08-16 22:58:58,249 | fed_df.py:463 | Performing server side distillation training...
[W] [22:58:08.685871] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3037034)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3037048)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3037058)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3037130)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3037131)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3037075)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3037089)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3037132)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3037130)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3037131)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3037048)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3037132)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3037089)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3037058)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3037075)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3037034)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-16 22:59:29,244 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 22:59:29,244 | fed_df.py:547 | Average fusion training loss : 0.014665188519284129, val accuracy : 0.8352804417320547, best val accuracy : 0.8468468468468469
INFO flwr 2023-08-16 22:59:29,245 | common.py:35 | Avg. local train loss : 3.353052009269595, train acc : 0.8975995504174695
INFO flwr 2023-08-16 22:59:32,308 | server.py:116 | fit progress: (25, 0.6446099042597416, {'server_test_acc': 0.7935650804364945}, 2246.4738767859526)
INFO flwr 2023-08-16 22:59:32,308 | server.py:163 | evaluate_round 25: no clients selected, cancel
DEBUG flwr 2023-08-16 22:59:40,476 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-16 23:00:28,719 | server.py:229 | fit_round 26 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3192817)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3192820)[0m double free or corruption (fasttop)
INFO flwr 2023-08-16 23:00:28,975 | fed_df.py:463 | Performing server side distillation training...
[W] [22:59:38.273458] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3192817)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3192822)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3192818)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3192820)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3192821)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3192819)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3192815)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3192816)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3192821)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3192819)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3192822)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3192815)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3192818)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3192816)[0m malloc_consolidate(): invalid chunk size
E0816 23:00:35.671758030 3299699 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
INFO flwr 2023-08-16 23:01:00,040 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 23:01:00,040 | fed_df.py:547 | Average fusion training loss : 0.004495166294276714, val accuracy : 0.841267073525138, best val accuracy : 0.8459750072653298
INFO flwr 2023-08-16 23:01:00,041 | common.py:35 | Avg. local train loss : 3.056729830056429, train acc : 0.9207530507385999
INFO flwr 2023-08-16 23:01:03,096 | server.py:116 | fit progress: (26, 0.682775181798112, {'server_test_acc': 0.7857464281696479}, 2337.2618005578406)
INFO flwr 2023-08-16 23:01:03,096 | server.py:163 | evaluate_round 26: no clients selected, cancel
DEBUG flwr 2023-08-16 23:01:11,275 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-16 23:01:57,597 | server.py:229 | fit_round 27 received 8 results and 0 failures
INFO flwr 2023-08-16 23:01:57,848 | fed_df.py:463 | Performing server side distillation training...
[W] [23:01:09.061913] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3342208)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3342190)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3342206)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3342207)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3342211)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3342205)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3342210)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3342209)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3342206)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3342205)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3342209)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3342210)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3342208)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3342190)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3342207)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3342211)[0m double free or corruption (fasttop)
E0816 23:01:59.922158647 3300479 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
INFO flwr 2023-08-16 23:02:28,634 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 23:02:28,634 | fed_df.py:547 | Average fusion training loss : 0.010685920614749194, val accuracy : 0.8324324324324325, best val accuracy : 0.8363847718686428
INFO flwr 2023-08-16 23:02:28,635 | common.py:35 | Avg. local train loss : 3.2031510286033154, train acc : 0.9083413615928068
INFO flwr 2023-08-16 23:02:31,679 | server.py:116 | fit progress: (27, 0.7145241196531857, {'server_test_acc': 0.7815277309033637}, 2425.8447304139845)
INFO flwr 2023-08-16 23:02:31,679 | server.py:163 | evaluate_round 27: no clients selected, cancel
DEBUG flwr 2023-08-16 23:02:39,899 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3493028)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3493027)[0m double free or corruption (fasttop)
DEBUG flwr 2023-08-16 23:03:26,891 | server.py:229 | fit_round 28 received 8 results and 0 failures
INFO flwr 2023-08-16 23:03:27,164 | fed_df.py:463 | Performing server side distillation training...
[W] [23:02:37.741604] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3493028)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3493031)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3493027)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3493033)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3493049)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3493037)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3493048)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3493047)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3493049)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3493033)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3493031)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3493048)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3493047)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3493037)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-16 23:03:59,220 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 23:03:59,220 | fed_df.py:547 | Average fusion training loss : 0.008435461800545455, val accuracy : 0.7901772740482418, best val accuracy : 0.8224353385643708
INFO flwr 2023-08-16 23:03:59,221 | common.py:35 | Avg. local train loss : 3.173104342445731, train acc : 0.9113680154142583
INFO flwr 2023-08-16 23:04:02,310 | server.py:116 | fit progress: (28, 0.7445172874097924, {'server_test_acc': 0.7652154348070649}, 2516.475502257701)
INFO flwr 2023-08-16 23:04:02,310 | server.py:163 | evaluate_round 28: no clients selected, cancel
DEBUG flwr 2023-08-16 23:04:10,613 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3642344)[0m corrupted size vs. prev_size in fastbins
DEBUG flwr 2023-08-16 23:04:58,750 | server.py:229 | fit_round 29 received 8 results and 0 failures
INFO flwr 2023-08-16 23:04:59,005 | fed_df.py:463 | Performing server side distillation training...
[W] [23:04:08.373482] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3642344)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3642341)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3642352)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3642348)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3642350)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3642347)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3642351)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3642349)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3642341)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3642349)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3642348)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3642350)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3642347)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3642351)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3642352)[0m malloc_consolidate(): invalid chunk size
INFO flwr 2023-08-16 23:05:30,078 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 23:05:30,079 | fed_df.py:547 | Average fusion training loss : 0.017685241170227527, val accuracy : 0.8261551874455101, best val accuracy : 0.8317349607672189
INFO flwr 2023-08-16 23:05:30,080 | common.py:35 | Avg. local train loss : 3.1634268831461667, train acc : 0.9116329479768787
INFO flwr 2023-08-16 23:05:33,154 | server.py:116 | fit progress: (29, 0.7090379687285769, {'server_test_acc': 0.7721903476206547}, 2607.319940416608)
INFO flwr 2023-08-16 23:05:33,155 | server.py:163 | evaluate_round 29: no clients selected, cancel
DEBUG flwr 2023-08-16 23:05:41,371 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-08-16 23:06:28,496 | server.py:229 | fit_round 30 received 8 results and 0 failures
INFO flwr 2023-08-16 23:06:28,715 | fed_df.py:365 | Warm start at round 30
INFO flwr 2023-08-16 23:06:28,805 | fed_df.py:463 | Performing server side distillation training...
[W] [23:05:39.116236] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3791606)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3791613)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3791611)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3791615)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3791614)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3791616)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3791612)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3791609)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3791611)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3791614)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3791613)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3791616)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3791606)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3791609)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3791612)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3791615)[0m malloc_consolidate(): invalid chunk size
E0816 23:06:31.102937079 3439998 chttp2_transport.cc:1079]             ipv4:145.136.62.32:62187: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
INFO flwr 2023-08-16 23:07:00,230 | fed_df.py:540 | Distillation training stopped at step number : 250
INFO flwr 2023-08-16 23:07:00,230 | fed_df.py:547 | Average fusion training loss : 0.019129528250545265, val accuracy : 0.8565533275210694, best val accuracy : 0.8602150537634409
INFO flwr 2023-08-16 23:07:00,231 | common.py:35 | Avg. local train loss : 3.155380851775408, train acc : 0.9129616249197173
INFO flwr 2023-08-16 23:07:03,306 | server.py:116 | fit progress: (30, 0.631431449128828, {'server_test_acc': 0.8109461131735853}, 2697.4712554858997)
INFO flwr 2023-08-16 23:07:03,306 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-08-16 23:07:03,306 | server.py:144 | FL finished in 2697.471674911678
INFO flwr 2023-08-16 23:07:03,306 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-08-16 23:07:03,307 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-08-16 23:07:03,307 | app.py:204 | app_fit: losses_centralized [(0, 2.4133372260153876), (1, 1.569403406444236), (2, 1.2126537781757343), (3, 1.2968608466963865), (4, 0.9671476692219448), (5, 1.0171631576910587), (6, 0.969289384203132), (7, 0.9693368634298931), (8, 0.7239880947525449), (9, 0.8672356143659166), (10, 0.6423027320953654), (11, 0.6392194902632686), (12, 0.6593923956031726), (13, 0.8030470162412154), (14, 0.8614662746326877), (15, 0.7798389233544004), (16, 0.9419974443922967), (17, 0.9924833358024797), (18, 0.922536427050155), (19, 0.6453357927844017), (20, 0.6003382907352025), (21, 0.6505046453528522), (22, 0.701099048571158), (23, 0.669755103765396), (24, 0.788412303755047), (25, 0.6446099042597416), (26, 0.682775181798112), (27, 0.7145241196531857), (28, 0.7445172874097924), (29, 0.7090379687285769), (30, 0.631431449128828)]
INFO flwr 2023-08-16 23:07:03,307 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.043143210709866125), (1, 0.44324445944425694), (2, 0.5449994375070312), (3, 0.5449994375070312), (4, 0.6829227134660817), (5, 0.6948475644054449), (6, 0.7165597930025874), (7, 0.7383845201934975), (8, 0.7539093261334233), (9, 0.7395657554280571), (10, 0.8005962425469682), (11, 0.7975587805152435), (12, 0.7840589492631342), (13, 0.751884351445607), (14, 0.7471594105073687), (15, 0.7391720103498707), (16, 0.7442344470694117), (17, 0.751884351445607), (18, 0.747609404882439), (19, 0.809427382157723), (20, 0.8161210484868939), (21, 0.7958150523118461), (22, 0.780121498481269), (23, 0.7967150410619868), (24, 0.7571717853526831), (25, 0.7935650804364945), (26, 0.7857464281696479), (27, 0.7815277309033637), (28, 0.7652154348070649), (29, 0.7721903476206547), (30, 0.8109461131735853)]}
malloc_consolidate(): invalid chunk size
srun: error: gcn32: task 0: Aborted
srun: Terminating StepId=3367411.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3367411
Cluster: snellius
User/Group: sunnys/sunnys
State: COMPLETED (exit code 0)
Nodes: 1
Cores per node: 18
CPU Utilized: 01:48:29
CPU Efficiency: 12.17% of 14:51:36 core-walltime
Job Wall-clock time: 00:49:32
Memory Utilized: 42.56 GB
Memory Efficiency: 35.46% of 120.00 GB
