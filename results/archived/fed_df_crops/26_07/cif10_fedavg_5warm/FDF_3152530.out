-----BEGIN-----
-----SETTINGS-----
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:cifar10
PARTITION_ALPHA:10.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:40
LOCAL_LR:0.05
DISTILL_BATCH_SIZE:512
SERVER_LR:0.005
SERVER_STEPS:500
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
SEED:127
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:ameyoko.jpg
DISTILL_DATASET:cifar100
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:10000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:5
KMEANS_N_CLUSTER:50
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
CONFIDENCE_THRESHOLD:0.9
CONFIDENCE_MIN_CROPS:2500
CLIPPING_FACTOR:2.5
FEDPROX_FACTOR:1.0
FEDPROX_ADAPTIVE:False
USE_CLIPPING:True
USE_ENTROPY:True
USE_KMEANS:True
USE_FEDPROX:False
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=100000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/ameyoko.jpg', targetpath='/scratch-local/sunnys.3152530/1690367596_917897438', seed=127, img_per_thread=5555)
will save 100000 patches in /scratch-local/sunnys.3152530/1690367596_917897438/single_img_crops/crops
100000 took 0.60min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-07-26 12:34:07,509 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-07-26 12:34:07,509 | simulate.py:55 | Reading args from argument parser
Downloading https://www.cs.toronto.edu/~kriz/cifar-10-python.tar.gz to /scratch-local/sunnys.3152530/1690367596_917897438/cifar-10-python.tar.gz
Extracting /scratch-local/sunnys.3152530/1690367596_917897438/cifar-10-python.tar.gz to /scratch-local/sunnys.3152530/1690367596_917897438
Generating unified cifar10 dataset
Class histogram for 0-th partition (alpha=10.0, 10 classes): [168 280 148 366 230 296 258 287 163 304]
INFO flwr 2023-07-26 12:34:46,590 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-07-26 12:34:49,552	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8265 [39m[22m
INFO flwr 2023-07-26 12:34:50,580 | app.py:179 | Flower VCE: Ray initialized with resources: {'object_store_memory': 61847529062.0, 'GPU': 1.0, 'node:145.136.62.71': 1.0, 'CPU': 18.0, 'accelerator_type:A100': 1.0, 'memory': 103079215104.0}
INFO flwr 2023-07-26 12:34:50,581 | server.py:86 | Initializing global parameters
INFO flwr 2023-07-26 12:34:50,581 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-07-26 12:34:50,581 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-07-26 12:34:59,222 | server.py:91 | initial parameters (loss, other metrics): 2.3034546997070313, {'server_test_acc': 0.1285}
INFO flwr 2023-07-26 12:34:59,222 | server.py:101 | FL starting
Cluster score for round 1 = 15505.578125
INFO flwr 2023-07-26 12:35:06,550 | fed_df.py:230 | Number of selected crops : 10000
DEBUG flwr 2023-07-26 12:35:09,354 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3028247)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3028250)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:36:30,743 | server.py:229 | fit_round 1 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3028246)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3028247)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3028244)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3028243)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3028245)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3028249)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3028248)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3028250)[0m Fitting Client 12
Warm start at round 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3028244)[0m double free or corruption (fasttop)
E0726 12:36:31.567918805 3117871 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
[2m[36m(launch_and_fit pid=3028243)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3028248)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3028246)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3028249)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.3771831322312355, val accuracy : 0.42103999999999997, best val accuracy : 0.4544
Average local training loss : 8.567109312862158
Average local training accuracy : 0.4067125
INFO flwr 2023-07-26 12:37:26,691 | server.py:116 | fit progress: (1, 1.7771127746582032, {'server_test_acc': 0.4433}, 147.46847817208618)
INFO flwr 2023-07-26 12:37:26,691 | server.py:163 | evaluate_round 1: no clients selected, cancel
Cluster score for round 2 = 82786.4140625
INFO flwr 2023-07-26 12:37:34,542 | fed_df.py:230 | Number of selected crops : 7098
DEBUG flwr 2023-07-26 12:37:36,740 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3166249)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:38:55,235 | server.py:229 | fit_round 2 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3166249)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3166248)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3166254)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3166253)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3166252)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3166251)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3166256)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3166255)[0m Fitting Client 9
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3166256)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3166253)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3166251)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3166255)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3166248)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3166254)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3166252)[0m malloc_consolidate(): invalid chunk size
E0726 12:38:58.647726898 3118142 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
E0726 12:39:15.040131781 3270772 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.05746420076861978, val accuracy : 0.5017, best val accuracy : 0.5342
Average local training loss : 7.144381769560279
Average local training accuracy : 0.5554180555555555
INFO flwr 2023-07-26 12:40:11,545 | server.py:116 | fit progress: (2, 1.4347612762451172, {'server_test_acc': 0.5294}, 312.32234596903436)
INFO flwr 2023-07-26 12:40:11,545 | server.py:163 | evaluate_round 2: no clients selected, cancel
Cluster score for round 3 = 106307.296875
INFO flwr 2023-07-26 12:40:19,487 | fed_df.py:230 | Number of selected crops : 8268
DEBUG flwr 2023-07-26 12:40:21,918 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3317821)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:41:40,346 | server.py:229 | fit_round 3 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3317822)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3317822)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3317821)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3317825)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3317826)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3317823)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3317824)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3317828)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3317827)[0m Fitting Client 0
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3317828)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3317824)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3317823)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3317827)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3317826)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3317825)[0m malloc_consolidate(): invalid chunk size
E0726 12:41:44.820907947 3271109 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.045522064000368116, val accuracy : 0.49901999999999996, best val accuracy : 0.5218
Average local training loss : 6.734439241141081
Average local training accuracy : 0.5988611111111111
INFO flwr 2023-07-26 12:42:49,593 | server.py:116 | fit progress: (3, 1.5590302642822265, {'server_test_acc': 0.5153}, 470.3708300240105)
INFO flwr 2023-07-26 12:42:49,593 | server.py:163 | evaluate_round 3: no clients selected, cancel
Cluster score for round 4 = 70037.4375
INFO flwr 2023-07-26 12:42:57,598 | fed_df.py:230 | Number of selected crops : 8699
DEBUG flwr 2023-07-26 12:43:00,193 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3462457)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3462461)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3462462)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3462463)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:44:19,473 | server.py:229 | fit_round 4 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3462465)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3462457)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3462461)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3462465)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3462463)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3462462)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3462464)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3462466)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3462467)[0m Fitting Client 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3462464)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3462467)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3462466)[0m malloc_consolidate(): invalid chunk size
E0726 12:44:22.189839400 3553196 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.022197033582255245, val accuracy : 0.54278, best val accuracy : 0.555
Average local training loss : 6.317019436135888
Average local training accuracy : 0.6429555555555555
INFO flwr 2023-07-26 12:45:30,238 | server.py:116 | fit progress: (4, 1.4245547607421876, {'server_test_acc': 0.5484}, 631.0156352230115)
INFO flwr 2023-07-26 12:45:30,238 | server.py:163 | evaluate_round 4: no clients selected, cancel
Cluster score for round 5 = 65592.171875
INFO flwr 2023-07-26 12:45:38,262 | fed_df.py:230 | Number of selected crops : 9170
DEBUG flwr 2023-07-26 12:45:40,873 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3628061)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3628056)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:46:59,664 | server.py:229 | fit_round 5 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3628055)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3628059)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3628057)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3628055)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3628056)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3628058)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3628059)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3628061)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3628062)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3628057)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3628060)[0m Fitting Client 16
Warm start at round 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3628058)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3628062)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3628060)[0m malloc_consolidate(): invalid chunk size
E0726 12:47:02.117621510 3553868 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.03460057406127453, val accuracy : 0.5848, best val accuracy : 0.5918
Average local training loss : 5.935481347888707
Average local training accuracy : 0.6822805555555554
INFO flwr 2023-07-26 12:48:05,258 | server.py:116 | fit progress: (5, 1.373192578125, {'server_test_acc': 0.5802}, 786.0357437650673)
INFO flwr 2023-07-26 12:48:05,258 | server.py:163 | evaluate_round 5: no clients selected, cancel
Cluster score for round 6 = 19715.603515625
INFO flwr 2023-07-26 12:48:13,197 | fed_df.py:230 | Number of selected crops : 8912
DEBUG flwr 2023-07-26 12:48:15,744 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3772577)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3772587)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:49:34,567 | server.py:229 | fit_round 6 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3772586)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3772585)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3772576)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3772577)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3772576)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3772583)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3772586)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3772585)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3772584)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3772581)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3772587)[0m Fitting Client 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3772584)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3772581)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3772583)[0m malloc_consolidate(): invalid chunk size
E0726 12:49:39.247497150 3721945 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
E0726 12:49:39.247600617 3721945 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.009038162643089891, val accuracy : 0.60944, best val accuracy : 0.6302
Average local training loss : 5.143973200209439
Average local training accuracy : 0.7722138888888889
INFO flwr 2023-07-26 12:50:41,054 | server.py:116 | fit progress: (6, 1.4011932922363282, {'server_test_acc': 0.6173}, 941.831977034104)
INFO flwr 2023-07-26 12:50:41,055 | server.py:163 | evaluate_round 6: no clients selected, cancel
Cluster score for round 7 = 19543.26171875
INFO flwr 2023-07-26 12:50:49,091 | fed_df.py:230 | Number of selected crops : 9434
DEBUG flwr 2023-07-26 12:50:51,723 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3914686)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:52:11,083 | server.py:229 | fit_round 7 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3914683)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3914685)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3914689)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3914687)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3914684)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3914686)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3914690)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3914688)[0m Fitting Client 0
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3914684)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3914685)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3914690)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3914689)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3914688)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3914683)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3914687)[0m malloc_consolidate(): invalid chunk size
E0726 12:52:13.486112949 4005632 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.011838463756255805, val accuracy : 0.62762, best val accuracy : 0.6326
Average local training loss : 4.903129092045129
Average local training accuracy : 0.7948944444444443
INFO flwr 2023-07-26 12:53:17,608 | server.py:116 | fit progress: (7, 1.4389036529541015, {'server_test_acc': 0.6294}, 1098.3862105400767)
INFO flwr 2023-07-26 12:53:17,609 | server.py:163 | evaluate_round 7: no clients selected, cancel
Cluster score for round 8 = 17572.705078125
INFO flwr 2023-07-26 12:53:25,623 | fed_df.py:230 | Number of selected crops : 9553
DEBUG flwr 2023-07-26 12:53:28,303 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=4055369)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4055371)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4055373)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:54:46,781 | server.py:229 | fit_round 8 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=4055374)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4055369)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=4055371)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=4055373)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=4055374)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=4055375)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=4055376)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=4055378)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=4055377)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=4055378)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4055375)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4055376)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4055377)[0m malloc_consolidate(): invalid chunk size
E0726 12:54:49.926808556 4146662 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.007867960127070545, val accuracy : 0.64922, best val accuracy : 0.6628
Average local training loss : 4.946132561378181
Average local training accuracy : 0.7931736111111112
INFO flwr 2023-07-26 12:55:52,158 | server.py:116 | fit progress: (8, 1.3987951141357422, {'server_test_acc': 0.6415}, 1252.9359391640173)
INFO flwr 2023-07-26 12:55:52,158 | server.py:163 | evaluate_round 8: no clients selected, cancel
Cluster score for round 9 = 17516.265625
INFO flwr 2023-07-26 12:56:00,156 | fed_df.py:230 | Number of selected crops : 9547
DEBUG flwr 2023-07-26 12:56:02,791 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2228)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2232)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:57:21,397 | server.py:229 | fit_round 9 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2228)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2231)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2232)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2234)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2235)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2238)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2236)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2237)[0m Fitting Client 18
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2237)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2231)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2235)[0m malloc_consolidate(): invalid chunk size
E0726 12:57:22.434032340 4147133 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
[2m[36m(launch_and_fit pid=2234)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2236)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2238)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.011689225484617054, val accuracy : 0.6367999999999999, best val accuracy : 0.6444
Average local training loss : 4.799271653965115
Average local training accuracy : 0.8061416666666666
INFO flwr 2023-07-26 12:58:27,307 | server.py:116 | fit progress: (9, 1.389525323486328, {'server_test_acc': 0.6353}, 1408.084801588091)
INFO flwr 2023-07-26 12:58:27,307 | server.py:163 | evaluate_round 9: no clients selected, cancel
Cluster score for round 10 = 19145.7734375
INFO flwr 2023-07-26 12:58:35,441 | fed_df.py:230 | Number of selected crops : 9407
DEBUG flwr 2023-07-26 12:58:38,068 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=143610)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:59:56,584 | server.py:229 | fit_round 10 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=143614)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=143610)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=143609)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=143611)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=143613)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=143615)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=143614)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=143617)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=143616)[0m Fitting Client 3
Warm start at round 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=143609)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=143613)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=143617)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=143611)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=143615)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=143616)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.024348114667460324, val accuracy : 0.6829000000000001, best val accuracy : 0.6904
Average local training loss : 4.912100936286152
Average local training accuracy : 0.796261111111111
INFO flwr 2023-07-26 13:01:02,492 | server.py:116 | fit progress: (10, 1.4895893035888672, {'server_test_acc': 0.6775}, 1563.2699083130574)
INFO flwr 2023-07-26 13:01:02,492 | server.py:163 | evaluate_round 10: no clients selected, cancel
Cluster score for round 11 = 3662.6728515625
INFO flwr 2023-07-26 13:01:10,711 | fed_df.py:230 | Number of selected crops : 9727
DEBUG flwr 2023-07-26 13:01:13,472 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=308070)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:02:32,127 | server.py:229 | fit_round 11 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=308076)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=308069)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=308070)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=308071)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=308069)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=308076)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=308074)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=308075)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=308073)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=308072)[0m Fitting Client 4
Performing server side distillation training...
[2m[36m(launch_and_fit pid=308075)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=308071)[0m malloc_consolidate(): invalid chunk size
E0726 13:02:33.395100829  398238 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
[2m[36m(launch_and_fit pid=308073)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=308074)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=308072)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.007773099260404706, val accuracy : 0.6852400000000001, best val accuracy : 0.6924
Average local training loss : 4.345168063975871
Average local training accuracy : 0.8556916666666666
INFO flwr 2023-07-26 13:03:38,770 | server.py:116 | fit progress: (11, 1.380878500366211, {'server_test_acc': 0.6835}, 1719.5477713081054)
INFO flwr 2023-07-26 13:03:38,770 | server.py:163 | evaluate_round 11: no clients selected, cancel
Cluster score for round 12 = 5635.15625
INFO flwr 2023-07-26 13:03:46,897 | fed_df.py:230 | Number of selected crops : 9686
DEBUG flwr 2023-07-26 13:03:49,613 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=449304)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=449305)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:05:08,634 | server.py:229 | fit_round 12 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=449312)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=449309)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=449304)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=449309)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=449307)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=449305)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=449311)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=449310)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=449308)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=449312)[0m Fitting Client 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=449307)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=449310)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=449311)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=449308)[0m double free or corruption (fasttop)
E0726 13:05:11.573547196  398445 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.011916332731954754, val accuracy : 0.6919000000000001, best val accuracy : 0.696
Average local training loss : 4.373525874875486
Average local training accuracy : 0.8532500000000002
INFO flwr 2023-07-26 13:06:14,194 | server.py:116 | fit progress: (12, 1.3571307342529297, {'server_test_acc': 0.686}, 1874.9721820190316)
INFO flwr 2023-07-26 13:06:14,195 | server.py:163 | evaluate_round 12: no clients selected, cancel
Cluster score for round 13 = 6315.515625
INFO flwr 2023-07-26 13:06:22,261 | fed_df.py:230 | Number of selected crops : 9267
DEBUG flwr 2023-07-26 13:06:24,869 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=589734)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=589760)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:07:43,483 | server.py:229 | fit_round 13 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=589732)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=589734)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=589760)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=589749)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=589761)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=589735)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=589747)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=589732)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=589746)[0m Fitting Client 17
Performing server side distillation training...
[2m[36m(launch_and_fit pid=589761)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=589749)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=589735)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=589746)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=589747)[0m malloc_consolidate(): invalid chunk size
E0726 13:07:46.177088027  540817 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.010365197264589369, val accuracy : 0.69356, best val accuracy : 0.6992
Average local training loss : 4.366545141674578
Average local training accuracy : 0.8554402777777778
INFO flwr 2023-07-26 13:08:48,821 | server.py:116 | fit progress: (13, 1.3228754089355468, {'server_test_acc': 0.6902}, 2029.5991137180245)
INFO flwr 2023-07-26 13:08:48,822 | server.py:163 | evaluate_round 13: no clients selected, cancel
Cluster score for round 14 = 7201.82421875
INFO flwr 2023-07-26 13:08:56,824 | fed_df.py:230 | Number of selected crops : 9371
DEBUG flwr 2023-07-26 13:08:59,464 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=730519)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=730521)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=730522)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:10:18,054 | server.py:229 | fit_round 14 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=730526)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=730524)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=730519)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=730523)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=730522)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=730526)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=730527)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=730521)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=730524)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=730525)[0m Fitting Client 2
Performing server side distillation training...
[2m[36m(launch_and_fit pid=730523)[0m malloc_consolidate(): invalid chunk size
E0726 13:10:19.147071337  681416 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
[2m[36m(launch_and_fit pid=730527)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=730525)[0m malloc_consolidate(): invalid chunk size
E0726 13:10:34.971815503  832087 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.006221573711372912, val accuracy : 0.69508, best val accuracy : 0.7028
Average local training loss : 4.3121334498748185
Average local training accuracy : 0.860675
INFO flwr 2023-07-26 13:11:23,457 | server.py:116 | fit progress: (14, 1.2960919006347655, {'server_test_acc': 0.6904}, 2184.2347939880565)
INFO flwr 2023-07-26 13:11:23,457 | server.py:163 | evaluate_round 14: no clients selected, cancel
Cluster score for round 15 = 8626.912109375
INFO flwr 2023-07-26 13:11:31,525 | fed_df.py:230 | Number of selected crops : 9415
DEBUG flwr 2023-07-26 13:11:34,162 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=871130)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=871137)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=871132)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:12:52,697 | server.py:229 | fit_round 15 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=871130)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=871132)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=871137)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=871139)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=871136)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=871138)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=871134)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=871133)[0m Fitting Client 0
Warm start at round 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=871136)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=871134)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=871138)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=871133)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=871139)[0m malloc_consolidate(): invalid chunk size
E0726 13:12:55.202900612  962209 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.035830675100907684, val accuracy : 0.70828, best val accuracy : 0.7142
Average local training loss : 4.403531367331743
Average local training accuracy : 0.8510333333333333
INFO flwr 2023-07-26 13:13:58,162 | server.py:116 | fit progress: (15, 1.2615461791992189, {'server_test_acc': 0.7025}, 2338.940023481031)
INFO flwr 2023-07-26 13:13:58,163 | server.py:163 | evaluate_round 15: no clients selected, cancel
Cluster score for round 16 = 4372.2939453125
INFO flwr 2023-07-26 13:14:06,349 | fed_df.py:230 | Number of selected crops : 8848
DEBUG flwr 2023-07-26 13:14:08,918 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1011858)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:15:27,950 | server.py:229 | fit_round 16 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1011862)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1011864)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1011865)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1011858)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1011866)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1011864)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1011863)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1011861)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1011862)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1011860)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1011865)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1011866)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1011863)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1011861)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1011860)[0m double free or corruption (fasttop)
E0726 13:15:30.603553870  962480 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.00910625017248094, val accuracy : 0.71946, best val accuracy : 0.725
Average local training loss : 4.033228620514273
Average local training accuracy : 0.8869
INFO flwr 2023-07-26 13:16:35,081 | server.py:116 | fit progress: (16, 1.1575845184326172, {'server_test_acc': 0.7085}, 2495.859074549051)
INFO flwr 2023-07-26 13:16:35,082 | server.py:163 | evaluate_round 16: no clients selected, cancel
Cluster score for round 17 = 6026.490234375
INFO flwr 2023-07-26 13:16:43,152 | fed_df.py:230 | Number of selected crops : 9128
DEBUG flwr 2023-07-26 13:16:45,731 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1177684)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1177688)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1177687)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:18:04,272 | server.py:229 | fit_round 17 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1177681)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1177684)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1177685)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1177682)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1177687)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1177688)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1177689)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1177686)[0m Fitting Client 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1177681)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1177682)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1177686)[0m malloc_consolidate(): invalid chunk size
E0726 13:18:05.516058746 1112923 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1177685)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1177689)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.010869240178726614, val accuracy : 0.7155600000000001, best val accuracy : 0.7216
Average local training loss : 4.069512387178838
Average local training accuracy : 0.8831333333333334
INFO flwr 2023-07-26 13:19:11,659 | server.py:116 | fit progress: (17, 1.2184424774169922, {'server_test_acc': 0.705}, 2652.4364337100415)
INFO flwr 2023-07-26 13:19:11,659 | server.py:163 | evaluate_round 17: no clients selected, cancel
Cluster score for round 18 = 6620.287109375
INFO flwr 2023-07-26 13:19:19,663 | fed_df.py:230 | Number of selected crops : 8978
DEBUG flwr 2023-07-26 13:19:22,230 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1319378)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1319379)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1319385)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:20:41,177 | server.py:229 | fit_round 18 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1319378)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1319379)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1319383)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1319386)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1319384)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1319385)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1319382)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1319381)[0m Fitting Client 0
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1319386)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1319382)[0m malloc_consolidate(): invalid chunk size
E0726 13:20:41.966806002 1267894 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1319381)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1319384)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1319383)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.006609618293587118, val accuracy : 0.7293000000000001, best val accuracy : 0.7338
Average local training loss : 4.037252306193113
Average local training accuracy : 0.8840625000000001
INFO flwr 2023-07-26 13:21:47,863 | server.py:116 | fit progress: (18, 1.1427830993652344, {'server_test_acc': 0.717}, 2808.640891597024)
INFO flwr 2023-07-26 13:21:47,863 | server.py:163 | evaluate_round 18: no clients selected, cancel
Cluster score for round 19 = 7219.9892578125
INFO flwr 2023-07-26 13:21:55,947 | fed_df.py:230 | Number of selected crops : 9119
DEBUG flwr 2023-07-26 13:21:58,552 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1461371)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:23:17,307 | server.py:229 | fit_round 19 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1461373)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1461374)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1461371)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1461372)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1461375)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1461376)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1461368)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1461377)[0m Fitting Client 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1461376)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1461372)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1461374)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1461375)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1461377)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1461368)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1461373)[0m double free or corruption (fasttop)
E0726 13:23:21.972849987 1409408 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.0077174444017000495, val accuracy : 0.73038, best val accuracy : 0.7352
Average local training loss : 4.056966570019722
Average local training accuracy : 0.8833444444444445
INFO flwr 2023-07-26 13:24:24,680 | server.py:116 | fit progress: (19, 1.155823794555664, {'server_test_acc': 0.724}, 2965.457814555033)
INFO flwr 2023-07-26 13:24:24,680 | server.py:163 | evaluate_round 19: no clients selected, cancel
Cluster score for round 20 = 7855.2939453125
INFO flwr 2023-07-26 13:24:32,876 | fed_df.py:230 | Number of selected crops : 8945
DEBUG flwr 2023-07-26 13:24:35,485 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1602990)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1602980)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1602987)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1602989)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1602978)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:25:55,223 | server.py:229 | fit_round 20 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1602991)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1602992)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1602978)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1602980)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1602987)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1602989)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1602990)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1602991)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1602992)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1602977)[0m Fitting Client 4
Warm start at round 20
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1602977)[0m malloc_consolidate(): invalid chunk size
E0726 13:25:56.821795667 1554056 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.024861953848972915, val accuracy : 0.74012, best val accuracy : 0.7484
Average local training loss : 4.058180930279195
Average local training accuracy : 0.8837305555555556
INFO flwr 2023-07-26 13:27:01,928 | server.py:116 | fit progress: (20, 1.1932376708984376, {'server_test_acc': 0.726}, 3122.7057690121)
INFO flwr 2023-07-26 13:27:01,928 | server.py:163 | evaluate_round 20: no clients selected, cancel
Cluster score for round 21 = 3225.49609375
INFO flwr 2023-07-26 13:27:10,008 | fed_df.py:230 | Number of selected crops : 8949
DEBUG flwr 2023-07-26 13:27:12,640 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1744866)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:28:30,755 | server.py:229 | fit_round 21 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1744866)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1744872)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1744870)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1744871)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1744873)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1744876)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1744875)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1744874)[0m Fitting Client 11
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1744870)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1744874)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1744873)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1744872)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1744875)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1744871)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1744876)[0m malloc_consolidate(): invalid chunk size
E0726 13:28:33.095238838 1693593 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.009667721390724183, val accuracy : 0.7459399999999999, best val accuracy : 0.7482
Average local training loss : 3.8958657450973986
Average local training accuracy : 0.8997375
INFO flwr 2023-07-26 13:29:37,797 | server.py:116 | fit progress: (21, 1.1246210632324218, {'server_test_acc': 0.7345}, 3278.574564758106)
INFO flwr 2023-07-26 13:29:37,797 | server.py:163 | evaluate_round 21: no clients selected, cancel
Cluster score for round 22 = 5077.80859375
INFO flwr 2023-07-26 13:29:45,819 | fed_df.py:230 | Number of selected crops : 8670
DEBUG flwr 2023-07-26 13:29:48,332 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1887006)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1887005)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:31:06,940 | server.py:229 | fit_round 22 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1887005)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1887006)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1887003)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1887008)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1887009)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1887010)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1887012)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1887011)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1887008)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1887010)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1887011)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1887003)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1887009)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1887012)[0m malloc_consolidate(): invalid chunk size
E0726 13:31:09.360892163 1981815 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.009989375817589461, val accuracy : 0.7517199999999999, best val accuracy : 0.7542
Average local training loss : 3.857387402281165
Average local training accuracy : 0.9014625
INFO flwr 2023-07-26 13:32:17,263 | server.py:116 | fit progress: (22, 1.111905731201172, {'server_test_acc': 0.7343}, 3438.041165110073)
INFO flwr 2023-07-26 13:32:17,264 | server.py:163 | evaluate_round 22: no clients selected, cancel
Cluster score for round 23 = 5926.6787109375
INFO flwr 2023-07-26 13:32:25,309 | fed_df.py:230 | Number of selected crops : 8399
DEBUG flwr 2023-07-26 13:32:27,810 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2055422)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:33:46,149 | server.py:229 | fit_round 23 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2055429)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2055422)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2055431)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2055426)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2055427)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2055428)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2055423)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2055429)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2055430)[0m Fitting Client 0
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2055426)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=2055430)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2055428)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2055423)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2055427)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2055431)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.008201760557480156, val accuracy : 0.7443799999999998, best val accuracy : 0.7466
Average local training loss : 3.8775624476373194
Average local training accuracy : 0.9011750000000001
INFO flwr 2023-07-26 13:34:56,469 | server.py:116 | fit progress: (23, 1.0854027679443359, {'server_test_acc': 0.7301}, 3597.2465851290617)
INFO flwr 2023-07-26 13:34:56,469 | server.py:163 | evaluate_round 23: no clients selected, cancel
Cluster score for round 24 = 6436.423828125
INFO flwr 2023-07-26 13:35:04,640 | fed_df.py:230 | Number of selected crops : 8555
DEBUG flwr 2023-07-26 13:35:07,128 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2199714)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2199707)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:36:25,656 | server.py:229 | fit_round 24 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2199707)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2199715)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2199711)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2199713)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2199714)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2199716)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2199710)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2199712)[0m Fitting Client 11
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2199715)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2199710)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2199716)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2199713)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2199711)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2199712)[0m double free or corruption (fasttop)
E0726 13:36:28.596366760 2291021 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 13:36:43.648238154 2291293 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.008682446402497589, val accuracy : 0.7412, best val accuracy : 0.744
Average local training loss : 3.889754044823349
Average local training accuracy : 0.897675
INFO flwr 2023-07-26 13:37:35,012 | server.py:116 | fit progress: (24, 1.1157109954833984, {'server_test_acc': 0.7306}, 3755.7901259490754)
INFO flwr 2023-07-26 13:37:35,013 | server.py:163 | evaluate_round 24: no clients selected, cancel
Cluster score for round 25 = 7386.2958984375
INFO flwr 2023-07-26 13:37:43,082 | fed_df.py:230 | Number of selected crops : 8293
DEBUG flwr 2023-07-26 13:37:45,532 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2344091)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:39:04,442 | server.py:229 | fit_round 25 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2344084)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2344092)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2344091)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2344090)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2344093)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2344088)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2344086)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2344089)[0m Fitting Client 8
Warm start at round 25
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2344086)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2344093)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2344089)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2344090)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2344084)[0m malloc_consolidate(): invalid chunk size
E0726 13:39:05.968492434 2303072 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2344088)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.020638682984746994, val accuracy : 0.7389, best val accuracy : 0.7516
Average local training loss : 3.928471519611776
Average local training accuracy : 0.8952083333333333
INFO flwr 2023-07-26 13:40:14,209 | server.py:116 | fit progress: (25, 1.1853106811523437, {'server_test_acc': 0.7366}, 3914.9862975260476)
INFO flwr 2023-07-26 13:40:14,209 | server.py:163 | evaluate_round 25: no clients selected, cancel
Cluster score for round 26 = 3200.4072265625
INFO flwr 2023-07-26 13:40:22,273 | fed_df.py:230 | Number of selected crops : 8497
DEBUG flwr 2023-07-26 13:40:24,738 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2488169)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:41:43,074 | server.py:229 | fit_round 26 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2488166)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2488166)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2488168)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2488169)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2488170)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2488173)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2488171)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2488172)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2488174)[0m Fitting Client 17
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2488170)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2488173)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2488171)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2488174)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2488168)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2488172)[0m malloc_consolidate(): invalid chunk size
E0726 13:41:47.798132274 2579438 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.010925773332826794, val accuracy : 0.7456799999999999, best val accuracy : 0.7506
Average local training loss : 3.7173497680574656
Average local training accuracy : 0.9126625
INFO flwr 2023-07-26 13:42:52,809 | server.py:116 | fit progress: (26, 1.1517530853271485, {'server_test_acc': 0.7356}, 4073.586239887052)
INFO flwr 2023-07-26 13:42:52,809 | server.py:163 | evaluate_round 26: no clients selected, cancel
Cluster score for round 27 = 3696.767578125
INFO flwr 2023-07-26 13:43:00,927 | fed_df.py:230 | Number of selected crops : 8448
DEBUG flwr 2023-07-26 13:43:03,400 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2632802)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:44:21,381 | server.py:229 | fit_round 27 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2632802)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2632804)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2632806)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2632808)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2632807)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2632811)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2632809)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2632810)[0m Fitting Client 0
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2632809)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2632808)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2632804)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2632810)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2632806)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2632811)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2632807)[0m malloc_consolidate(): invalid chunk size
E0726 13:44:23.873247879 2581576 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.01586249194480479, val accuracy : 0.7496400000000001, best val accuracy : 0.7522
Average local training loss : 3.728071008995175
Average local training accuracy : 0.9136902777777778
INFO flwr 2023-07-26 13:45:31,572 | server.py:116 | fit progress: (27, 1.114706414794922, {'server_test_acc': 0.7346}, 4232.350038611097)
INFO flwr 2023-07-26 13:45:31,573 | server.py:163 | evaluate_round 27: no clients selected, cancel
Cluster score for round 28 = 4866.8359375
INFO flwr 2023-07-26 13:45:39,677 | fed_df.py:230 | Number of selected crops : 8113
DEBUG flwr 2023-07-26 13:45:42,146 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2777286)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2777279)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2777282)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:47:01,380 | server.py:229 | fit_round 28 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2777279)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2777283)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2777282)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2777284)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2777281)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2777286)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2777285)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2777287)[0m Fitting Client 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2777281)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2777284)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2777285)[0m double free or corruption (fasttop)
E0726 13:47:02.742353556 2723874 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2777287)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2777283)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.008342183453962208, val accuracy : 0.75166, best val accuracy : 0.758
Average local training loss : 3.7450788090005513
Average local training accuracy : 0.9114249999999999
INFO flwr 2023-07-26 13:48:14,789 | server.py:116 | fit progress: (28, 1.07083984375, {'server_test_acc': 0.7405}, 4395.566419630079)
INFO flwr 2023-07-26 13:48:14,789 | server.py:163 | evaluate_round 28: no clients selected, cancel
Cluster score for round 29 = 6415.4130859375
INFO flwr 2023-07-26 13:48:22,998 | fed_df.py:230 | Number of selected crops : 8461
DEBUG flwr 2023-07-26 13:48:25,484 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2947905)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2947909)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:49:44,246 | server.py:229 | fit_round 29 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2947905)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2947906)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2947910)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2947909)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2947913)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2947908)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2947911)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2947912)[0m Fitting Client 7
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2947906)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2947911)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2947912)[0m malloc_consolidate(): invalid chunk size
E0726 13:49:45.663619416 3039096 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2947908)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2947913)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=2947910)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.010070058883167803, val accuracy : 0.7521800000000001, best val accuracy : 0.7564
Average local training loss : 3.763943671248853
Average local training accuracy : 0.9100416666666666
INFO flwr 2023-07-26 13:50:54,131 | server.py:116 | fit progress: (29, 1.0471889373779297, {'server_test_acc': 0.7344}, 4554.908611073042)
INFO flwr 2023-07-26 13:50:54,131 | server.py:163 | evaluate_round 29: no clients selected, cancel
Cluster score for round 30 = 7671.47216796875
INFO flwr 2023-07-26 13:51:02,516 | fed_df.py:230 | Number of selected crops : 8244
DEBUG flwr 2023-07-26 13:51:04,965 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3093138)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3093136)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3093147)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:52:23,858 | server.py:229 | fit_round 30 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3093144)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3093143)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3093145)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3093138)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3093136)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3093143)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3093142)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3093144)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3093145)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3093146)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3093147)[0m Fitting Client 12
Warm start at round 30
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3093146)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3093142)[0m double free or corruption (fasttop)
E0726 13:52:26.425107662 3039300 chttp2_transport.cc:1079]             ipv4:145.136.62.71:64723: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.019944789733737707, val accuracy : 0.7540199999999999, best val accuracy : 0.7658
Average local training loss : 3.7667665416374803
Average local training accuracy : 0.9083249999999999
INFO flwr 2023-07-26 13:53:33,837 | server.py:116 | fit progress: (30, 1.1048159698486328, {'server_test_acc': 0.7518}, 4714.614481944009)
INFO flwr 2023-07-26 13:53:33,837 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-07-26 13:53:33,837 | server.py:144 | FL finished in 4714.614936384023
INFO flwr 2023-07-26 13:53:33,837 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-07-26 13:53:33,839 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-07-26 13:53:33,839 | app.py:204 | app_fit: losses_centralized [(0, 2.3034546997070313), (1, 1.7771127746582032), (2, 1.4347612762451172), (3, 1.5590302642822265), (4, 1.4245547607421876), (5, 1.373192578125), (6, 1.4011932922363282), (7, 1.4389036529541015), (8, 1.3987951141357422), (9, 1.389525323486328), (10, 1.4895893035888672), (11, 1.380878500366211), (12, 1.3571307342529297), (13, 1.3228754089355468), (14, 1.2960919006347655), (15, 1.2615461791992189), (16, 1.1575845184326172), (17, 1.2184424774169922), (18, 1.1427830993652344), (19, 1.155823794555664), (20, 1.1932376708984376), (21, 1.1246210632324218), (22, 1.111905731201172), (23, 1.0854027679443359), (24, 1.1157109954833984), (25, 1.1853106811523437), (26, 1.1517530853271485), (27, 1.114706414794922), (28, 1.07083984375), (29, 1.0471889373779297), (30, 1.1048159698486328)]
INFO flwr 2023-07-26 13:53:33,839 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.1285), (1, 0.4433), (2, 0.5294), (3, 0.5153), (4, 0.5484), (5, 0.5802), (6, 0.6173), (7, 0.6294), (8, 0.6415), (9, 0.6353), (10, 0.6775), (11, 0.6835), (12, 0.686), (13, 0.6902), (14, 0.6904), (15, 0.7025), (16, 0.7085), (17, 0.705), (18, 0.717), (19, 0.724), (20, 0.726), (21, 0.7345), (22, 0.7343), (23, 0.7301), (24, 0.7306), (25, 0.7366), (26, 0.7356), (27, 0.7346), (28, 0.7405), (29, 0.7344), (30, 0.7518)]}
malloc_consolidate(): invalid chunk size
srun: error: gcn71: task 0: Aborted
srun: Terminating StepId=3152530.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3152530
Cluster: snellius
User/Group: sunnys/sunnys
State: RUNNING
Nodes: 1
Cores per node: 18
CPU Utilized: 02:49:26
CPU Efficiency: 11.35% of 1-00:52:30 core-walltime
Job Wall-clock time: 01:22:55
Memory Utilized: 59.44 GB
Memory Efficiency: 49.54% of 120.00 GB
WARNING: Efficiency statistics may be misleading for RUNNING jobs.
