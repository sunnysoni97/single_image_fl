-----BEGIN-----
-----SETTINGS-----
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:cifar10
PARTITION_ALPHA:10.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:40
LOCAL_LR:0.05
DISTILL_BATCH_SIZE:512
SERVER_LR:0.005
SERVER_STEPS:500
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
SEED:42
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:ameyoko.jpg
DISTILL_DATASET:cifar100
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:10000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:5
KMEANS_N_CLUSTER:50
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
CONFIDENCE_THRESHOLD:0.9
CONFIDENCE_MIN_CROPS:2500
CLIPPING_FACTOR:2.5
FEDPROX_FACTOR:1.0
FEDPROX_ADAPTIVE:False
USE_CLIPPING:True
USE_ENTROPY:True
USE_KMEANS:True
USE_FEDPROX:False
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=100000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/ameyoko.jpg', targetpath='/scratch-local/sunnys.3152529/1690367594_546220548', seed=42, img_per_thread=5555)
will save 100000 patches in /scratch-local/sunnys.3152529/1690367594_546220548/single_img_crops/crops
100000 took 0.60min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-07-26 12:34:06,232 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-07-26 12:34:06,233 | simulate.py:55 | Reading args from argument parser
Downloading https://www.cs.toronto.edu/~kriz/cifar-10-python.tar.gz to /scratch-local/sunnys.3152529/1690367594_546220548/cifar-10-python.tar.gz
Extracting /scratch-local/sunnys.3152529/1690367594_546220548/cifar-10-python.tar.gz to /scratch-local/sunnys.3152529/1690367594_546220548
Generating unified cifar10 dataset
Class histogram for 0-th partition (alpha=10.0, 10 classes): [259 271 116 269 240 311 223 239 284 288]
INFO flwr 2023-07-26 12:34:48,553 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-07-26 12:34:51,312	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8265 [39m[22m
INFO flwr 2023-07-26 12:34:52,331 | app.py:179 | Flower VCE: Ray initialized with resources: {'accelerator_type:A100': 1.0, 'object_store_memory': 61847529062.0, 'GPU': 1.0, 'CPU': 18.0, 'node:145.136.62.5': 1.0, 'memory': 103079215104.0}
INFO flwr 2023-07-26 12:34:52,331 | server.py:86 | Initializing global parameters
INFO flwr 2023-07-26 12:34:52,331 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-07-26 12:34:52,331 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-07-26 12:35:01,335 | server.py:91 | initial parameters (loss, other metrics): 2.3234217651367186, {'server_test_acc': 0.108}
INFO flwr 2023-07-26 12:35:01,336 | server.py:101 | FL starting
Cluster score for round 1 = 20039.140625
INFO flwr 2023-07-26 12:35:08,842 | fed_df.py:230 | Number of selected crops : 10000
DEBUG flwr 2023-07-26 12:35:11,645 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3957541)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3957544)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3957547)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3957546)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:36:33,956 | server.py:229 | fit_round 1 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3957542)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3957548)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3957541)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3957546)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3957547)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3957545)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3957543)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3957544)[0m Fitting Client 14
Warm start at round 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3957543)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3957548)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3957545)[0m malloc_consolidate(): invalid chunk size
E0726 12:36:36.109066924 3949172 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
[2m[36m(launch_and_fit pid=3957542)[0m double free or corruption (fasttop)
E0726 12:36:46.468575276 4093484 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.3102315802872181, val accuracy : 0.38222, best val accuracy : 0.4036
Average local training loss : 8.670343358442187
Average local training accuracy : 0.3990736111111111
INFO flwr 2023-07-26 12:37:35,505 | server.py:116 | fit progress: (1, 2.0624866088867186, {'server_test_acc': 0.4007}, 154.1689723469317)
INFO flwr 2023-07-26 12:37:35,505 | server.py:163 | evaluate_round 1: no clients selected, cancel
Cluster score for round 2 = 124582.09375
INFO flwr 2023-07-26 12:37:43,582 | fed_df.py:230 | Number of selected crops : 7328
DEBUG flwr 2023-07-26 12:37:45,817 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 12:39:04,598 | server.py:229 | fit_round 2 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=4133613)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=4133611)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=4133614)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=4133616)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=4133617)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=4133618)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=4133615)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=4133619)[0m Fitting Client 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=4133616)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4133611)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4133615)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4133617)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4133619)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4133613)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4133614)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4133618)[0m malloc_consolidate(): invalid chunk size
E0726 12:39:07.653742881 4093830 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.08383789429813623, val accuracy : 0.42606, best val accuracy : 0.4656
Average local training loss : 6.777763663418591
Average local training accuracy : 0.592538888888889
INFO flwr 2023-07-26 12:40:23,227 | server.py:116 | fit progress: (2, 1.5647975616455079, {'server_test_acc': 0.4734}, 321.8912682479713)
INFO flwr 2023-07-26 12:40:23,227 | server.py:163 | evaluate_round 2: no clients selected, cancel
Cluster score for round 3 = 121830.515625
INFO flwr 2023-07-26 12:40:31,566 | fed_df.py:230 | Number of selected crops : 7812
DEBUG flwr 2023-07-26 12:40:33,924 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=92823)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=92816)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:41:52,250 | server.py:229 | fit_round 3 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=92814)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=92816)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=92819)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=92820)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=92821)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=92823)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=92822)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=92824)[0m Fitting Client 0
Performing server side distillation training...
[2m[36m(launch_and_fit pid=92819)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=92814)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=92820)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=92822)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=92821)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=92824)[0m malloc_consolidate(): invalid chunk size
E0726 12:41:56.823332348   34364 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
E0726 12:42:22.656676710  187882 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.09041899468004704, val accuracy : 0.4983600000000001, best val accuracy : 0.5378
Average local training loss : 6.57459900341928
Average local training accuracy : 0.617598611111111
INFO flwr 2023-07-26 12:43:07,787 | server.py:116 | fit progress: (3, 1.448779818725586, {'server_test_acc': 0.542}, 486.45098525390495)
INFO flwr 2023-07-26 12:43:07,787 | server.py:163 | evaluate_round 3: no clients selected, cancel
Cluster score for round 4 = 92347.46875
INFO flwr 2023-07-26 12:43:16,530 | fed_df.py:230 | Number of selected crops : 7630
DEBUG flwr 2023-07-26 12:43:18,855 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=242488)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=242490)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:44:37,675 | server.py:229 | fit_round 4 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=242488)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=242490)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=242494)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=242495)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=242497)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=242498)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=242499)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=242496)[0m Fitting Client 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=242494)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=242497)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=242495)[0m double free or corruption (fasttop)
E0726 12:44:38.830299758  334974 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
[2m[36m(launch_and_fit pid=242499)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=242496)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=242498)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.038077477559447286, val accuracy : 0.55046, best val accuracy : 0.5658
Average local training loss : 6.558036427013577
Average local training accuracy : 0.6198388888888889
INFO flwr 2023-07-26 12:45:57,895 | server.py:116 | fit progress: (4, 1.3920723022460937, {'server_test_acc': 0.5647}, 656.5596449360019)
INFO flwr 2023-07-26 12:45:57,896 | server.py:163 | evaluate_round 4: no clients selected, cancel
Cluster score for round 5 = 84873.0
INFO flwr 2023-07-26 12:46:06,338 | fed_df.py:230 | Number of selected crops : 8891
DEBUG flwr 2023-07-26 12:46:08,893 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=395000)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=395006)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:47:27,996 | server.py:229 | fit_round 5 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=395004)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=395007)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=395000)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=395002)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=395001)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=395004)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=395003)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=395006)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=395005)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=395007)[0m Fitting Client 17
Warm start at round 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=395002)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=395001)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=395003)[0m malloc_consolidate(): invalid chunk size
E0726 12:47:29.606332001  335043 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
[2m[36m(launch_and_fit pid=395005)[0m double free or corruption (fasttop)
E0726 12:47:53.694803091  503766 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
E0726 12:48:33.857958394  504313 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.06902124764025211, val accuracy : 0.58534, best val accuracy : 0.5998
Average local training loss : 6.184353509917855
Average local training accuracy : 0.6581861111111111
INFO flwr 2023-07-26 12:48:41,735 | server.py:116 | fit progress: (5, 1.3347889617919921, {'server_test_acc': 0.6001}, 820.3989240519004)
INFO flwr 2023-07-26 12:48:41,735 | server.py:163 | evaluate_round 5: no clients selected, cancel
Cluster score for round 6 = 26586.48828125
INFO flwr 2023-07-26 12:48:50,112 | fed_df.py:230 | Number of selected crops : 7681
DEBUG flwr 2023-07-26 12:48:52,448 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=539442)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=539443)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:50:11,856 | server.py:229 | fit_round 6 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=539447)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=539442)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=539441)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=539443)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=539447)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=539446)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=539445)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=539429)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=539444)[0m Fitting Client 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=539429)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=539441)[0m malloc_consolidate(): invalid chunk size
E0726 12:50:12.688065999  532181 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
[2m[36m(launch_and_fit pid=539444)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=539446)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=539445)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.02267445434629917, val accuracy : 0.57058, best val accuracy : 0.59
Average local training loss : 4.882128862291575
Average local training accuracy : 0.7957486111111111
INFO flwr 2023-07-26 12:51:29,532 | server.py:116 | fit progress: (6, 1.412538217163086, {'server_test_acc': 0.5821}, 988.1963137459243)
INFO flwr 2023-07-26 12:51:29,532 | server.py:163 | evaluate_round 6: no clients selected, cancel
Cluster score for round 7 = 21699.62890625
INFO flwr 2023-07-26 12:51:37,919 | fed_df.py:230 | Number of selected crops : 8411
DEBUG flwr 2023-07-26 12:51:40,410 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=714329)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=714334)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=714335)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=714333)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=714332)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:53:00,325 | server.py:229 | fit_round 7 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=714331)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=714329)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=714330)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=714326)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=714332)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=714334)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=714333)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=714335)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=714331)[0m Fitting Client 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=714330)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=714326)[0m malloc_consolidate(): invalid chunk size
E0726 12:53:02.923808001  822416 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
E0726 12:53:50.020327233  856512 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.01463718674890697, val accuracy : 0.6221599999999999, best val accuracy : 0.6346
Average local training loss : 4.914297893084585
Average local training accuracy : 0.7921486111111111
INFO flwr 2023-07-26 12:54:14,418 | server.py:116 | fit progress: (7, 1.3272646545410156, {'server_test_acc': 0.6304}, 1153.0820556689287)
INFO flwr 2023-07-26 12:54:14,418 | server.py:163 | evaluate_round 7: no clients selected, cancel
Cluster score for round 8 = 19557.732421875
INFO flwr 2023-07-26 12:54:22,815 | fed_df.py:230 | Number of selected crops : 8444
DEBUG flwr 2023-07-26 12:54:25,297 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=876915)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=876913)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=876919)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:55:44,337 | server.py:229 | fit_round 8 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=876913)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=876917)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=876914)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=876919)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=876918)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=876915)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=876916)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=876912)[0m Fitting Client 4
Performing server side distillation training...
[2m[36m(launch_and_fit pid=876916)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=876917)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=876914)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=876912)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=876918)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.008674084654543548, val accuracy : 0.63538, best val accuracy : 0.6424
Average local training loss : 4.962242551147937
Average local training accuracy : 0.7891638888888889
INFO flwr 2023-07-26 12:56:58,021 | server.py:116 | fit progress: (8, 1.322351138305664, {'server_test_acc': 0.6388}, 1316.6852741679177)
INFO flwr 2023-07-26 12:56:58,021 | server.py:163 | evaluate_round 8: no clients selected, cancel
Cluster score for round 9 = 19901.99609375
INFO flwr 2023-07-26 12:57:06,367 | fed_df.py:230 | Number of selected crops : 8481
DEBUG flwr 2023-07-26 12:57:08,838 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1024098)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:58:28,127 | server.py:229 | fit_round 9 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1024092)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1024093)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1024098)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1024094)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1024097)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1024095)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1024096)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1024099)[0m Fitting Client 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1024097)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1024095)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1024094)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1024096)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1024093)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1024099)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1024092)[0m double free or corruption (fasttop)
E0726 12:58:32.647688047  857167 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
E0726 12:58:50.428821152 1119047 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.007693399111740291, val accuracy : 0.6459199999999999, best val accuracy : 0.6526
Average local training loss : 4.829794860072434
Average local training accuracy : 0.8017972222222223
INFO flwr 2023-07-26 12:59:41,619 | server.py:116 | fit progress: (9, 1.294268814086914, {'server_test_acc': 0.6519}, 1480.2836936810054)
INFO flwr 2023-07-26 12:59:41,620 | server.py:163 | evaluate_round 9: no clients selected, cancel
Cluster score for round 10 = 19583.078125
INFO flwr 2023-07-26 12:59:50,011 | fed_df.py:230 | Number of selected crops : 9051
DEBUG flwr 2023-07-26 12:59:52,602 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1171316)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:01:11,780 | server.py:229 | fit_round 10 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1171314)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1171318)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1171312)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1171313)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1171315)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1171318)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1171316)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1171317)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1171314)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1171328)[0m Fitting Client 7
Warm start at round 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1171315)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1171312)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1171317)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1171328)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1171313)[0m malloc_consolidate(): invalid chunk size
E0726 13:01:14.824114659 1264487 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.039089053232222795, val accuracy : 0.6746, best val accuracy : 0.6916
Average local training loss : 4.828851946257055
Average local training accuracy : 0.8032875
INFO flwr 2023-07-26 13:02:24,417 | server.py:116 | fit progress: (10, 1.192390396118164, {'server_test_acc': 0.688}, 1643.0813842619536)
INFO flwr 2023-07-26 13:02:24,417 | server.py:163 | evaluate_round 10: no clients selected, cancel
Cluster score for round 11 = 11534.630859375
INFO flwr 2023-07-26 13:02:32,985 | fed_df.py:230 | Number of selected crops : 8098
DEBUG flwr 2023-07-26 13:02:35,386 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 13:03:54,011 | server.py:229 | fit_round 11 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1316186)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1316186)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1316181)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1316187)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1316192)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1316189)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1316191)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1316185)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1316190)[0m Fitting Client 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1316181)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1316190)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1316185)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1316187)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1316189)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1316191)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1316192)[0m malloc_consolidate(): invalid chunk size
E0726 13:03:56.893812351 1265238 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.014769552562385798, val accuracy : 0.69662, best val accuracy : 0.7062
Average local training loss : 4.296355798467994
Average local training accuracy : 0.8581041666666667
INFO flwr 2023-07-26 13:05:10,984 | server.py:116 | fit progress: (11, 1.147128530883789, {'server_test_acc': 0.6925}, 1809.648598213913)
INFO flwr 2023-07-26 13:05:10,985 | server.py:163 | evaluate_round 11: no clients selected, cancel
Cluster score for round 12 = 13479.470703125
INFO flwr 2023-07-26 13:05:19,401 | fed_df.py:230 | Number of selected crops : 7821
DEBUG flwr 2023-07-26 13:05:21,788 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1465933)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:06:40,663 | server.py:229 | fit_round 12 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1465933)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1465931)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1465935)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1465938)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1465936)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1465940)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1465939)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1465937)[0m Fitting Client 8
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1465940)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1465935)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1465931)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1465936)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1465938)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1465937)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1465939)[0m malloc_consolidate(): invalid chunk size
E0726 13:06:47.437694245 1572146 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.011746055982075631, val accuracy : 0.6998599999999999, best val accuracy : 0.7018
Average local training loss : 4.386850353889168
Average local training accuracy : 0.8488972222222223
INFO flwr 2023-07-26 13:07:58,972 | server.py:116 | fit progress: (12, 1.1516585510253907, {'server_test_acc': 0.699}, 1977.6366537829163)
INFO flwr 2023-07-26 13:07:58,973 | server.py:163 | evaluate_round 12: no clients selected, cancel
Cluster score for round 13 = 13931.2197265625
INFO flwr 2023-07-26 13:08:07,400 | fed_df.py:230 | Number of selected crops : 8075
DEBUG flwr 2023-07-26 13:08:09,821 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1655769)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1655767)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1655772)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:09:28,221 | server.py:229 | fit_round 13 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1655767)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1655770)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1655772)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1655769)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1655773)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1655774)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1655771)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1655766)[0m Fitting Client 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1655766)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1655773)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1655770)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1655771)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1655774)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.014287781606428325, val accuracy : 0.68676, best val accuracy : 0.6934
Average local training loss : 4.197352047078311
Average local training accuracy : 0.8651611111111112
INFO flwr 2023-07-26 13:10:44,497 | server.py:116 | fit progress: (13, 1.141767398071289, {'server_test_acc': 0.6877}, 2143.1611278649652)
INFO flwr 2023-07-26 13:10:44,497 | server.py:163 | evaluate_round 13: no clients selected, cancel
Cluster score for round 14 = 15997.640625
INFO flwr 2023-07-26 13:10:52,854 | fed_df.py:230 | Number of selected crops : 7511
DEBUG flwr 2023-07-26 13:10:55,154 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1805423)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:12:13,680 | server.py:229 | fit_round 14 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1805421)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1805423)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1805421)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1805471)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1805633)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1805634)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1805635)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1805485)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1805636)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1805636)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1805485)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1805471)[0m malloc_consolidate(): invalid chunk size
E0726 13:12:15.256882344 1748432 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=1805635)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1805634)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1805633)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.009743819650262595, val accuracy : 0.70218, best val accuracy : 0.7078
Average local training loss : 4.226518752239645
Average local training accuracy : 0.8639833333333333
INFO flwr 2023-07-26 13:13:32,994 | server.py:116 | fit progress: (14, 1.1027217498779296, {'server_test_acc': 0.7024}, 2311.658001102973)
INFO flwr 2023-07-26 13:13:32,994 | server.py:163 | evaluate_round 14: no clients selected, cancel
Cluster score for round 15 = 17695.369140625
INFO flwr 2023-07-26 13:13:41,238 | fed_df.py:230 | Number of selected crops : 7863
DEBUG flwr 2023-07-26 13:13:43,575 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1957897)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:15:02,387 | server.py:229 | fit_round 15 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1957902)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1957897)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1957900)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1957902)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1957901)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1957905)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1957906)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1957904)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1957903)[0m Fitting Client 18
Warm start at round 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1957903)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1957906)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1957904)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1957901)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1957900)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1957905)[0m double free or corruption (fasttop)
E0726 13:15:04.798632912 2050852 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.02699088638834655, val accuracy : 0.70272, best val accuracy : 0.711
Average local training loss : 4.136477598361671
Average local training accuracy : 0.8696416666666668
INFO flwr 2023-07-26 13:16:18,609 | server.py:116 | fit progress: (15, 1.361136538696289, {'server_test_acc': 0.7072}, 2477.272819395992)
INFO flwr 2023-07-26 13:16:18,609 | server.py:163 | evaluate_round 15: no clients selected, cancel
Cluster score for round 16 = 2285.760986328125
INFO flwr 2023-07-26 13:16:26,873 | fed_df.py:230 | Number of selected crops : 8709
DEBUG flwr 2023-07-26 13:16:29,469 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 13:17:48,351 | server.py:229 | fit_round 16 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2108022)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2108017)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2108020)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2108019)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2108021)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2108024)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2108022)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2108023)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2108018)[0m Fitting Client 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2108021)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2108023)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2108018)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2108024)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2108020)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2108017)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2108019)[0m malloc_consolidate(): invalid chunk size
E0726 13:18:37.069073867 2227909 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
E0726 13:18:37.069163911 2227909 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
E0726 13:18:37.069174462 2227909 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.019121569415554405, val accuracy : 0.6943199999999999, best val accuracy : 0.7032
Average local training loss : 3.881124346330762
Average local training accuracy : 0.8980833333333333
INFO flwr 2023-07-26 13:19:05,758 | server.py:116 | fit progress: (16, 1.3267149322509766, {'server_test_acc': 0.6997}, 2644.422163334908)
INFO flwr 2023-07-26 13:19:05,758 | server.py:163 | evaluate_round 16: no clients selected, cancel
Cluster score for round 17 = 3614.998291015625
INFO flwr 2023-07-26 13:19:14,120 | fed_df.py:230 | Number of selected crops : 8602
DEBUG flwr 2023-07-26 13:19:16,661 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 13:20:35,510 | server.py:229 | fit_round 17 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2252729)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2252728)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2252742)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2252726)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2252726)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2252728)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2252729)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2252742)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2252730)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2252731)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2252734)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2252743)[0m Fitting Client 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2252730)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2252743)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2252734)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2252731)[0m malloc_consolidate(): invalid chunk size
E0726 13:20:38.001009059 2230435 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.015139852760359646, val accuracy : 0.7267399999999999, best val accuracy : 0.7322
Average local training loss : 4.016906694322824
Average local training accuracy : 0.8870124999999999
INFO flwr 2023-07-26 13:21:51,145 | server.py:116 | fit progress: (17, 1.2228129730224608, {'server_test_acc': 0.7348}, 2809.80978155497)
INFO flwr 2023-07-26 13:21:51,146 | server.py:163 | evaluate_round 17: no clients selected, cancel
Cluster score for round 18 = 4597.990234375
INFO flwr 2023-07-26 13:21:59,720 | fed_df.py:230 | Number of selected crops : 8828
DEBUG flwr 2023-07-26 13:22:02,278 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2415444)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:23:21,552 | server.py:229 | fit_round 18 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2415313)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=2415311)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2415313)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2415372)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2415434)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2415312)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2415444)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2415438)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2415443)[0m Fitting Client 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2415438)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2415312)[0m malloc_consolidate(): invalid chunk size
E0726 13:23:22.469335751 2346008 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=2415311)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2415372)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2415434)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2415443)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.018803525315597654, val accuracy : 0.7240200000000001, best val accuracy : 0.7302
Average local training loss : 3.9596153523772952
Average local training accuracy : 0.8919347222222223
INFO flwr 2023-07-26 13:24:34,836 | server.py:116 | fit progress: (18, 1.1823789154052735, {'server_test_acc': 0.7331}, 2973.5006588019896)
INFO flwr 2023-07-26 13:24:34,837 | server.py:163 | evaluate_round 18: no clients selected, cancel
Cluster score for round 19 = 4782.7587890625
INFO flwr 2023-07-26 13:24:43,176 | fed_df.py:230 | Number of selected crops : 8390
DEBUG flwr 2023-07-26 13:24:45,682 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2584739)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2584742)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:26:04,294 | server.py:229 | fit_round 19 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2584737)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2584739)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2584742)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2584741)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2584744)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2584746)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2584747)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2584745)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2584737)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2584741)[0m malloc_consolidate(): invalid chunk size
E0726 13:26:05.748244327 2531831 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=2584746)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2584745)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2584747)[0m malloc_consolidate(): invalid chunk size
E0726 13:26:41.153066262 2677502 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
E0726 13:27:05.888762567 2703697 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.018554376946762204, val accuracy : 0.71228, best val accuracy : 0.7172
Average local training loss : 3.9916074346750974
Average local training accuracy : 0.8883208333333333
INFO flwr 2023-07-26 13:27:18,056 | server.py:116 | fit progress: (19, 1.1696530212402343, {'server_test_acc': 0.7137}, 3136.720714995987)
INFO flwr 2023-07-26 13:27:18,057 | server.py:163 | evaluate_round 19: no clients selected, cancel
Cluster score for round 20 = 6147.67578125
INFO flwr 2023-07-26 13:27:26,587 | fed_df.py:230 | Number of selected crops : 8398
DEBUG flwr 2023-07-26 13:27:29,080 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2732306)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2732312)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:28:47,784 | server.py:229 | fit_round 20 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2732304)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2732306)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2732310)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2732309)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2732308)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2732312)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2732307)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2732304)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2732311)[0m Fitting Client 12
Warm start at round 20
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2732307)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2732310)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2732308)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2732311)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2732309)[0m malloc_consolidate(): invalid chunk size
E0726 13:28:52.040148363 2826315 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.027257645605131983, val accuracy : 0.73452, best val accuracy : 0.747
Average local training loss : 4.0503490135073665
Average local training accuracy : 0.8840347222222221
INFO flwr 2023-07-26 13:30:01,908 | server.py:116 | fit progress: (20, 1.2189867584228515, {'server_test_acc': 0.74}, 3300.5719655388966)
INFO flwr 2023-07-26 13:30:01,908 | server.py:163 | evaluate_round 20: no clients selected, cancel
Cluster score for round 21 = 3408.91357421875
INFO flwr 2023-07-26 13:30:10,214 | fed_df.py:230 | Number of selected crops : 8059
DEBUG flwr 2023-07-26 13:30:12,617 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2880081)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2880075)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2880095)[0m corrupted size vs. prev_size in fastbins
DEBUG flwr 2023-07-26 13:31:31,755 | server.py:229 | fit_round 21 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2880083)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2880080)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2880075)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2880081)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2880082)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2880084)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2880083)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2880095)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2880094)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2880080)[0m Fitting Client 17
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2880084)[0m double free or corruption (fasttop)
E0726 13:31:33.291700016 2972417 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=2880082)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2880094)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.020120387392118574, val accuracy : 0.7349400000000001, best val accuracy : 0.738
Average local training loss : 3.71244458090514
Average local training accuracy : 0.9141055555555556
INFO flwr 2023-07-26 13:32:48,280 | server.py:116 | fit progress: (21, 1.1526628479003906, {'server_test_acc': 0.7403}, 3466.944371902966)
INFO flwr 2023-07-26 13:32:48,280 | server.py:163 | evaluate_round 21: no clients selected, cancel
Cluster score for round 22 = 4336.82177734375
INFO flwr 2023-07-26 13:32:56,738 | fed_df.py:230 | Number of selected crops : 7779
DEBUG flwr 2023-07-26 13:32:59,094 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3030249)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:34:17,520 | server.py:229 | fit_round 22 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3030250)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3030249)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3030254)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3030255)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3030257)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3030256)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3030253)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3030258)[0m Fitting Client 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3030250)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3030258)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3030255)[0m double free or corruption (fasttop)
E0726 13:34:18.288546650 2973022 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=3030254)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3030257)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3030253)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3030256)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.014649064531549811, val accuracy : 0.75182, best val accuracy : 0.756
Average local training loss : 3.8313279764726755
Average local training accuracy : 0.905225
INFO flwr 2023-07-26 13:35:34,493 | server.py:116 | fit progress: (22, 1.1442350463867188, {'server_test_acc': 0.7437}, 3633.157136709895)
INFO flwr 2023-07-26 13:35:34,493 | server.py:163 | evaluate_round 22: no clients selected, cancel
Cluster score for round 23 = 4778.0498046875
INFO flwr 2023-07-26 13:35:42,829 | fed_df.py:230 | Number of selected crops : 7817
DEBUG flwr 2023-07-26 13:35:45,204 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3179926)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:37:03,566 | server.py:229 | fit_round 23 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3179926)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3179931)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3179929)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3179932)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3179933)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3179935)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3179934)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3179936)[0m Fitting Client 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3179934)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3179929)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3179933)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3179936)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3179931)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3179935)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3179932)[0m double free or corruption (fasttop)
E0726 13:37:08.533108570 3122083 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
E0726 13:37:52.842692500 3331241 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.012296988438814879, val accuracy : 0.72992, best val accuracy : 0.7368
Average local training loss : 3.868177103251219
Average local training accuracy : 0.9023805555555555
INFO flwr 2023-07-26 13:38:20,958 | server.py:116 | fit progress: (23, 1.1200386352539062, {'server_test_acc': 0.7388}, 3799.6227786419913)
INFO flwr 2023-07-26 13:38:20,959 | server.py:163 | evaluate_round 23: no clients selected, cancel
Cluster score for round 24 = 5198.9775390625
INFO flwr 2023-07-26 13:38:29,285 | fed_df.py:230 | Number of selected crops : 8456
DEBUG flwr 2023-07-26 13:38:31,731 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3369392)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3369395)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:39:50,642 | server.py:229 | fit_round 24 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3369391)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3369392)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3369395)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3369397)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3369399)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3369393)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3369396)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3369398)[0m Fitting Client 13
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3369393)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3369391)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3369396)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3369399)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3369397)[0m malloc_consolidate(): invalid chunk size
E0726 13:39:52.344062283 3331855 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=3369398)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.01779056851193309, val accuracy : 0.73642, best val accuracy : 0.744
Average local training loss : 3.772632894665003
Average local training accuracy : 0.9079250000000001
INFO flwr 2023-07-26 13:41:04,669 | server.py:116 | fit progress: (24, 1.0918166595458985, {'server_test_acc': 0.739}, 3963.3331751369406)
INFO flwr 2023-07-26 13:41:04,669 | server.py:163 | evaluate_round 24: no clients selected, cancel
Cluster score for round 25 = 5685.52099609375
INFO flwr 2023-07-26 13:41:13,072 | fed_df.py:230 | Number of selected crops : 8376
DEBUG flwr 2023-07-26 13:41:15,528 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3516654)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3516663)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:42:34,107 | server.py:229 | fit_round 25 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3516661)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3516665)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3516654)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3516657)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3516661)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3516663)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3516665)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3516662)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3516658)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3516664)[0m Fitting Client 19
Warm start at round 25
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3516657)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3516658)[0m malloc_consolidate(): invalid chunk size
E0726 13:42:35.095845788 3462037 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=3516662)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3516664)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.018905536065809428, val accuracy : 0.7399800000000001, best val accuracy : 0.7514
Average local training loss : 3.8292055955156683
Average local training accuracy : 0.9020000000000001
INFO flwr 2023-07-26 13:43:47,694 | server.py:116 | fit progress: (25, 1.2392182159423828, {'server_test_acc': 0.753}, 4126.358499606955)
INFO flwr 2023-07-26 13:43:47,694 | server.py:163 | evaluate_round 25: no clients selected, cancel
Cluster score for round 26 = 2217.777587890625
INFO flwr 2023-07-26 13:43:56,084 | fed_df.py:230 | Number of selected crops : 8648
DEBUG flwr 2023-07-26 13:43:58,582 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3664176)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3664183)[0m corrupted size vs. prev_size in fastbins
DEBUG flwr 2023-07-26 13:45:17,199 | server.py:229 | fit_round 26 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3664177)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3664181)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3664177)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3664176)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3664181)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3664182)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3664183)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3664179)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3664184)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3664185)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3664182)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3664184)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3664179)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3664185)[0m malloc_consolidate(): invalid chunk size
E0726 13:45:19.012620169 3608993 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.021841984681785106, val accuracy : 0.7586999999999999, best val accuracy : 0.7638
Average local training loss : 3.676623531803489
Average local training accuracy : 0.9185416666666666
INFO flwr 2023-07-26 13:46:33,087 | server.py:116 | fit progress: (26, 1.1405051239013673, {'server_test_acc': 0.758}, 4291.751614598907)
INFO flwr 2023-07-26 13:46:33,088 | server.py:163 | evaluate_round 26: no clients selected, cancel
Cluster score for round 27 = 3767.313232421875
INFO flwr 2023-07-26 13:46:41,501 | fed_df.py:230 | Number of selected crops : 8185
DEBUG flwr 2023-07-26 13:46:43,948 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3811740)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:48:02,631 | server.py:229 | fit_round 27 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3811738)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3811740)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3811738)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3811746)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3811742)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3811741)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3811744)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3811745)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3811743)[0m Fitting Client 8
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3811744)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3811741)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3811743)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3811746)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3811742)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3811745)[0m malloc_consolidate(): invalid chunk size
E0726 13:48:56.437244692 3757148 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.021643145993351938, val accuracy : 0.7642599999999999, best val accuracy : 0.7698
Average local training loss : 3.713886917755008
Average local training accuracy : 0.9165180555555555
INFO flwr 2023-07-26 13:49:20,227 | server.py:116 | fit progress: (27, 1.1047660430908204, {'server_test_acc': 0.7624}, 4458.891621509916)
INFO flwr 2023-07-26 13:49:20,228 | server.py:163 | evaluate_round 27: no clients selected, cancel
Cluster score for round 28 = 4464.21142578125
INFO flwr 2023-07-26 13:49:28,672 | fed_df.py:230 | Number of selected crops : 7626
DEBUG flwr 2023-07-26 13:49:30,990 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3962585)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:50:49,657 | server.py:229 | fit_round 28 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3962592)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3962590)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3962585)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3962590)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3962588)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3962587)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3962591)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3962592)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3962594)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3962593)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3962587)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3962588)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3962593)[0m malloc_consolidate(): invalid chunk size
E0726 13:50:50.939434736 4054950 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=3962591)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3962594)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.011019984441809356, val accuracy : 0.75756, best val accuracy : 0.7614
Average local training loss : 3.707599414698779
Average local training accuracy : 0.9159305555555557
INFO flwr 2023-07-26 13:52:10,781 | server.py:116 | fit progress: (28, 1.0552958251953124, {'server_test_acc': 0.7596}, 4629.445583800902)
INFO flwr 2023-07-26 13:52:10,782 | server.py:163 | evaluate_round 28: no clients selected, cancel
Cluster score for round 29 = 5770.2890625
INFO flwr 2023-07-26 13:52:19,278 | fed_df.py:230 | Number of selected crops : 7867
DEBUG flwr 2023-07-26 13:52:21,624 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=4115010)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4115008)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:53:41,303 | server.py:229 | fit_round 29 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=4115011)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4115007)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4115013)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4115008)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=4115007)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=4115010)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=4115011)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=4115009)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=4115012)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=4115013)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=4115014)[0m Fitting Client 19
Performing server side distillation training...
[2m[36m(launch_and_fit pid=4115009)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4115014)[0m malloc_consolidate(): invalid chunk size
E0726 13:53:43.034624948 4055087 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=4115012)[0m malloc_consolidate(): invalid chunk size
E0726 13:54:51.826238881   39394 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.0103667570380494, val accuracy : 0.7510800000000001, best val accuracy : 0.7558
Average local training loss : 3.6025562644004823
Average local training accuracy : 0.9236986111111112
INFO flwr 2023-07-26 13:54:58,842 | server.py:116 | fit progress: (29, 1.0574471069335938, {'server_test_acc': 0.7504}, 4797.506523241987)
INFO flwr 2023-07-26 13:54:58,843 | server.py:163 | evaluate_round 29: no clients selected, cancel
Cluster score for round 30 = 5971.57373046875
INFO flwr 2023-07-26 13:55:07,174 | fed_df.py:230 | Number of selected crops : 8079
DEBUG flwr 2023-07-26 13:55:09,612 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=111528)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=111541)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=111540)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:56:28,609 | server.py:229 | fit_round 30 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=111538)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=111528)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=111537)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=111538)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=111541)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=111542)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=111543)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=111544)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=111540)[0m Fitting Client 5
Warm start at round 30
Performing server side distillation training...
[2m[36m(launch_and_fit pid=111544)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=111537)[0m malloc_consolidate(): invalid chunk size
E0726 13:56:29.516940220  203498 chttp2_transport.cc:1079]             ipv4:145.136.62.5:47633: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=111543)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=111542)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.03879103882983327, val accuracy : 0.7466999999999999, best val accuracy : 0.7548
Average local training loss : 3.6458208259195093
Average local training accuracy : 0.9194930555555555
INFO flwr 2023-07-26 13:57:45,714 | server.py:116 | fit progress: (30, 1.1916185272216797, {'server_test_acc': 0.7514}, 4964.378129770979)
INFO flwr 2023-07-26 13:57:45,714 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-07-26 13:57:45,714 | server.py:144 | FL finished in 4964.3785897468915
INFO flwr 2023-07-26 13:57:45,715 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-07-26 13:57:45,716 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-07-26 13:57:45,716 | app.py:204 | app_fit: losses_centralized [(0, 2.3234217651367186), (1, 2.0624866088867186), (2, 1.5647975616455079), (3, 1.448779818725586), (4, 1.3920723022460937), (5, 1.3347889617919921), (6, 1.412538217163086), (7, 1.3272646545410156), (8, 1.322351138305664), (9, 1.294268814086914), (10, 1.192390396118164), (11, 1.147128530883789), (12, 1.1516585510253907), (13, 1.141767398071289), (14, 1.1027217498779296), (15, 1.361136538696289), (16, 1.3267149322509766), (17, 1.2228129730224608), (18, 1.1823789154052735), (19, 1.1696530212402343), (20, 1.2189867584228515), (21, 1.1526628479003906), (22, 1.1442350463867188), (23, 1.1200386352539062), (24, 1.0918166595458985), (25, 1.2392182159423828), (26, 1.1405051239013673), (27, 1.1047660430908204), (28, 1.0552958251953124), (29, 1.0574471069335938), (30, 1.1916185272216797)]
INFO flwr 2023-07-26 13:57:45,716 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.108), (1, 0.4007), (2, 0.4734), (3, 0.542), (4, 0.5647), (5, 0.6001), (6, 0.5821), (7, 0.6304), (8, 0.6388), (9, 0.6519), (10, 0.688), (11, 0.6925), (12, 0.699), (13, 0.6877), (14, 0.7024), (15, 0.7072), (16, 0.6997), (17, 0.7348), (18, 0.7331), (19, 0.7137), (20, 0.74), (21, 0.7403), (22, 0.7437), (23, 0.7388), (24, 0.739), (25, 0.753), (26, 0.758), (27, 0.7624), (28, 0.7596), (29, 0.7504), (30, 0.7514)]}
double free or corruption (fasttop)
srun: error: gcn5: task 0: Aborted
srun: Terminating StepId=3152529.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3152529
Cluster: snellius
User/Group: sunnys/sunnys
State: RUNNING
Nodes: 1
Cores per node: 18
CPU Utilized: 02:59:23
CPU Efficiency: 11.61% of 1-01:45:18 core-walltime
Job Wall-clock time: 01:25:51
Memory Utilized: 58.53 GB
Memory Efficiency: 48.77% of 120.00 GB
WARNING: Efficiency statistics may be misleading for RUNNING jobs.
