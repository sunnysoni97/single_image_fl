-----BEGIN-----
-----SETTINGS-----
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:cifar10
PARTITION_ALPHA:10.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:40
LOCAL_LR:0.05
DISTILL_BATCH_SIZE:512
SERVER_LR:0.005
SERVER_STEPS:500
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
SEED:1227
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:ameyoko.jpg
DISTILL_DATASET:cifar100
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:10000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:5
KMEANS_N_CLUSTER:50
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
CONFIDENCE_THRESHOLD:0.9
CONFIDENCE_MIN_CROPS:2500
CLIPPING_FACTOR:2.5
FEDPROX_FACTOR:1.0
FEDPROX_ADAPTIVE:False
USE_CLIPPING:True
USE_ENTROPY:True
USE_KMEANS:True
USE_FEDPROX:False
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=100000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/ameyoko.jpg', targetpath='/scratch-local/sunnys.3152531/1690367594_611625380', seed=1227, img_per_thread=5555)
will save 100000 patches in /scratch-local/sunnys.3152531/1690367594_611625380/single_img_crops/crops
100000 took 0.63min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-07-26 12:34:07,281 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-07-26 12:34:07,281 | simulate.py:55 | Reading args from argument parser
Downloading https://www.cs.toronto.edu/~kriz/cifar-10-python.tar.gz to /scratch-local/sunnys.3152531/1690367594_611625380/cifar-10-python.tar.gz
Extracting /scratch-local/sunnys.3152531/1690367594_611625380/cifar-10-python.tar.gz to /scratch-local/sunnys.3152531/1690367594_611625380
Generating unified cifar10 dataset
Class histogram for 0-th partition (alpha=10.0, 10 classes): [364 338 239 145 185 263 222 248 152 344]
INFO flwr 2023-07-26 12:36:15,021 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-07-26 12:36:18,418	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8265 [39m[22m
INFO flwr 2023-07-26 12:36:19,524 | app.py:179 | Flower VCE: Ray initialized with resources: {'GPU': 1.0, 'accelerator_type:A100': 1.0, 'object_store_memory': 61847529062.0, 'node:145.136.62.6': 1.0, 'CPU': 18.0, 'memory': 103079215104.0}
INFO flwr 2023-07-26 12:36:19,525 | server.py:86 | Initializing global parameters
INFO flwr 2023-07-26 12:36:19,525 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-07-26 12:36:19,525 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-07-26 12:36:28,654 | server.py:91 | initial parameters (loss, other metrics): 2.4661781799316405, {'server_test_acc': 0.0915}
INFO flwr 2023-07-26 12:36:28,654 | server.py:101 | FL starting
Cluster score for round 1 = 33543.71484375
INFO flwr 2023-07-26 12:36:36,176 | fed_df.py:230 | Number of selected crops : 10000
DEBUG flwr 2023-07-26 12:36:39,010 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2272204)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2272182)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2272179)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2272181)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:38:02,702 | server.py:229 | fit_round 1 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2272182)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2272179)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2272204)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2272156)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2272168)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2272181)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2272203)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2272180)[0m Fitting Client 9
Warm start at round 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2272156)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2272180)[0m malloc_consolidate(): invalid chunk size
E0726 12:38:03.864567052 2247213 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
[2m[36m(launch_and_fit pid=2272168)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2272203)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.3866609915494919, val accuracy : 0.40518, best val accuracy : 0.4466
Average local training loss : 8.564951460063458
Average local training accuracy : 0.41134583333333335
INFO flwr 2023-07-26 12:39:05,637 | server.py:116 | fit progress: (1, 1.7627725891113282, {'server_test_acc': 0.4503}, 156.98293064301834)
INFO flwr 2023-07-26 12:39:05,637 | server.py:163 | evaluate_round 1: no clients selected, cancel
Cluster score for round 2 = 96214.84375
INFO flwr 2023-07-26 12:39:13,882 | fed_df.py:230 | Number of selected crops : 7493
DEBUG flwr 2023-07-26 12:39:16,192 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2429784)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2429780)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2429785)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:40:35,575 | server.py:229 | fit_round 2 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2429788)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2429780)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2429784)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2429785)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2429787)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2429786)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2429788)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2429782)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2429783)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2429787)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2429782)[0m malloc_consolidate(): invalid chunk size
E0726 12:40:36.865134803 2521870 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
[2m[36m(launch_and_fit pid=2429786)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2429783)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.07114753770083189, val accuracy : 0.45485999999999993, best val accuracy : 0.4798
Average local training loss : 6.9032639490440495
Average local training accuracy : 0.5792680555555556
INFO flwr 2023-07-26 12:41:54,169 | server.py:116 | fit progress: (2, 1.5697993560791015, {'server_test_acc': 0.4788}, 325.5153320489917)
INFO flwr 2023-07-26 12:41:54,170 | server.py:163 | evaluate_round 2: no clients selected, cancel
Cluster score for round 3 = 92036.6328125
INFO flwr 2023-07-26 12:42:02,472 | fed_df.py:230 | Number of selected crops : 8398
DEBUG flwr 2023-07-26 12:42:04,964 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2581750)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2581747)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2581752)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2581756)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:43:25,508 | server.py:229 | fit_round 3 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2581747)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2581750)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2581752)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2581755)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2581757)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2581756)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2581754)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2581753)[0m Fitting Client 19
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2581755)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2581757)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2581753)[0m double free or corruption (fasttop)
E0726 12:43:26.302108574 2521939 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
[2m[36m(launch_and_fit pid=2581754)[0m corrupted size vs. prev_size in fastbins
Distillation training stopped at step number : 500
Average fusion training loss : 0.06968343120068311, val accuracy : 0.47544000000000003, best val accuracy : 0.4894
Average local training loss : 6.33077566921711
Average local training accuracy : 0.6408138888888888
INFO flwr 2023-07-26 12:44:38,695 | server.py:116 | fit progress: (3, 1.628963803100586, {'server_test_acc': 0.5041}, 490.04133811499923)
INFO flwr 2023-07-26 12:44:38,696 | server.py:163 | evaluate_round 3: no clients selected, cancel
Cluster score for round 4 = 74002.984375
INFO flwr 2023-07-26 12:44:47,049 | fed_df.py:230 | Number of selected crops : 8103
DEBUG flwr 2023-07-26 12:44:49,490 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2729272)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2729267)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:46:09,095 | server.py:229 | fit_round 4 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2729276)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2729267)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2729269)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2729272)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2729274)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2729273)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2729275)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2729276)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2729277)[0m Fitting Client 11
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2729269)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2729277)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2729273)[0m malloc_consolidate(): invalid chunk size
E0726 12:46:10.101428645 2673171 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
[2m[36m(launch_and_fit pid=2729275)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2729274)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.02494180511496961, val accuracy : 0.58224, best val accuracy : 0.5936
Average local training loss : 6.178250121884049
Average local training accuracy : 0.6587694444444445
INFO flwr 2023-07-26 12:47:25,041 | server.py:116 | fit progress: (4, 1.4352922637939454, {'server_test_acc': 0.5848}, 656.3868103000568)
INFO flwr 2023-07-26 12:47:25,041 | server.py:163 | evaluate_round 4: no clients selected, cancel
Cluster score for round 5 = 65135.65625
INFO flwr 2023-07-26 12:47:33,433 | fed_df.py:230 | Number of selected crops : 9005
DEBUG flwr 2023-07-26 12:47:36,053 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2878503)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2878505)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2878507)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:48:57,752 | server.py:229 | fit_round 5 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2878503)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2878505)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2878509)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2878508)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2878507)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2878512)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2878510)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2878511)[0m Fitting Client 19
Warm start at round 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2878508)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2878511)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2878512)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2878510)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2878509)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.046569017764180896, val accuracy : 0.5902399999999999, best val accuracy : 0.6056
Average local training loss : 5.846236729249358
Average local training accuracy : 0.6912875
INFO flwr 2023-07-26 12:50:09,279 | server.py:116 | fit progress: (5, 1.418440982055664, {'server_test_acc': 0.5944}, 820.6250896210549)
INFO flwr 2023-07-26 12:50:09,279 | server.py:163 | evaluate_round 5: no clients selected, cancel
Cluster score for round 6 = 25175.31640625
INFO flwr 2023-07-26 12:50:17,542 | fed_df.py:230 | Number of selected crops : 7853
DEBUG flwr 2023-07-26 12:50:19,943 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3022544)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3022552)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3022548)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:51:39,868 | server.py:229 | fit_round 6 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3022551)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3022553)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3022544)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3022546)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3022548)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3022551)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3022554)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3022553)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3022552)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3022550)[0m Fitting Client 17
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3022546)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3022550)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3022554)[0m malloc_consolidate(): invalid chunk size
E0726 12:51:44.772722449 3120578 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.007110652374569326, val accuracy : 0.62436, best val accuracy : 0.6368
Average local training loss : 4.92960513625294
Average local training accuracy : 0.7950041666666666
INFO flwr 2023-07-26 12:52:56,518 | server.py:116 | fit progress: (6, 1.372160479736328, {'server_test_acc': 0.6316}, 987.8640564579982)
INFO flwr 2023-07-26 12:52:56,518 | server.py:163 | evaluate_round 6: no clients selected, cancel
Cluster score for round 7 = 17600.62109375
INFO flwr 2023-07-26 12:53:04,864 | fed_df.py:230 | Number of selected crops : 9214
DEBUG flwr 2023-07-26 12:53:07,507 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3215906)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3215908)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3215909)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:54:27,736 | server.py:229 | fit_round 7 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3215914)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3215913)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3215908)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3215909)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3215910)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3215912)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3215911)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3215914)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3215906)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3215913)[0m Fitting Client 2
Performing server side distillation training...
E0726 12:54:28.547561865 3123567 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
[2m[36m(launch_and_fit pid=3215912)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3215910)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3215911)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.011306819478049875, val accuracy : 0.63534, best val accuracy : 0.642
Average local training loss : 4.842797336541116
Average local training accuracy : 0.8024138888888889
INFO flwr 2023-07-26 12:55:39,456 | server.py:116 | fit progress: (7, 1.380650341796875, {'server_test_acc': 0.6311}, 1150.8017314129975)
INFO flwr 2023-07-26 12:55:39,456 | server.py:163 | evaluate_round 7: no clients selected, cancel
Cluster score for round 8 = 15555.7470703125
INFO flwr 2023-07-26 12:55:47,709 | fed_df.py:230 | Number of selected crops : 9245
DEBUG flwr 2023-07-26 12:55:50,352 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3360927)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3360934)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:57:10,357 | server.py:229 | fit_round 8 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3360927)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3360925)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3360938)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3360934)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3360935)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3360948)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3360949)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3360937)[0m Fitting Client 0
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3360925)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3360938)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3360948)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3360935)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3360937)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3360949)[0m malloc_consolidate(): invalid chunk size
E0726 12:57:12.750905392 3307822 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
E0726 12:58:02.006553288 3453879 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.009826203675009311, val accuracy : 0.63858, best val accuracy : 0.6426
Average local training loss : 4.719772253185511
Average local training accuracy : 0.8138680555555556
INFO flwr 2023-07-26 12:58:17,800 | server.py:116 | fit progress: (8, 1.367562091064453, {'server_test_acc': 0.638}, 1309.146115538082)
INFO flwr 2023-07-26 12:58:17,800 | server.py:163 | evaluate_round 8: no clients selected, cancel
Cluster score for round 9 = 15504.814453125
INFO flwr 2023-07-26 12:58:26,104 | fed_df.py:230 | Number of selected crops : 9121
DEBUG flwr 2023-07-26 12:58:28,794 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3504279)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:59:48,324 | server.py:229 | fit_round 9 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3504278)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3504275)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3504273)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3504278)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3504279)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3504283)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3504284)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3504281)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3504282)[0m Fitting Client 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3504273)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3504284)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3504275)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3504281)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3504282)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3504283)[0m double free or corruption (fasttop)
E0726 12:59:50.130420179 3490878 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.012600029884837568, val accuracy : 0.6385000000000001, best val accuracy : 0.6428
Average local training loss : 4.827545156516135
Average local training accuracy : 0.8049347222222222
INFO flwr 2023-07-26 13:00:59,450 | server.py:116 | fit progress: (9, 1.3733146575927735, {'server_test_acc': 0.6395}, 1470.7958594050724)
INFO flwr 2023-07-26 13:00:59,450 | server.py:163 | evaluate_round 9: no clients selected, cancel
Cluster score for round 10 = 16154.9609375
INFO flwr 2023-07-26 13:01:07,660 | fed_df.py:230 | Number of selected crops : 8963
DEBUG flwr 2023-07-26 13:01:10,286 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3647143)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3647144)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3647149)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:02:29,871 | server.py:229 | fit_round 10 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3647143)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3647144)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3647148)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3647146)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3647147)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3647149)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3647151)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3647150)[0m Fitting Client 14
Warm start at round 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3647151)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3647147)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3647150)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3647148)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3647146)[0m double free or corruption (fasttop)
E0726 13:02:32.356877827 3595760 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.025372658438049256, val accuracy : 0.6772400000000001, best val accuracy : 0.6844
Average local training loss : 4.856199240125716
Average local training accuracy : 0.8038263888888889
INFO flwr 2023-07-26 13:03:40,713 | server.py:116 | fit progress: (10, 1.3819865661621094, {'server_test_acc': 0.6743}, 1632.059358037077)
INFO flwr 2023-07-26 13:03:40,714 | server.py:163 | evaluate_round 10: no clients selected, cancel
Cluster score for round 11 = 4695.8046875
INFO flwr 2023-07-26 13:03:48,976 | fed_df.py:230 | Number of selected crops : 9103
DEBUG flwr 2023-07-26 13:03:51,580 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3789937)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3789936)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:05:11,653 | server.py:229 | fit_round 11 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3789941)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3789940)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3789943)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3789936)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3789937)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3789940)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3789941)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3789939)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3789942)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3789944)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3789943)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3789944)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3789939)[0m malloc_consolidate(): invalid chunk size
E0726 13:05:13.034367753 3738915 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
[2m[36m(launch_and_fit pid=3789942)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.014608153115026654, val accuracy : 0.6934199999999999, best val accuracy : 0.6966
Average local training loss : 4.212074740417301
Average local training accuracy : 0.8671305555555556
INFO flwr 2023-07-26 13:06:23,277 | server.py:116 | fit progress: (11, 1.3056907836914062, {'server_test_acc': 0.6816}, 1794.6230191020295)
INFO flwr 2023-07-26 13:06:23,277 | server.py:163 | evaluate_round 11: no clients selected, cancel
Cluster score for round 12 = 5372.52734375
INFO flwr 2023-07-26 13:06:31,556 | fed_df.py:230 | Number of selected crops : 8785
DEBUG flwr 2023-07-26 13:06:34,107 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3934118)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:07:53,853 | server.py:229 | fit_round 12 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3934167)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3934118)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3934128)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3934167)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3934168)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3934169)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3934134)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3934170)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3934144)[0m Fitting Client 11
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3934128)[0m double free or corruption (fasttop)
E0726 13:07:55.135769761 4055274 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
[2m[36m(launch_and_fit pid=3934144)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3934168)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3934134)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3934170)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3934169)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.010104912522248924, val accuracy : 0.69104, best val accuracy : 0.6954
Average local training loss : 4.1998324690386655
Average local training accuracy : 0.8674305555555556
INFO flwr 2023-07-26 13:09:10,895 | server.py:116 | fit progress: (12, 1.2639929718017577, {'server_test_acc': 0.6852}, 1962.2412875000155)
INFO flwr 2023-07-26 13:09:10,895 | server.py:163 | evaluate_round 12: no clients selected, cancel
Cluster score for round 13 = 6869.1533203125
INFO flwr 2023-07-26 13:09:19,206 | fed_df.py:230 | Number of selected crops : 8894
DEBUG flwr 2023-07-26 13:09:21,812 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=4107449)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4107453)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:10:40,891 | server.py:229 | fit_round 13 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=4107449)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=4107450)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=4107458)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=4107457)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=4107453)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=4107454)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=4107459)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=4107452)[0m Fitting Client 0
Performing server side distillation training...
[2m[36m(launch_and_fit pid=4107457)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4107450)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4107452)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4107454)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4107458)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4107459)[0m malloc_consolidate(): invalid chunk size
E0726 13:10:44.285838563 4055659 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.007717682924121619, val accuracy : 0.69712, best val accuracy : 0.6994
Average local training loss : 4.26882460527122
Average local training accuracy : 0.8626597222222223
INFO flwr 2023-07-26 13:11:52,864 | server.py:116 | fit progress: (13, 1.2360014739990235, {'server_test_acc': 0.6912}, 2124.210031197057)
INFO flwr 2023-07-26 13:11:52,864 | server.py:163 | evaluate_round 13: no clients selected, cancel
Cluster score for round 14 = 7318.0908203125
INFO flwr 2023-07-26 13:12:01,192 | fed_df.py:230 | Number of selected crops : 8977
DEBUG flwr 2023-07-26 13:12:03,822 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=57422)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=57426)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=57432)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=57430)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:13:23,096 | server.py:229 | fit_round 14 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=57422)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=57426)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=57428)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=57427)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=57430)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=57432)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=57429)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=57431)[0m Fitting Client 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=57428)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=57427)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=57429)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=57431)[0m malloc_consolidate(): invalid chunk size
E0726 13:13:26.028882009  148398 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.009675179349258541, val accuracy : 0.6965600000000001, best val accuracy : 0.7022
Average local training loss : 4.21169624477625
Average local training accuracy : 0.8662972222222224
INFO flwr 2023-07-26 13:14:34,658 | server.py:116 | fit progress: (14, 1.2309046875, {'server_test_acc': 0.6838}, 2286.0037540630437)
INFO flwr 2023-07-26 13:14:34,658 | server.py:163 | evaluate_round 14: no clients selected, cancel
Cluster score for round 15 = 7822.80859375
INFO flwr 2023-07-26 13:14:42,932 | fed_df.py:230 | Number of selected crops : 8809
DEBUG flwr 2023-07-26 13:14:45,546 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=200270)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=200273)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=200275)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:16:04,804 | server.py:229 | fit_round 15 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=200278)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=200277)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=200270)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=200273)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=200279)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=200274)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=200275)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=200278)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=200277)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=200276)[0m Fitting Client 17
Warm start at round 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=200274)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=200279)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=200276)[0m malloc_consolidate(): invalid chunk size
E0726 13:16:07.562052921  291743 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.024665297265164553, val accuracy : 0.70846, best val accuracy : 0.7164
Average local training loss : 4.29819592256099
Average local training accuracy : 0.8598180555555555
INFO flwr 2023-07-26 13:17:16,606 | server.py:116 | fit progress: (15, 1.355590850830078, {'server_test_acc': 0.7044}, 2447.952515916084)
INFO flwr 2023-07-26 13:17:16,607 | server.py:163 | evaluate_round 15: no clients selected, cancel
Cluster score for round 16 = 1849.029052734375
INFO flwr 2023-07-26 13:17:24,922 | fed_df.py:230 | Number of selected crops : 9182
DEBUG flwr 2023-07-26 13:17:27,559 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=343419)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=343429)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:18:47,314 | server.py:229 | fit_round 16 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=343425)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=343427)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=343428)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=343437)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=343419)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=343427)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=343425)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=343429)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=343428)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=343437)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=343438)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=343426)[0m Fitting Client 14
Performing server side distillation training...
E0726 13:18:48.206672731  433389 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
[2m[36m(launch_and_fit pid=343438)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=343426)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.00889192438311875, val accuracy : 0.7209800000000001, best val accuracy : 0.7258
Average local training loss : 3.955075003951788
Average local training accuracy : 0.8934819444444444
INFO flwr 2023-07-26 13:19:58,581 | server.py:116 | fit progress: (16, 1.2758555053710938, {'server_test_acc': 0.7183}, 2609.9271997720934)
INFO flwr 2023-07-26 13:19:58,581 | server.py:163 | evaluate_round 16: no clients selected, cancel
Cluster score for round 17 = 2633.083251953125
INFO flwr 2023-07-26 13:20:06,909 | fed_df.py:230 | Number of selected crops : 9318
DEBUG flwr 2023-07-26 13:20:09,607 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=486030)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=486034)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:21:30,373 | server.py:229 | fit_round 17 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=486033)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=486032)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=486030)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=486027)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=486031)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=486032)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=486028)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=486034)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=486029)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=486033)[0m Fitting Client 2
Performing server side distillation training...
[2m[36m(launch_and_fit pid=486027)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=486028)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=486031)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=486029)[0m double free or corruption (fasttop)
E0726 13:21:32.758637717  433859 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.013330176952295006, val accuracy : 0.71228, best val accuracy : 0.7172
Average local training loss : 3.919061315059662
Average local training accuracy : 0.8970347222222221
INFO flwr 2023-07-26 13:22:40,091 | server.py:116 | fit progress: (17, 1.2805700897216796, {'server_test_acc': 0.7067}, 2771.4372699180385)
INFO flwr 2023-07-26 13:22:40,092 | server.py:163 | evaluate_round 17: no clients selected, cancel
Cluster score for round 18 = 3245.7509765625
INFO flwr 2023-07-26 13:22:48,417 | fed_df.py:230 | Number of selected crops : 8956
DEBUG flwr 2023-07-26 13:22:51,067 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 13:24:10,620 | server.py:229 | fit_round 18 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=643214)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=643212)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=643213)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=643319)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=643211)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=643313)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=643315)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=643314)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=643313)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=643211)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=643315)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=643314)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=643214)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=643213)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=643319)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=643212)[0m malloc_consolidate(): invalid chunk size
E0726 13:24:13.066835847  577846 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.00639229176659137, val accuracy : 0.7266800000000001, best val accuracy : 0.7292
Average local training loss : 4.004972335509956
Average local training accuracy : 0.8911347222222222
INFO flwr 2023-07-26 13:25:22,278 | server.py:116 | fit progress: (18, 1.2089192291259765, {'server_test_acc': 0.7196}, 2933.624470893061)
INFO flwr 2023-07-26 13:25:22,279 | server.py:163 | evaluate_round 18: no clients selected, cancel
Cluster score for round 19 = 4444.5166015625
INFO flwr 2023-07-26 13:25:30,570 | fed_df.py:230 | Number of selected crops : 8969
DEBUG flwr 2023-07-26 13:25:33,208 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=802450)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:26:52,643 | server.py:229 | fit_round 19 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=802456)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=802450)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=802454)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=802453)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=802452)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=802456)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=802457)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=802455)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=802458)[0m Fitting Client 7
Performing server side distillation training...
[2m[36m(launch_and_fit pid=802458)[0m double free or corruption (fasttop)
E0726 13:26:53.428749393  892783 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=802453)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=802454)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=802455)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=802457)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=802452)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.007750268752221018, val accuracy : 0.71886, best val accuracy : 0.7238
Average local training loss : 3.9648271108046176
Average local training accuracy : 0.8918236111111111
INFO flwr 2023-07-26 13:28:10,009 | server.py:116 | fit progress: (19, 1.2042037841796875, {'server_test_acc': 0.7132}, 3101.3555193369975)
INFO flwr 2023-07-26 13:28:10,010 | server.py:163 | evaluate_round 19: no clients selected, cancel
Cluster score for round 20 = 5011.328125
INFO flwr 2023-07-26 13:28:18,431 | fed_df.py:230 | Number of selected crops : 9112
DEBUG flwr 2023-07-26 13:28:21,042 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=945228)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:29:40,155 | server.py:229 | fit_round 20 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=945233)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=945231)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=945228)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=945229)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=945231)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=945233)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=945230)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=945232)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=945234)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=945235)[0m Fitting Client 16
Warm start at round 20
Performing server side distillation training...
[2m[36m(launch_and_fit pid=945230)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=945229)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=945235)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=945232)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=945234)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.022246859865263105, val accuracy : 0.72246, best val accuracy : 0.7282
Average local training loss : 3.9541046574711793
Average local training accuracy : 0.8928013888888888
INFO flwr 2023-07-26 13:30:53,067 | server.py:116 | fit progress: (20, 1.2033966827392577, {'server_test_acc': 0.7238}, 3264.41316886805)
INFO flwr 2023-07-26 13:30:53,067 | server.py:163 | evaluate_round 20: no clients selected, cancel
Cluster score for round 21 = 2413.79296875
INFO flwr 2023-07-26 13:31:01,480 | fed_df.py:230 | Number of selected crops : 8843
DEBUG flwr 2023-07-26 13:31:04,111 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1088341)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1088344)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:32:23,347 | server.py:229 | fit_round 21 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1088345)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1088340)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1088341)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1088340)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1088346)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1088342)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1088344)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1088347)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1088345)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1088343)[0m Fitting Client 0
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1088342)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1088346)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1088347)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1088343)[0m malloc_consolidate(): invalid chunk size
E0726 13:32:33.148513970 1185108 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.008091280411928891, val accuracy : 0.73668, best val accuracy : 0.74
Average local training loss : 3.845416510663927
Average local training accuracy : 0.9047722222222222
INFO flwr 2023-07-26 13:33:33,686 | server.py:116 | fit progress: (21, 1.1245036590576172, {'server_test_acc': 0.7383}, 3425.0316915500443)
INFO flwr 2023-07-26 13:33:33,686 | server.py:163 | evaluate_round 21: no clients selected, cancel
Cluster score for round 22 = 3980.4013671875
INFO flwr 2023-07-26 13:33:42,059 | fed_df.py:230 | Number of selected crops : 9111
DEBUG flwr 2023-07-26 13:33:44,667 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1248757)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1248747)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1248752)[0m corrupted size vs. prev_size in fastbins
DEBUG flwr 2023-07-26 13:35:05,758 | server.py:229 | fit_round 22 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1248756)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1248715)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1248748)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1248748)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1248757)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1248752)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1248747)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1248715)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1248614)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1248753)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1248756)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1248753)[0m malloc_consolidate(): invalid chunk size
E0726 13:35:07.386251131 1186024 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1248614)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.013464895099401474, val accuracy : 0.73986, best val accuracy : 0.7434
Average local training loss : 3.851372201554477
Average local training accuracy : 0.9039208333333333
INFO flwr 2023-07-26 13:36:22,515 | server.py:116 | fit progress: (22, 1.1057306732177734, {'server_test_acc': 0.7334}, 3593.8614117869874)
INFO flwr 2023-07-26 13:36:22,516 | server.py:163 | evaluate_round 22: no clients selected, cancel
Cluster score for round 23 = 5500.912109375
INFO flwr 2023-07-26 13:36:31,204 | fed_df.py:230 | Number of selected crops : 8572
DEBUG flwr 2023-07-26 13:36:33,701 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1569189)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:37:53,720 | server.py:229 | fit_round 23 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1569187)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1569191)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1569189)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1569187)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1569188)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1569186)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1569191)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1569193)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1569194)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1569190)[0m Fitting Client 18
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1569186)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1569188)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1569190)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1569194)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1569193)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1569193)[0m malloc_consolidate(): invalid chunk size
E0726 13:37:56.580847216 1406046 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.007234469729475677, val accuracy : 0.7443799999999999, best val accuracy : 0.7484
Average local training loss : 3.837981605902314
Average local training accuracy : 0.9053388888888889
INFO flwr 2023-07-26 13:39:12,623 | server.py:116 | fit progress: (23, 1.078441049194336, {'server_test_acc': 0.7374}, 3763.969091327046)
INFO flwr 2023-07-26 13:39:12,623 | server.py:163 | evaluate_round 23: no clients selected, cancel
Cluster score for round 24 = 5977.1396484375
INFO flwr 2023-07-26 13:39:21,240 | fed_df.py:230 | Number of selected crops : 8524
DEBUG flwr 2023-07-26 13:39:23,752 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1967390)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1967633)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:40:43,948 | server.py:229 | fit_round 24 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1967405)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1967473)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1967390)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1967405)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1967473)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1967635)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1967458)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1967634)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1967566)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1967633)[0m Fitting Client 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1967458)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1967634)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1967635)[0m malloc_consolidate(): invalid chunk size
E0726 13:40:45.646232740 2169366 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1967566)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.008753197312355042, val accuracy : 0.7331399999999999, best val accuracy : 0.7368
Average local training loss : 3.888466048240662
Average local training accuracy : 0.9001791666666668
INFO flwr 2023-07-26 13:42:08,623 | server.py:116 | fit progress: (24, 1.046880126953125, {'server_test_acc': 0.7345}, 3939.969415436033)
INFO flwr 2023-07-26 13:42:08,624 | server.py:163 | evaluate_round 24: no clients selected, cancel
Cluster score for round 25 = 8213.06640625
INFO flwr 2023-07-26 13:42:17,092 | fed_df.py:230 | Number of selected crops : 8477
DEBUG flwr 2023-07-26 13:42:19,600 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2322571)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2322670)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2322568)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2322669)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:43:39,357 | server.py:229 | fit_round 25 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2322571)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2322568)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2322670)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2322668)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2322569)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2322567)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2322570)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2322669)[0m Fitting Client 7
Warm start at round 25
Performing server side distillation training...
E0726 13:43:40.102757813 2170125 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2322567)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2322570)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2322569)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2322668)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.028977833054959774, val accuracy : 0.7319, best val accuracy : 0.739
Average local training loss : 3.7927982760593295
Average local training accuracy : 0.9073555555555556
INFO flwr 2023-07-26 13:44:52,586 | server.py:116 | fit progress: (25, 1.2706292266845702, {'server_test_acc': 0.7305}, 4103.931947740028)
INFO flwr 2023-07-26 13:44:52,586 | server.py:163 | evaluate_round 25: no clients selected, cancel
Cluster score for round 26 = 2318.72607421875
INFO flwr 2023-07-26 13:45:00,803 | fed_df.py:230 | Number of selected crops : 7962
DEBUG flwr 2023-07-26 13:45:03,218 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2507157)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2507164)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2507165)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:46:23,138 | server.py:229 | fit_round 26 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2507162)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=2507157)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2507162)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2507163)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2507164)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2507167)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2507165)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2507168)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2507169)[0m Fitting Client 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2507167)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2507169)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2507168)[0m double free or corruption (fasttop)
E0726 13:46:24.798188883 2599526 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 13:46:24.798303797 2599526 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 13:46:24.798322065 2599526 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2507163)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.012201746947132051, val accuracy : 0.75196, best val accuracy : 0.7542
Average local training loss : 3.6624349152669313
Average local training accuracy : 0.9206374999999999
INFO flwr 2023-07-26 13:47:39,224 | server.py:116 | fit progress: (26, 1.1078513122558593, {'server_test_acc': 0.7451}, 4270.570235040039)
INFO flwr 2023-07-26 13:47:39,224 | server.py:163 | evaluate_round 26: no clients selected, cancel
Cluster score for round 27 = 4051.768310546875
INFO flwr 2023-07-26 13:47:47,434 | fed_df.py:230 | Number of selected crops : 8368
DEBUG flwr 2023-07-26 13:47:49,901 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2656183)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2656179)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2656181)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:49:09,895 | server.py:229 | fit_round 27 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2656181)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2656185)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2656184)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2656182)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2656179)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2656183)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2656187)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2656186)[0m Fitting Client 7
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2656182)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2656187)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2656185)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2656186)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2656184)[0m malloc_consolidate(): invalid chunk size
E0726 13:49:12.739053400 2599661 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.006401031684596091, val accuracy : 0.7527800000000001, best val accuracy : 0.7566
Average local training loss : 3.7038679985329512
Average local training accuracy : 0.9150944444444444
INFO flwr 2023-07-26 13:50:22,819 | server.py:116 | fit progress: (27, 1.0776265167236327, {'server_test_acc': 0.7505}, 4434.165243530995)
INFO flwr 2023-07-26 13:50:22,819 | server.py:163 | evaluate_round 27: no clients selected, cancel
Cluster score for round 28 = 5185.953125
INFO flwr 2023-07-26 13:50:31,162 | fed_df.py:230 | Number of selected crops : 8660
DEBUG flwr 2023-07-26 13:50:33,695 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2801501)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2801503)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2801507)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:51:52,550 | server.py:229 | fit_round 28 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2801501)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2801504)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2801503)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2801506)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2801505)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2801508)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2801500)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2801507)[0m Fitting Client 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2801504)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2801508)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2801506)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2801500)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2801505)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.009334801740013063, val accuracy : 0.7514000000000001, best val accuracy : 0.7546
Average local training loss : 3.684098707139492
Average local training accuracy : 0.9167180555555554
INFO flwr 2023-07-26 13:53:06,118 | server.py:116 | fit progress: (28, 1.0625358306884765, {'server_test_acc': 0.7414}, 4597.46378119709)
INFO flwr 2023-07-26 13:53:06,118 | server.py:163 | evaluate_round 28: no clients selected, cancel
Cluster score for round 29 = 5692.15625
INFO flwr 2023-07-26 13:53:14,417 | fed_df.py:230 | Number of selected crops : 8295
DEBUG flwr 2023-07-26 13:53:16,910 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2953242)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:54:35,931 | server.py:229 | fit_round 29 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2953133)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2953162)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2953180)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2953263)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2953242)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2953105)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2953125)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2953191)[0m Fitting Client 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2953180)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2953133)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2953125)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2953105)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2953263)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2953162)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2953191)[0m malloc_consolidate(): invalid chunk size
E0726 13:54:40.063725504 3062852 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.010868464551866054, val accuracy : 0.74322, best val accuracy : 0.7476
Average local training loss : 3.607378947176039
Average local training accuracy : 0.9221194444444444
INFO flwr 2023-07-26 13:55:48,013 | server.py:116 | fit progress: (29, 1.0476573333740233, {'server_test_acc': 0.7372}, 4759.358985932078)
INFO flwr 2023-07-26 13:55:48,013 | server.py:163 | evaluate_round 29: no clients selected, cancel
Cluster score for round 30 = 6998.62158203125
INFO flwr 2023-07-26 13:55:56,207 | fed_df.py:230 | Number of selected crops : 8026
DEBUG flwr 2023-07-26 13:55:58,757 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3115124)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3115120)[0m corrupted size vs. prev_size in fastbins
DEBUG flwr 2023-07-26 13:57:17,357 | server.py:229 | fit_round 30 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3115121)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3115120)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3115121)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3115124)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3115128)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3115130)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3115129)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3115127)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3115126)[0m Fitting Client 16
Warm start at round 30
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3115129)[0m malloc_consolidate(): invalid chunk size
E0726 13:57:18.118779800 3062920 chttp2_transport.cc:1079]             ipv4:145.136.62.6:60709: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3115128)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3115127)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3115130)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3115126)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.026645400404930113, val accuracy : 0.73188, best val accuracy : 0.7452
Average local training loss : 3.775092489086091
Average local training accuracy : 0.9086208333333333
INFO flwr 2023-07-26 13:58:32,873 | server.py:116 | fit progress: (30, 1.213581072998047, {'server_test_acc': 0.7379}, 4924.219171300996)
INFO flwr 2023-07-26 13:58:32,873 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-07-26 13:58:32,873 | server.py:144 | FL finished in 4924.219636554015
INFO flwr 2023-07-26 13:58:32,874 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-07-26 13:58:32,875 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-07-26 13:58:32,875 | app.py:204 | app_fit: losses_centralized [(0, 2.4661781799316405), (1, 1.7627725891113282), (2, 1.5697993560791015), (3, 1.628963803100586), (4, 1.4352922637939454), (5, 1.418440982055664), (6, 1.372160479736328), (7, 1.380650341796875), (8, 1.367562091064453), (9, 1.3733146575927735), (10, 1.3819865661621094), (11, 1.3056907836914062), (12, 1.2639929718017577), (13, 1.2360014739990235), (14, 1.2309046875), (15, 1.355590850830078), (16, 1.2758555053710938), (17, 1.2805700897216796), (18, 1.2089192291259765), (19, 1.2042037841796875), (20, 1.2033966827392577), (21, 1.1245036590576172), (22, 1.1057306732177734), (23, 1.078441049194336), (24, 1.046880126953125), (25, 1.2706292266845702), (26, 1.1078513122558593), (27, 1.0776265167236327), (28, 1.0625358306884765), (29, 1.0476573333740233), (30, 1.213581072998047)]
INFO flwr 2023-07-26 13:58:32,875 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.0915), (1, 0.4503), (2, 0.4788), (3, 0.5041), (4, 0.5848), (5, 0.5944), (6, 0.6316), (7, 0.6311), (8, 0.638), (9, 0.6395), (10, 0.6743), (11, 0.6816), (12, 0.6852), (13, 0.6912), (14, 0.6838), (15, 0.7044), (16, 0.7183), (17, 0.7067), (18, 0.7196), (19, 0.7132), (20, 0.7238), (21, 0.7383), (22, 0.7334), (23, 0.7374), (24, 0.7345), (25, 0.7305), (26, 0.7451), (27, 0.7505), (28, 0.7414), (29, 0.7372), (30, 0.7379)]}
malloc_consolidate(): invalid chunk size
srun: error: gcn6: task 0: Aborted
srun: Terminating StepId=3152531.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3152531
Cluster: snellius
User/Group: sunnys/sunnys
State: RUNNING
Nodes: 1
Cores per node: 18
CPU Utilized: 02:53:53
CPU Efficiency: 11.16% of 1-01:58:30 core-walltime
Job Wall-clock time: 01:26:35
Memory Utilized: 58.03 GB
Memory Efficiency: 48.36% of 120.00 GB
WARNING: Efficiency statistics may be misleading for RUNNING jobs.
