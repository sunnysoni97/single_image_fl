-----BEGIN-----
-----SETTINGS-----
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:pathmnist
PARTITION_ALPHA:10.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:40
LOCAL_LR:0.05
DISTILL_BATCH_SIZE:512
SERVER_LR:0.005
SERVER_STEPS:500
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
SEED:42
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:colonpath_sample.jpg
DISTILL_DATASET:cifar100
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:10000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:5
KMEANS_N_CLUSTER:50
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
CONFIDENCE_THRESHOLD:0.9
CONFIDENCE_MIN_CROPS:2500
CLIPPING_FACTOR:2.5
FEDPROX_FACTOR:1.0
FEDPROX_ADAPTIVE:False
USE_CLIPPING:True
USE_ENTROPY:True
USE_KMEANS:True
USE_FEDPROX:True
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=100000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/colonpath_sample.jpg', targetpath='/scratch-local/sunnys.3152540/1690367595_638499713', seed=42, img_per_thread=5555)
will save 100000 patches in /scratch-local/sunnys.3152540/1690367595_638499713/single_img_crops/crops
100000 took 0.46min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-07-26 12:34:02,606 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-07-26 12:34:02,606 | simulate.py:55 | Reading args from argument parser
Downloading https://zenodo.org/record/6496656/files/pathmnist.npz?download=1 to /scratch-local/sunnys.3152540/1690367595_638499713/pathmnist.npz
Generating unified pathmnist dataset
Class histogram for 0-th partition (alpha=10.0, 9 classes): [490 604 231 501 464 620 475 540 575]
INFO flwr 2023-07-26 12:35:56,856 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-07-26 12:35:59,298	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8265 [39m[22m
INFO flwr 2023-07-26 12:36:00,329 | app.py:179 | Flower VCE: Ray initialized with resources: {'CPU': 18.0, 'memory': 103079215104.0, 'GPU': 1.0, 'accelerator_type:A100': 1.0, 'object_store_memory': 61847529062.0, 'node:145.136.62.36': 1.0}
INFO flwr 2023-07-26 12:36:00,329 | server.py:86 | Initializing global parameters
INFO flwr 2023-07-26 12:36:00,330 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-07-26 12:36:00,330 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-07-26 12:36:08,774 | server.py:91 | initial parameters (loss, other metrics): 2.1845225108367154, {'server_test_acc': 0.11030640668523677}
INFO flwr 2023-07-26 12:36:08,775 | server.py:101 | FL starting
Cluster score for round 1 = 903.9652709960938
INFO flwr 2023-07-26 12:36:16,198 | fed_df.py:230 | Number of selected crops : 10000
DEBUG flwr 2023-07-26 12:36:19,093 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2063822)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:37:53,662 | server.py:229 | fit_round 1 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2063818)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2063823)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2063811)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2063819)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2063817)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2063821)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2063822)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2063820)[0m Fitting Client 10
Warm start at round 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2063811)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2063823)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2063819)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2063820)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2063821)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2063817)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2063818)[0m malloc_consolidate(): invalid chunk size
E0726 12:37:56.150988817 2225315 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.4114965547323227, val accuracy : 0.38344819919964424, best val accuracy : 0.43463761671854156
Average local training loss : 8.496235400438309
Average local training accuracy : 0.7026550925925925
INFO flwr 2023-07-26 12:38:56,974 | server.py:116 | fit progress: (1, 2.2146513165869752, {'server_test_acc': 0.32785515320334263}, 168.19945082301274)
INFO flwr 2023-07-26 12:38:56,974 | server.py:163 | evaluate_round 1: no clients selected, cancel
Cluster score for round 2 = 84800.515625
INFO flwr 2023-07-26 12:39:05,073 | fed_df.py:230 | Number of selected crops : 5113
DEBUG flwr 2023-07-26 12:39:06,897 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2339379)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2339372)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:40:35,279 | server.py:229 | fit_round 2 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2339374)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2339375)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2339379)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2339378)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2339377)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2339376)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2339373)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2339372)[0m Fitting Client 11
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2339377)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2339375)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2339373)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2339374)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2339378)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2339376)[0m malloc_consolidate(): invalid chunk size
E0726 12:40:39.797625382 2225903 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
E0726 12:41:10.284834716 2516175 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.24584101125597954, val accuracy : 0.4761560693641618, best val accuracy : 0.5094486438417074
Average local training loss : 7.096019352972507
Average local training accuracy : 0.784843364197531
INFO flwr 2023-07-26 12:42:18,045 | server.py:116 | fit progress: (2, 1.8163072036169365, {'server_test_acc': 0.5781337047353761}, 369.27014760801103)
INFO flwr 2023-07-26 12:42:18,045 | server.py:163 | evaluate_round 2: no clients selected, cancel
Cluster score for round 3 = 134157.53125
INFO flwr 2023-07-26 12:42:26,359 | fed_df.py:230 | Number of selected crops : 4104
DEBUG flwr 2023-07-26 12:42:28,013 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2683037)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2683040)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=2683043)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2683042)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:43:58,029 | server.py:229 | fit_round 3 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2683045)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2683046)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2683037)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2683040)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2683044)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2683047)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2683045)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2683043)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2683042)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2683046)[0m Fitting Client 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2683047)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2683044)[0m malloc_consolidate(): invalid chunk size
E0726 12:44:00.326892888 2569696 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.2433939020037651, val accuracy : 0.4925744775455758, best val accuracy : 0.575811471765229
Average local training loss : 7.016128397732973
Average local training accuracy : 0.7902422839506174
INFO flwr 2023-07-26 12:45:49,028 | server.py:116 | fit progress: (3, 1.4974345310816857, {'server_test_acc': 0.5732590529247911}, 580.2528581800289)
INFO flwr 2023-07-26 12:45:49,028 | server.py:163 | evaluate_round 3: no clients selected, cancel
Cluster score for round 4 = 148544.609375
INFO flwr 2023-07-26 12:45:57,682 | fed_df.py:230 | Number of selected crops : 2500
DEBUG flwr 2023-07-26 12:45:58,979 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3041450)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3041452)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3041451)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:47:30,545 | server.py:229 | fit_round 4 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3041453)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3041454)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3041456)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3041452)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3041453)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3041450)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3041456)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3041454)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3041451)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3041455)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3041457)[0m Fitting Client 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3041457)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3041455)[0m double free or corruption (fasttop)
E0726 12:47:32.758457410 3224752 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.2951540776789188, val accuracy : 0.5746220542463316, best val accuracy : 0.6050466874166296
Average local training loss : 6.9386071998625996
Average local training accuracy : 0.7968248456790124
INFO flwr 2023-07-26 12:50:26,873 | server.py:116 | fit progress: (4, 2.0591309156922577, {'server_test_acc': 0.40682451253481894}, 858.0978551619919)
INFO flwr 2023-07-26 12:50:26,873 | server.py:163 | evaluate_round 4: no clients selected, cancel
Cluster score for round 5 = 66574.6484375
INFO flwr 2023-07-26 12:50:35,408 | fed_df.py:230 | Number of selected crops : 5226
DEBUG flwr 2023-07-26 12:50:37,313 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3562702)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3562527)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3562525)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3562671)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3562670)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:52:05,496 | server.py:229 | fit_round 5 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3562527)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3562671)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3562701)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3562530)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3562702)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3562525)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3562535)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3562670)[0m Fitting Client 14
Warm start at round 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3562701)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3562535)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3562530)[0m double free or corruption (fasttop)
E0726 12:52:09.739830200 3226414 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.15951338142156601, val accuracy : 0.5071809693196976, best val accuracy : 0.579035126722988
Average local training loss : 7.101998959667982
Average local training accuracy : 0.7869274691358025
INFO flwr 2023-07-26 12:53:44,718 | server.py:116 | fit progress: (5, 2.769769532301964, {'server_test_acc': 0.6463788300835654}, 1055.9432325570378)
INFO flwr 2023-07-26 12:53:44,718 | server.py:163 | evaluate_round 5: no clients selected, cancel
Cluster score for round 6 = 103250.65625
INFO flwr 2023-07-26 12:53:53,095 | fed_df.py:230 | Number of selected crops : 5093
DEBUG flwr 2023-07-26 12:53:54,960 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3889149)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3889276)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:55:22,602 | server.py:229 | fit_round 6 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3889149)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3889151)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3889156)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3889297)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3889276)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3889175)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3889436)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3889437)[0m Fitting Client 17
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3889156)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3889297)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3889175)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3889437)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3889436)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3889151)[0m malloc_consolidate(): invalid chunk size
E0726 12:55:24.835572778 4065845 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.16738472396135332, val accuracy : 0.4551689639839929, best val accuracy : 0.4925522454424189
Average local training loss : 6.099620691314339
Average local training accuracy : 0.8494313271604937
INFO flwr 2023-07-26 12:57:05,625 | server.py:116 | fit progress: (6, 2.8346160822260016, {'server_test_acc': 0.4215877437325905}, 1256.850270483992)
INFO flwr 2023-07-26 12:57:05,625 | server.py:163 | evaluate_round 6: no clients selected, cancel
Cluster score for round 7 = 94612.3125
INFO flwr 2023-07-26 12:57:14,006 | fed_df.py:230 | Number of selected crops : 4383
DEBUG flwr 2023-07-26 12:57:15,727 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=42755)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=42753)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=42779)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:58:44,439 | server.py:229 | fit_round 7 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=42620)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=42618)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=42758)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=42753)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=42755)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=42754)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=42779)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=42778)[0m Fitting Client 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=42754)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=42618)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=42778)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=42758)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=42620)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.05219955174997449, val accuracy : 0.4720987105380169, best val accuracy : 0.49933303690529124
Average local training loss : 6.060896026901901
Average local training accuracy : 0.852949074074074
INFO flwr 2023-07-26 13:00:38,079 | server.py:116 | fit progress: (7, 2.5484724990504697, {'server_test_acc': 0.45069637883008357}, 1469.3047139760456)
INFO flwr 2023-07-26 13:00:38,080 | server.py:163 | evaluate_round 7: no clients selected, cancel
Cluster score for round 8 = 110715.6953125
INFO flwr 2023-07-26 13:00:46,487 | fed_df.py:230 | Number of selected crops : 2979
DEBUG flwr 2023-07-26 13:00:47,894 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=408845)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=408839)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=408842)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:02:17,599 | server.py:229 | fit_round 8 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=408842)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=408841)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=408836)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=408845)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=408958)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=408840)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=408837)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=408839)[0m Fitting Client 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=408836)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=408958)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=408841)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=408837)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=408840)[0m double free or corruption (fasttop)
E0726 13:02:22.261000549  575477 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
E0726 13:02:22.261097714  575477 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
E0726 13:03:49.367127496  579269 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
E0726 13:04:28.591072955  790372 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.20254696264863015, val accuracy : 0.5443975100044465, best val accuracy : 0.5653623832814584
Average local training loss : 6.150867168232799
Average local training accuracy : 0.8474166666666667
INFO flwr 2023-07-26 13:04:54,545 | server.py:116 | fit progress: (8, 3.3229454601043447, {'server_test_acc': 0.38983286908077996}, 1725.7702359789982)
INFO flwr 2023-07-26 13:04:54,545 | server.py:163 | evaluate_round 8: no clients selected, cancel
Cluster score for round 9 = 53260.6953125
INFO flwr 2023-07-26 13:05:02,942 | fed_df.py:230 | Number of selected crops : 3282
DEBUG flwr 2023-07-26 13:05:04,421 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=847886)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=847887)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=847888)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=847882)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:06:33,595 | server.py:229 | fit_round 9 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=847883)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=847812)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=847888)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=847885)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=847882)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=847883)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=847884)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=847886)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=847887)[0m Fitting Client 14
Performing server side distillation training...
E0726 13:06:34.342737959  791646 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
[2m[36m(launch_and_fit pid=847812)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=847884)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=847885)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.2920626147389412, val accuracy : 0.45918185860382393, best val accuracy : 0.5475767007558915
Average local training loss : 6.276732289418578
Average local training accuracy : 0.8407615740740739
INFO flwr 2023-07-26 13:08:52,316 | server.py:116 | fit progress: (9, 2.170454516716322, {'server_test_acc': 0.4710306406685237}, 1963.5410175439902)
INFO flwr 2023-07-26 13:08:52,316 | server.py:163 | evaluate_round 9: no clients selected, cancel
Cluster score for round 10 = 68591.75
INFO flwr 2023-07-26 13:09:00,692 | fed_df.py:230 | Number of selected crops : 4303
DEBUG flwr 2023-07-26 13:09:02,431 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1285649)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1285657)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1285656)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:10:30,251 | server.py:229 | fit_round 10 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1285649)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1285655)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1285654)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1285653)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1285652)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1285657)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1285656)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1285658)[0m Fitting Client 17
Warm start at round 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1285652)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1285655)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1285658)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1285654)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1285653)[0m malloc_consolidate(): invalid chunk size
E0726 13:10:32.567477374 1434334 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.15358165723085404, val accuracy : 0.35984882169853266, best val accuracy : 0.42196531791907516
Average local training loss : 6.126226365379988
Average local training accuracy : 0.8488850308641974
INFO flwr 2023-07-26 13:12:24,257 | server.py:116 | fit progress: (10, 2.5177417964988433, {'server_test_acc': 0.4190807799442897}, 2175.4823041600175)
INFO flwr 2023-07-26 13:12:24,257 | server.py:163 | evaluate_round 10: no clients selected, cancel
Cluster score for round 11 = 57747.23046875
INFO flwr 2023-07-26 13:12:32,674 | fed_df.py:230 | Number of selected crops : 5259
DEBUG flwr 2023-07-26 13:12:34,555 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1645092)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1645001)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:14:03,207 | server.py:229 | fit_round 11 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1645054)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1645000)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1645002)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1644999)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1645054)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1645037)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1645092)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1645097)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1645001)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1645000)[0m Fitting Client 8
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1645002)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1645037)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1645097)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1644999)[0m malloc_consolidate(): invalid chunk size
E0726 13:14:06.166389445 1435975 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.04343231925368309, val accuracy : 0.37002000889284126, best val accuracy : 0.41829702089817694
Average local training loss : 5.341497872211039
Average local training accuracy : 0.8984899691358026
INFO flwr 2023-07-26 13:15:42,822 | server.py:116 | fit progress: (11, 7.1255385098683135, {'server_test_acc': 0.5286908077994429}, 2374.047497301013)
INFO flwr 2023-07-26 13:15:42,823 | server.py:163 | evaluate_round 11: no clients selected, cancel
Cluster score for round 12 = 151836.5
INFO flwr 2023-07-26 13:15:51,366 | fed_df.py:230 | Number of selected crops : 5099
DEBUG flwr 2023-07-26 13:15:53,211 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1981137)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:17:22,194 | server.py:229 | fit_round 12 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1981218)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1981137)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1981142)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1981239)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1981237)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1981235)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1981218)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1981238)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1981236)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1981235)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1981237)[0m malloc_consolidate(): invalid chunk size
E0726 13:17:23.192683246 1801923 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
[2m[36m(launch_and_fit pid=1981238)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1981239)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1981236)[0m malloc_consolidate(): invalid chunk size
E0726 13:17:25.418772264 2129720 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.03951080809161067, val accuracy : 0.4030569141840818, best val accuracy : 0.443530457981325
Average local training loss : 5.308318681176751
Average local training accuracy : 0.8993572530864198
INFO flwr 2023-07-26 13:19:07,708 | server.py:116 | fit progress: (12, 4.403094530238414, {'server_test_acc': 0.4084958217270195}, 2578.933217478043)
INFO flwr 2023-07-26 13:19:07,708 | server.py:163 | evaluate_round 12: no clients selected, cancel
Cluster score for round 13 = 138550.390625
INFO flwr 2023-07-26 13:19:16,159 | fed_df.py:230 | Number of selected crops : 4555
DEBUG flwr 2023-07-26 13:19:17,873 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2329152)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2329154)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2329156)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2329153)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2329082)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:20:46,334 | server.py:229 | fit_round 13 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2329156)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2329230)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2329154)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2329155)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2329152)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2329151)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2329153)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2329082)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2329230)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2329151)[0m double free or corruption (fasttop)
E0726 13:20:47.566639923 2485374 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
[2m[36m(launch_and_fit pid=2329155)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.05474476812034845, val accuracy : 0.5282570031124945, best val accuracy : 0.5602489995553579
Average local training loss : 5.292053897678852
Average local training accuracy : 0.9006983024691357
INFO flwr 2023-07-26 13:22:41,707 | server.py:116 | fit progress: (13, 8.377982169339916, {'server_test_acc': 0.5459610027855153}, 2792.931914921035)
INFO flwr 2023-07-26 13:22:41,707 | server.py:163 | evaluate_round 13: no clients selected, cancel
Cluster score for round 14 = 135785.546875
INFO flwr 2023-07-26 13:22:50,210 | fed_df.py:230 | Number of selected crops : 5198
DEBUG flwr 2023-07-26 13:22:52,092 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2730828)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2730758)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2730898)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:24:21,340 | server.py:229 | fit_round 14 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2730899)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2730749)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2730900)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2730749)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2730828)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2730898)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2730829)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2730758)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2730897)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2730899)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2730900)[0m Fitting Client 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2730829)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2730897)[0m malloc_consolidate(): invalid chunk size
E0726 13:24:24.341797786 2485539 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.12809743301570414, val accuracy : 0.3199644286349489, best val accuracy : 0.3850600266785238
Average local training loss : 5.2363898962736135
Average local training accuracy : 0.9047075617283952
INFO flwr 2023-07-26 13:26:00,655 | server.py:116 | fit progress: (14, 5.327386628153596, {'server_test_acc': 0.3084958217270195}, 2991.8801978260162)
INFO flwr 2023-07-26 13:26:00,655 | server.py:163 | evaluate_round 14: no clients selected, cancel
Cluster score for round 15 = 109328.3984375
INFO flwr 2023-07-26 13:26:09,155 | fed_df.py:230 | Number of selected crops : 4572
DEBUG flwr 2023-07-26 13:26:10,868 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3061361)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3061532)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3061531)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:27:39,284 | server.py:229 | fit_round 15 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3061361)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3061462)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3061532)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3061536)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3061531)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3061535)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3061534)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3061362)[0m Fitting Client 9
Warm start at round 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3061362)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3061462)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3061536)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3061535)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3061534)[0m malloc_consolidate(): invalid chunk size
E0726 13:27:42.513233446 2895045 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.12950094524025918, val accuracy : 0.3152734548688306, best val accuracy : 0.4389728768341485
Average local training loss : 5.313586809113622
Average local training accuracy : 0.8995624999999999
INFO flwr 2023-07-26 13:29:34,431 | server.py:116 | fit progress: (15, 9.847960525236422, {'server_test_acc': 0.3309192200557103}, 3205.6561822540243)
INFO flwr 2023-07-26 13:29:34,431 | server.py:163 | evaluate_round 15: no clients selected, cancel
Cluster score for round 16 = 148102.234375
INFO flwr 2023-07-26 13:29:43,008 | fed_df.py:230 | Number of selected crops : 4588
DEBUG flwr 2023-07-26 13:29:44,770 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3419606)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3419631)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:31:13,155 | server.py:229 | fit_round 16 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3419718)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3419606)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3419610)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3419631)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3419632)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3419629)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3419630)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3419608)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3419718)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3419610)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3419630)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3419629)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3419608)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3419632)[0m malloc_consolidate(): invalid chunk size
E0726 13:31:17.411894495 3588947 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.08402504301443696, val accuracy : 0.5024232992441086, best val accuracy : 0.5232325477990218
Average local training loss : 4.727377857267856
Average local training accuracy : 0.9344953703703704
INFO flwr 2023-07-26 13:33:08,973 | server.py:116 | fit progress: (16, 5.739624621941187, {'server_test_acc': 0.6420612813370473}, 3420.198296522023)
INFO flwr 2023-07-26 13:33:08,973 | server.py:163 | evaluate_round 16: no clients selected, cancel
Cluster score for round 17 = 67575.6953125
INFO flwr 2023-07-26 13:33:17,899 | fed_df.py:230 | Number of selected crops : 5078
DEBUG flwr 2023-07-26 13:33:19,768 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3784564)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3784395)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:34:49,052 | server.py:229 | fit_round 17 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3784390)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3784392)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3784397)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3784394)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3784566)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3784564)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3784395)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3784396)[0m Fitting Client 9
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3784392)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3784390)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3784394)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3784566)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3784397)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3784396)[0m malloc_consolidate(): invalid chunk size
E0726 13:34:50.634244964 3589992 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.11099344059824943, val accuracy : 0.484437527790129, best val accuracy : 0.5127834593152513
Average local training loss : 4.68837091177702
Average local training accuracy : 0.9372067901234569
INFO flwr 2023-07-26 13:36:34,969 | server.py:116 | fit progress: (17, 5.704719364145008, {'server_test_acc': 0.5250696378830083}, 3626.194301901036)
INFO flwr 2023-07-26 13:36:34,969 | server.py:163 | evaluate_round 17: no clients selected, cancel
Cluster score for round 18 = 76505.890625
INFO flwr 2023-07-26 13:36:43,403 | fed_df.py:230 | Number of selected crops : 4724
DEBUG flwr 2023-07-26 13:36:45,195 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=4134017)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4134153)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:38:14,685 | server.py:229 | fit_round 18 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=4134019)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=4134017)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=4134018)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=4134016)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=4134153)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=4134152)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=4134087)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=4134111)[0m Fitting Client 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=4134019)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4134152)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4134087)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4134016)[0m double free or corruption (fasttop)
E0726 13:38:16.194146104 3946086 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=4134111)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4134018)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.07225136871635914, val accuracy : 0.4336705202312139, best val accuracy : 0.48465984882169855
Average local training loss : 4.814580738078803
Average local training accuracy : 0.9296404320987653
INFO flwr 2023-07-26 13:39:56,633 | server.py:116 | fit progress: (18, 5.065348790415815, {'server_test_acc': 0.4387186629526462}, 3827.8582564700046)
INFO flwr 2023-07-26 13:39:56,633 | server.py:163 | evaluate_round 18: no clients selected, cancel
Cluster score for round 19 = 77132.9296875
INFO flwr 2023-07-26 13:40:05,155 | fed_df.py:230 | Number of selected crops : 4245
DEBUG flwr 2023-07-26 13:40:06,849 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=314153)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=314150)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=314148)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:41:35,214 | server.py:229 | fit_round 19 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=314146)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=314144)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=314149)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=314148)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=314153)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=314152)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=314150)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=314151)[0m Fitting Client 7
Performing server side distillation training...
[2m[36m(launch_and_fit pid=314146)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=314152)[0m double free or corruption (fasttop)
E0726 13:41:36.096885773  140328 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=314149)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=314144)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=314151)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.06751104907691478, val accuracy : 0.554057358826145, best val accuracy : 0.588150289017341
Average local training loss : 4.944337785150856
Average local training accuracy : 0.922378086419753
INFO flwr 2023-07-26 13:43:29,833 | server.py:116 | fit progress: (19, 3.070134555529751, {'server_test_acc': 0.5786908077994429}, 4041.05830538203)
INFO flwr 2023-07-26 13:43:29,833 | server.py:163 | evaluate_round 19: no clients selected, cancel
Cluster score for round 20 = 144524.90625
INFO flwr 2023-07-26 13:43:38,442 | fed_df.py:230 | Number of selected crops : 4699
DEBUG flwr 2023-07-26 13:43:40,205 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=671125)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=671126)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=670983)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=670984)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=671116)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:45:09,431 | server.py:229 | fit_round 20 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=670983)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=670984)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=670981)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=671116)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=671126)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=671125)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=671124)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=671123)[0m Fitting Client 8
Warm start at round 20
Performing server side distillation training...
[2m[36m(launch_and_fit pid=671124)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=671123)[0m malloc_consolidate(): invalid chunk size
E0726 13:45:11.115623570  838325 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 13:45:11.115739647  838325 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 13:45:11.115757720  838325 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.3944191608428955, val accuracy : 0.25912627834593155, best val accuracy : 0.31847487772343264
Average local training loss : 4.970893897488713
Average local training accuracy : 0.9211396604938271
INFO flwr 2023-07-26 13:46:55,221 | server.py:116 | fit progress: (20, 10.740091148525227, {'server_test_acc': 0.3493036211699164}, 4246.446720338019)
INFO flwr 2023-07-26 13:46:55,222 | server.py:163 | evaluate_round 20: no clients selected, cancel
Cluster score for round 21 = 177598.8125
INFO flwr 2023-07-26 13:47:03,633 | fed_df.py:230 | Number of selected crops : 3455
DEBUG flwr 2023-07-26 13:47:05,133 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1013789)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1013792)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:48:33,553 | server.py:229 | fit_round 21 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1013789)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1013787)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1013791)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1013792)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1013832)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1013833)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1013786)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1013790)[0m Fitting Client 8
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1013832)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1013791)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1013790)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1013787)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1013833)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1013786)[0m malloc_consolidate(): invalid chunk size
E0726 13:48:35.830843818  839220 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.08965760105103254, val accuracy : 0.4479991107158737, best val accuracy : 0.49310804802134284
Average local training loss : 4.567933037877083
Average local training accuracy : 0.9445408950617283
INFO flwr 2023-07-26 13:50:52,281 | server.py:116 | fit progress: (21, 3.1149004758234478, {'server_test_acc': 0.40041782729805014}, 4483.5061334570055)
INFO flwr 2023-07-26 13:50:52,281 | server.py:163 | evaluate_round 21: no clients selected, cancel
Cluster score for round 22 = 55497.203125
INFO flwr 2023-07-26 13:51:00,683 | fed_df.py:230 | Number of selected crops : 5405
DEBUG flwr 2023-07-26 13:51:02,599 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1419506)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:52:30,528 | server.py:229 | fit_round 22 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1419506)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1419575)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1419578)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1419577)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1419579)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1419630)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1419576)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1419610)[0m Fitting Client 18
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1419575)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1419610)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1419577)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1419578)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1419579)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1419576)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1419630)[0m malloc_consolidate(): invalid chunk size
E0726 13:52:33.589073318 1183078 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 13:53:41.001373254 1605845 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.12787527103722096, val accuracy : 0.5171965317919074, best val accuracy : 0.5938194753223655
Average local training loss : 4.442815006431193
Average local training accuracy : 0.9516967592592592
INFO flwr 2023-07-26 13:54:07,862 | server.py:116 | fit progress: (22, 2.30404610487744, {'server_test_acc': 0.5363509749303621}, 4679.086939239001)
INFO flwr 2023-07-26 13:54:07,862 | server.py:163 | evaluate_round 22: no clients selected, cancel
Cluster score for round 23 = 62148.0859375
INFO flwr 2023-07-26 13:54:16,339 | fed_df.py:230 | Number of selected crops : 5067
DEBUG flwr 2023-07-26 13:54:18,194 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1791963)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:55:46,363 | server.py:229 | fit_round 23 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1791964)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1791969)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1791961)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1791960)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1791962)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1791969)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1791963)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1791968)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1791964)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1791958)[0m Fitting Client 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1791958)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1791960)[0m malloc_consolidate(): invalid chunk size
E0726 13:55:47.440885197 1949203 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1791962)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1791968)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.058390212945640084, val accuracy : 0.6133281458425967, best val accuracy : 0.6326144953312584
Average local training loss : 4.628070946317166
Average local training accuracy : 0.9416057098765432
INFO flwr 2023-07-26 13:57:32,792 | server.py:116 | fit progress: (23, 2.524992290911236, {'server_test_acc': 0.5355153203342619}, 4884.017573712044)
INFO flwr 2023-07-26 13:57:32,793 | server.py:163 | evaluate_round 23: no clients selected, cancel
Cluster score for round 24 = 73118.6015625
INFO flwr 2023-07-26 13:57:41,225 | fed_df.py:230 | Number of selected crops : 4074
DEBUG flwr 2023-07-26 13:57:42,968 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2137944)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2137945)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2138014)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2137940)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2137946)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2137941)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:59:11,380 | server.py:229 | fit_round 24 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2137946)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2137945)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2137944)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2138015)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2137940)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2138014)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2137938)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2137941)[0m Fitting Client 7
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2137938)[0m double free or corruption (fasttop)
E0726 13:59:12.873380174 1949479 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2138015)[0m double free or corruption (fasttop)
E0726 14:01:12.914899535 2482703 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.06146282187104225, val accuracy : 0.5683859493108047, best val accuracy : 0.6022676745220098
Average local training loss : 4.651212584041059
Average local training accuracy : 0.9401535493827161
INFO flwr 2023-07-26 14:01:18,612 | server.py:116 | fit progress: (24, 1.6445222960873234, {'server_test_acc': 0.6103064066852367}, 5109.837062134)
INFO flwr 2023-07-26 14:01:18,612 | server.py:163 | evaluate_round 24: no clients selected, cancel
Cluster score for round 25 = 58311.765625
INFO flwr 2023-07-26 14:01:27,178 | fed_df.py:230 | Number of selected crops : 4275
DEBUG flwr 2023-07-26 14:01:28,919 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2512915)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2512695)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:03:00,295 | server.py:229 | fit_round 25 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2512914)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2512913)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2512814)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2512914)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2512915)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2512695)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2512912)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2512930)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2512911)[0m Fitting Client 7
Warm start at round 25
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2512913)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2512911)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2512814)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2512912)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2512930)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.1136696387976408, val accuracy : 0.5397287683414851, best val accuracy : 0.6050466874166296
Average local training loss : 4.592100390046835
Average local training accuracy : 0.9437708333333334
INFO flwr 2023-07-26 14:05:00,139 | server.py:116 | fit progress: (25, 5.188808522184579, {'server_test_acc': 0.629108635097493}, 5331.36470327602)
INFO flwr 2023-07-26 14:05:00,140 | server.py:163 | evaluate_round 25: no clients selected, cancel
Cluster score for round 26 = 99777.1484375
INFO flwr 2023-07-26 14:05:08,826 | fed_df.py:230 | Number of selected crops : 5114
DEBUG flwr 2023-07-26 14:05:10,710 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2882349)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2882347)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:06:37,967 | server.py:229 | fit_round 26 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2882276)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2882348)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2882344)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2882349)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2882345)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2882350)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2882347)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2882346)[0m Fitting Client 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2882276)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2882346)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2882348)[0m malloc_consolidate(): invalid chunk size
E0726 14:06:39.108145831 3037851 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2882344)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2882345)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2882350)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.04322141630202532, val accuracy : 0.5033236994219653, best val accuracy : 0.5775900400177857
Average local training loss : 4.375674992613495
Average local training accuracy : 0.9561936728395063
INFO flwr 2023-07-26 14:08:28,264 | server.py:116 | fit progress: (26, 3.0281039251258446, {'server_test_acc': 0.6376044568245125}, 5539.489473548019)
INFO flwr 2023-07-26 14:08:28,265 | server.py:163 | evaluate_round 26: no clients selected, cancel
Cluster score for round 27 = 54387.6640625
INFO flwr 2023-07-26 14:08:36,761 | fed_df.py:230 | Number of selected crops : 5110
DEBUG flwr 2023-07-26 14:08:38,707 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3255120)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3255023)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3255092)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 14:10:06,839 | server.py:229 | fit_round 27 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3255120)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3255023)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3254905)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3255133)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3255024)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3255105)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3254903)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3255092)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3254905)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3255105)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3254903)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3255024)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3255133)[0m double free or corruption (fasttop)
E0726 14:10:09.372767101 3427565 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.0415250820107758, val accuracy : 0.688405958203646, best val accuracy : 0.7185415740329035
Average local training loss : 4.423885883949697
Average local training accuracy : 0.953170524691358
INFO flwr 2023-07-26 14:11:50,403 | server.py:116 | fit progress: (27, 2.8134912134877155, {'server_test_acc': 0.7629526462395543}, 5741.6282555880025)
INFO flwr 2023-07-26 14:11:50,403 | server.py:163 | evaluate_round 27: no clients selected, cancel
Cluster score for round 28 = 58248.0234375
INFO flwr 2023-07-26 14:11:58,909 | fed_df.py:230 | Number of selected crops : 4833
DEBUG flwr 2023-07-26 14:12:00,772 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3609140)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3609146)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3609009)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 14:13:29,977 | server.py:229 | fit_round 28 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3609009)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3609140)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3609146)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3609143)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3609145)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3609007)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3609142)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3609144)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3609007)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3609142)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3609145)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3609143)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3609144)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.028012914931401612, val accuracy : 0.6275900400177857, best val accuracy : 0.6530680302356603
Average local training loss : 4.435169738065452
Average local training accuracy : 0.9525810185185186
INFO flwr 2023-07-26 14:15:15,154 | server.py:116 | fit progress: (28, 2.2232288782975136, {'server_test_acc': 0.7022284122562674}, 5946.379288950004)
INFO flwr 2023-07-26 14:15:15,154 | server.py:163 | evaluate_round 28: no clients selected, cancel
Cluster score for round 29 = 60226.640625
INFO flwr 2023-07-26 14:15:24,049 | fed_df.py:230 | Number of selected crops : 5197
DEBUG flwr 2023-07-26 14:15:25,958 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3949187)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3949180)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:16:55,503 | server.py:229 | fit_round 29 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3949180)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3949188)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3949187)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3949189)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3949190)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3949192)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3949191)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3949182)[0m Fitting Client 9
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3949188)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3949191)[0m malloc_consolidate(): invalid chunk size
E0726 14:16:56.596113002 3995028 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 14:16:56.596253192 3995028 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 14:16:56.596273178 3995028 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3949190)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3949189)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3949182)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3949192)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.11895388378202915, val accuracy : 0.6762561138283683, best val accuracy : 0.7249888839484215
Average local training loss : 4.415865219570696
Average local training accuracy : 0.9540509259259259
INFO flwr 2023-07-26 14:18:36,668 | server.py:116 | fit progress: (29, 2.324887796896082, {'server_test_acc': 0.6754874651810585}, 6147.893666259013)
INFO flwr 2023-07-26 14:18:36,669 | server.py:163 | evaluate_round 29: no clients selected, cancel
Cluster score for round 30 = 68820.1796875
INFO flwr 2023-07-26 14:18:45,250 | fed_df.py:230 | Number of selected crops : 4798
DEBUG flwr 2023-07-26 14:18:47,063 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=89199)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:20:15,707 | server.py:229 | fit_round 30 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=89202)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=89199)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=89201)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=89224)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=89225)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=89202)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=89257)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=89223)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=89198)[0m Fitting Client 1
Warm start at round 30
Performing server side distillation training...
[2m[36m(launch_and_fit pid=89223)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=89201)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=89257)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=89225)[0m malloc_consolidate(): invalid chunk size
E0726 14:20:17.068080082  253375 chttp2_transport.cc:1079]             ipv4:145.136.62.36:48971: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=89198)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=89224)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.29098816198110583, val accuracy : 0.362361049355269, best val accuracy : 0.45798132503334815
Average local training loss : 4.437847812846303
Average local training accuracy : 0.9525092592592592
INFO flwr 2023-07-26 14:21:57,490 | server.py:116 | fit progress: (30, 6.249994215261306, {'server_test_acc': 0.38370473537604455}, 6348.715068513004)
INFO flwr 2023-07-26 14:21:57,490 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-07-26 14:21:57,490 | server.py:144 | FL finished in 6348.715447422001
INFO flwr 2023-07-26 14:21:57,490 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-07-26 14:21:57,491 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-07-26 14:21:57,491 | app.py:204 | app_fit: losses_centralized [(0, 2.1845225108367154), (1, 2.2146513165869752), (2, 1.8163072036169365), (3, 1.4974345310816857), (4, 2.0591309156922577), (5, 2.769769532301964), (6, 2.8346160822260016), (7, 2.5484724990504697), (8, 3.3229454601043447), (9, 2.170454516716322), (10, 2.5177417964988433), (11, 7.1255385098683135), (12, 4.403094530238414), (13, 8.377982169339916), (14, 5.327386628153596), (15, 9.847960525236422), (16, 5.739624621941187), (17, 5.704719364145008), (18, 5.065348790415815), (19, 3.070134555529751), (20, 10.740091148525227), (21, 3.1149004758234478), (22, 2.30404610487744), (23, 2.524992290911236), (24, 1.6445222960873234), (25, 5.188808522184579), (26, 3.0281039251258446), (27, 2.8134912134877155), (28, 2.2232288782975136), (29, 2.324887796896082), (30, 6.249994215261306)]
INFO flwr 2023-07-26 14:21:57,492 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.11030640668523677), (1, 0.32785515320334263), (2, 0.5781337047353761), (3, 0.5732590529247911), (4, 0.40682451253481894), (5, 0.6463788300835654), (6, 0.4215877437325905), (7, 0.45069637883008357), (8, 0.38983286908077996), (9, 0.4710306406685237), (10, 0.4190807799442897), (11, 0.5286908077994429), (12, 0.4084958217270195), (13, 0.5459610027855153), (14, 0.3084958217270195), (15, 0.3309192200557103), (16, 0.6420612813370473), (17, 0.5250696378830083), (18, 0.4387186629526462), (19, 0.5786908077994429), (20, 0.3493036211699164), (21, 0.40041782729805014), (22, 0.5363509749303621), (23, 0.5355153203342619), (24, 0.6103064066852367), (25, 0.629108635097493), (26, 0.6376044568245125), (27, 0.7629526462395543), (28, 0.7022284122562674), (29, 0.6754874651810585), (30, 0.38370473537604455)]}
malloc_consolidate(): invalid chunk size
srun: error: gcn36: task 0: Aborted
srun: Terminating StepId=3152540.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3152540
Cluster: snellius
User/Group: sunnys/sunnys
State: COMPLETED (exit code 0)
Nodes: 1
Cores per node: 18
CPU Utilized: 03:54:01
CPU Efficiency: 11.75% of 1-09:12:18 core-walltime
Job Wall-clock time: 01:50:41
Memory Utilized: 59.03 GB
Memory Efficiency: 49.19% of 120.00 GB
