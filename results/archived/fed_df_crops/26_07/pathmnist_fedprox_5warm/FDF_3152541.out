-----BEGIN-----
-----SETTINGS-----
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:pathmnist
PARTITION_ALPHA:10.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:40
LOCAL_LR:0.05
DISTILL_BATCH_SIZE:512
SERVER_LR:0.005
SERVER_STEPS:500
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
SEED:127
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:colonpath_sample.jpg
DISTILL_DATASET:cifar100
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:10000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:5
KMEANS_N_CLUSTER:50
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
CONFIDENCE_THRESHOLD:0.9
CONFIDENCE_MIN_CROPS:2500
CLIPPING_FACTOR:2.5
FEDPROX_FACTOR:1.0
FEDPROX_ADAPTIVE:False
USE_CLIPPING:True
USE_ENTROPY:True
USE_KMEANS:True
USE_FEDPROX:True
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=100000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/colonpath_sample.jpg', targetpath='/scratch-local/sunnys.3152541/1690367659_685896145', seed=127, img_per_thread=5555)
will save 100000 patches in /scratch-local/sunnys.3152541/1690367659_685896145/single_img_crops/crops
100000 took 0.58min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-07-26 12:35:05,641 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-07-26 12:35:05,642 | simulate.py:55 | Reading args from argument parser
Downloading https://zenodo.org/record/6496656/files/pathmnist.npz?download=1 to /scratch-local/sunnys.3152541/1690367659_685896145/pathmnist.npz
Generating unified pathmnist dataset
Class histogram for 0-th partition (alpha=10.0, 9 classes): [308 626 295 736 482 616 473 575 389]
INFO flwr 2023-07-26 12:37:31,806 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-07-26 12:37:34,519	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8266 [39m[22m
INFO flwr 2023-07-26 12:37:35,750 | app.py:179 | Flower VCE: Ray initialized with resources: {'accelerator_type:A100': 1.0, 'node:145.136.62.30': 1.0, 'CPU': 18.0, 'object_store_memory': 61847529062.0, 'GPU': 1.0, 'memory': 103079215104.0}
INFO flwr 2023-07-26 12:37:35,751 | server.py:86 | Initializing global parameters
INFO flwr 2023-07-26 12:37:35,751 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-07-26 12:37:35,751 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-07-26 12:37:42,800 | server.py:91 | initial parameters (loss, other metrics): 2.202056367815703, {'server_test_acc': 0.06044568245125348}
INFO flwr 2023-07-26 12:37:42,800 | server.py:101 | FL starting
Cluster score for round 1 = 813.1982421875
INFO flwr 2023-07-26 12:37:50,402 | fed_df.py:230 | Number of selected crops : 10000
DEBUG flwr 2023-07-26 12:37:53,151 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3013006)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3013009)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:39:22,467 | server.py:229 | fit_round 1 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3013012)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3012874)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3013006)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3013012)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3013011)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3013007)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3012991)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3013009)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3013008)[0m Fitting Client 6
Warm start at round 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3012991)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3013011)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3013008)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3012874)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3013007)[0m double free or corruption (fasttop)
E0726 12:39:26.879870210 3003408 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.3446911949515343, val accuracy : 0.42271009337483323, best val accuracy : 0.4822143174744331
Average local training loss : 8.09991035591811
Average local training accuracy : 0.7245655864197531
INFO flwr 2023-07-26 12:40:27,470 | server.py:116 | fit progress: (1, 2.9373005827157277, {'server_test_acc': 0.36866295264623955}, 164.66986997495405)
INFO flwr 2023-07-26 12:40:27,470 | server.py:163 | evaluate_round 1: no clients selected, cancel
Cluster score for round 2 = 82254.625
INFO flwr 2023-07-26 12:40:35,882 | fed_df.py:230 | Number of selected crops : 6086
DEBUG flwr 2023-07-26 12:40:38,286 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3288028)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3288029)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3287878)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:42:09,263 | server.py:229 | fit_round 2 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3288027)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3287998)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3288028)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3287878)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3287879)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3287881)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3288029)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3287998)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3288030)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3288027)[0m Fitting Client 3
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3287879)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3288030)[0m malloc_consolidate(): invalid chunk size
E0726 12:42:10.668435335 3205950 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
[2m[36m(launch_and_fit pid=3287881)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.0979316311776638, val accuracy : 0.44569808803912847, best val accuracy : 0.4968875055580258
Average local training loss : 7.210897463932634
Average local training accuracy : 0.7801288580246912
INFO flwr 2023-07-26 12:43:46,423 | server.py:116 | fit progress: (2, 2.739166721460879, {'server_test_acc': 0.3864902506963788}, 363.6232261440018)
INFO flwr 2023-07-26 12:43:46,424 | server.py:163 | evaluate_round 2: no clients selected, cancel
Cluster score for round 3 = 144493.71875
INFO flwr 2023-07-26 12:43:55,472 | fed_df.py:230 | Number of selected crops : 5899
DEBUG flwr 2023-07-26 12:43:57,487 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 12:45:25,975 | server.py:229 | fit_round 3 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3620287)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3620290)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3620287)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3620288)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3620289)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3620294)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3620291)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3620293)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3620292)[0m Fitting Client 7
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3620292)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3620294)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3620288)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3620289)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3620290)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3620291)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3620293)[0m malloc_consolidate(): invalid chunk size
E0726 12:45:31.886738716 3478712 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.08754554383456707, val accuracy : 0.3777790128946198, best val accuracy : 0.40862605602489993
Average local training loss : 7.046082729846239
Average local training accuracy : 0.7893981481481481
INFO flwr 2023-07-26 12:47:06,088 | server.py:116 | fit progress: (3, 3.8326644467112083, {'server_test_acc': 0.4863509749303621}, 563.2879177869763)
INFO flwr 2023-07-26 12:47:06,088 | server.py:163 | evaluate_round 3: no clients selected, cancel
Cluster score for round 4 = 178626.78125
INFO flwr 2023-07-26 12:47:14,661 | fed_df.py:230 | Number of selected crops : 5436
DEBUG flwr 2023-07-26 12:47:16,538 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3941390)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:48:46,865 | server.py:229 | fit_round 4 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3941510)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3941544)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3941390)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3941461)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3941530)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3941542)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3941543)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3941510)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3941531)[0m Fitting Client 3
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3941543)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3941531)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3941530)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3941542)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3941544)[0m malloc_consolidate(): invalid chunk size
E0726 12:48:48.574239592 4101777 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
[2m[36m(launch_and_fit pid=3941461)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.08837497049570084, val accuracy : 0.2727434415295687, best val accuracy : 0.3041351711871943
Average local training loss : 6.909280834905803
Average local training accuracy : 0.7971226851851851
INFO flwr 2023-07-26 12:50:33,956 | server.py:116 | fit progress: (4, 4.709838213163498, {'server_test_acc': 0.28231197771587746}, 771.1559471880319)
INFO flwr 2023-07-26 12:50:33,956 | server.py:163 | evaluate_round 4: no clients selected, cancel
Cluster score for round 5 = 173428.40625
INFO flwr 2023-07-26 12:50:42,491 | fed_df.py:230 | Number of selected crops : 5590
DEBUG flwr 2023-07-26 12:50:44,429 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 12:52:12,635 | server.py:229 | fit_round 5 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=77111)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=77071)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=77073)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=77094)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=77111)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=77075)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=77070)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=77072)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=77074)[0m Fitting Client 13
Warm start at round 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=77072)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=77073)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=77073)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=77075)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=77074)[0m double free or corruption (fasttop)
E0726 12:52:14.464303991  237506 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
[2m[36m(launch_and_fit pid=77094)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=77070)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=77071)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.19698090571165086, val accuracy : 0.3736994219653179, best val accuracy : 0.44964428634948866
Average local training loss : 6.702675968222321
Average local training accuracy : 0.8097746913580247
INFO flwr 2023-07-26 12:54:01,472 | server.py:116 | fit progress: (5, 9.551453937328626, {'server_test_acc': 0.4600278551532033}, 978.6724179249723)
INFO flwr 2023-07-26 12:54:01,473 | server.py:163 | evaluate_round 5: no clients selected, cancel
Cluster score for round 6 = 66257.4765625
INFO flwr 2023-07-26 12:54:10,043 | fed_df.py:230 | Number of selected crops : 5579
DEBUG flwr 2023-07-26 12:54:11,964 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=446270)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=446269)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:55:41,489 | server.py:229 | fit_round 6 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=446273)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=446341)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=446269)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=446270)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=446410)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=446409)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=446412)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=446411)[0m Fitting Client 8
Performing server side distillation training...
[2m[36m(launch_and_fit pid=446410)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=446341)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=446411)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=446412)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=446409)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=446273)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.08104058031737804, val accuracy : 0.46157180969319694, best val accuracy : 0.49088483770564695
Average local training loss : 6.286587074398995
Average local training accuracy : 0.8394328703703704
INFO flwr 2023-07-26 12:57:28,857 | server.py:116 | fit progress: (6, 3.973999221610492, {'server_test_acc': 0.44220055710306405}, 1186.057086950983)
INFO flwr 2023-07-26 12:57:28,857 | server.py:163 | evaluate_round 6: no clients selected, cancel
Cluster score for round 7 = 118518.84375
INFO flwr 2023-07-26 12:57:37,648 | fed_df.py:230 | Number of selected crops : 4830
DEBUG flwr 2023-07-26 12:57:39,434 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=777137)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:59:09,026 | server.py:229 | fit_round 7 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=777137)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=777140)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=777064)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=777136)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=777066)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=777139)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=777138)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=777068)[0m Fitting Client 18
Performing server side distillation training...
[2m[36m(launch_and_fit pid=777136)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=777068)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=777138)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=777066)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=777064)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=777139)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=777140)[0m malloc_consolidate(): invalid chunk size
E0726 12:59:11.832857306  737356 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.06911617838591337, val accuracy : 0.5101267229879947, best val accuracy : 0.5522454424188529
Average local training loss : 5.807515181694178
Average local training accuracy : 0.8675748456790123
INFO flwr 2023-07-26 13:01:01,792 | server.py:116 | fit progress: (7, 4.790284138203996, {'server_test_acc': 0.46768802228412254}, 1398.9917067550123)
INFO flwr 2023-07-26 13:01:01,792 | server.py:163 | evaluate_round 7: no clients selected, cancel
Cluster score for round 8 = 132443.625
E0726 13:01:09.323622143  929796 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
INFO flwr 2023-07-26 13:01:10,363 | fed_df.py:230 | Number of selected crops : 4688
DEBUG flwr 2023-07-26 13:01:12,097 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1116908)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1116904)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1116909)[0m corrupted size vs. prev_size in fastbins
DEBUG flwr 2023-07-26 13:02:41,365 | server.py:229 | fit_round 8 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1116906)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1116903)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1116909)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1116908)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1116907)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1116977)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1116904)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1116978)[0m Fitting Client 4
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1116978)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1116906)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1116977)[0m double free or corruption (fasttop)
E0726 13:02:42.848051838 1264908 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
[2m[36m(launch_and_fit pid=1116903)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1116907)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.07584056157618761, val accuracy : 0.5815918185860383, best val accuracy : 0.6466207203201423
Average local training loss : 6.254840146377682
Average local training accuracy : 0.841545524691358
INFO flwr 2023-07-26 13:04:38,352 | server.py:116 | fit progress: (8, 3.0792823621489545, {'server_test_acc': 0.5467966573816156}, 1615.55160922301)
INFO flwr 2023-07-26 13:04:38,352 | server.py:163 | evaluate_round 8: no clients selected, cancel
Cluster score for round 9 = 87974.703125
INFO flwr 2023-07-26 13:04:47,028 | fed_df.py:230 | Number of selected crops : 5414
DEBUG flwr 2023-07-26 13:04:48,894 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1459495)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:06:18,128 | server.py:229 | fit_round 9 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1459492)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1459422)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1459493)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1459494)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1459495)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1459421)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1459491)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1459423)[0m Fitting Client 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1459492)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1459423)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1459491)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1459421)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1459493)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1459494)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1459422)[0m malloc_consolidate(): invalid chunk size
E0726 13:06:21.594866469 1265921 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.07078266199678182, val accuracy : 0.4982214317474433, best val accuracy : 0.5573588261449534
Average local training loss : 5.860193668957799
Average local training accuracy : 0.8638703703703704
INFO flwr 2023-07-26 13:08:04,668 | server.py:116 | fit progress: (9, 4.7910919513543, {'server_test_acc': 0.5966573816155989}, 1821.868029615027)
INFO flwr 2023-07-26 13:08:04,668 | server.py:163 | evaluate_round 9: no clients selected, cancel
Cluster score for round 10 = 108021.734375
INFO flwr 2023-07-26 13:08:13,349 | fed_df.py:230 | Number of selected crops : 5525
DEBUG flwr 2023-07-26 13:08:15,290 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1815884)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1815953)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1815882)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1815883)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:09:44,719 | server.py:229 | fit_round 10 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1815884)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1815882)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1815954)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1815883)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1815812)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1815952)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1815953)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1815955)[0m Fitting Client 3
Warm start at round 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1815812)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1815954)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1815952)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1815955)[0m malloc_consolidate(): invalid chunk size
E0726 13:10:34.683906816 2063410 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.0955188757032156, val accuracy : 0.35932636727434414, best val accuracy : 0.41840818141396174
Average local training loss : 6.222030905820429
Average local training accuracy : 0.8437492283950618
INFO flwr 2023-07-26 13:11:31,241 | server.py:116 | fit progress: (10, 6.996522016179927, {'server_test_acc': 0.3816155988857939}, 2028.441254877951)
INFO flwr 2023-07-26 13:11:31,242 | server.py:163 | evaluate_round 10: no clients selected, cancel
Cluster score for round 11 = 73849.203125
INFO flwr 2023-07-26 13:11:39,909 | fed_df.py:230 | Number of selected crops : 5232
DEBUG flwr 2023-07-26 13:11:41,814 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2163799)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:13:10,584 | server.py:229 | fit_round 11 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2163798)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2163797)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2163869)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2163939)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2163870)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2163799)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2163940)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2163938)[0m Fitting Client 4
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2163938)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2163870)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2163798)[0m malloc_consolidate(): invalid chunk size
E0726 13:13:11.619304487 2064547 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
[2m[36m(launch_and_fit pid=2163939)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2163797)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2163940)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2163869)[0m malloc_consolidate(): invalid chunk size
E0726 13:14:41.162574748 2315565 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
E0726 13:14:41.162701380 2315565 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
E0726 13:14:41.162724709 2315565 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
E0726 13:14:41.162737921 2315565 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.03630833087675273, val accuracy : 0.47159848821698536, best val accuracy : 0.48977323254779903
Average local training loss : 5.0999822285957634
Average local training accuracy : 0.9115239197530864
INFO flwr 2023-07-26 13:14:55,225 | server.py:116 | fit progress: (11, 6.798339144565933, {'server_test_acc': 0.5065459610027855}, 2232.4250691080233)
INFO flwr 2023-07-26 13:14:55,225 | server.py:163 | evaluate_round 11: no clients selected, cancel
Cluster score for round 12 = 117809.28125
INFO flwr 2023-07-26 13:15:03,814 | fed_df.py:230 | Number of selected crops : 5024
DEBUG flwr 2023-07-26 13:15:05,619 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2463754)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2463757)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:16:35,498 | server.py:229 | fit_round 12 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2463760)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2463757)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2463760)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2463758)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2463754)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2463763)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2463759)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2463762)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2463761)[0m Fitting Client 11
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2463761)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2463758)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2463763)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2463762)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2463759)[0m malloc_consolidate(): invalid chunk size
E0726 13:16:37.222364359 2429895 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
E0726 13:16:45.076633301 2645275 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
E0726 13:17:50.730215285 2656659 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.02619509288482368, val accuracy : 0.5257781236104936, best val accuracy : 0.5611382836816363
Average local training loss : 5.2172961251810195
Average local training accuracy : 0.9048240740740741
INFO flwr 2023-07-26 13:18:26,887 | server.py:116 | fit progress: (12, 3.850344065504154, {'server_test_acc': 0.4591922005571031}, 2444.0870788199827)
INFO flwr 2023-07-26 13:18:26,887 | server.py:163 | evaluate_round 12: no clients selected, cancel
Cluster score for round 13 = 108997.875
INFO flwr 2023-07-26 13:18:35,751 | fed_df.py:230 | Number of selected crops : 4555
DEBUG flwr 2023-07-26 13:18:37,491 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2799085)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2799072)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2798936)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2799083)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2799098)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2799099)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:20:07,456 | server.py:229 | fit_round 13 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2799083)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2799098)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2799074)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2799072)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2798936)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2799085)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2799099)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2798940)[0m Fitting Client 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2799074)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2798940)[0m double free or corruption (fasttop)
E0726 13:20:10.009676005 2983168 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.021394184540957213, val accuracy : 0.538405958203646, best val accuracy : 0.5628056914184082
Average local training loss : 5.220595233887434
Average local training accuracy : 0.9049614197530864
INFO flwr 2023-07-26 13:22:07,758 | server.py:116 | fit progress: (13, 4.858031123859969, {'server_test_acc': 0.4724233983286908}, 2664.958263088949)
INFO flwr 2023-07-26 13:22:07,759 | server.py:163 | evaluate_round 13: no clients selected, cancel
Cluster score for round 14 = 129645.8359375
INFO flwr 2023-07-26 13:22:16,454 | fed_df.py:230 | Number of selected crops : 4908
DEBUG flwr 2023-07-26 13:22:18,288 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3155712)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3155715)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3155711)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3155708)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:23:48,086 | server.py:229 | fit_round 14 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3155714)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3155713)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3155714)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3155711)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3155735)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3155715)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3155712)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3155708)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3155734)[0m Fitting Client 18
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3155735)[0m malloc_consolidate(): invalid chunk size
E0726 13:23:48.936389054 2985010 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3155713)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3155734)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.019019560787826777, val accuracy : 0.547054246331703, best val accuracy : 0.5848154735437973
Average local training loss : 5.143765485752374
Average local training accuracy : 0.9097739197530864
INFO flwr 2023-07-26 13:25:39,778 | server.py:116 | fit progress: (14, 3.3969042212186085, {'server_test_acc': 0.5299442896935933}, 2876.9774904299993)
INFO flwr 2023-07-26 13:25:39,778 | server.py:163 | evaluate_round 14: no clients selected, cancel
Cluster score for round 15 = 115495.65625
INFO flwr 2023-07-26 13:25:48,669 | fed_df.py:230 | Number of selected crops : 4475
DEBUG flwr 2023-07-26 13:25:50,421 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3535821)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3535827)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3535947)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3535828)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:27:19,333 | server.py:229 | fit_round 15 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3535821)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3535824)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3535827)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3535964)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3535828)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3535946)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3535947)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3535961)[0m Fitting Client 2
Warm start at round 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3535824)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3535961)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3535964)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3535946)[0m malloc_consolidate(): invalid chunk size
E0726 13:27:22.885585119 3356700 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.07398583792150021, val accuracy : 0.5326033792796798, best val accuracy : 0.6834148510449088
Average local training loss : 5.253443058766425
Average local training accuracy : 0.903658950617284
INFO flwr 2023-07-26 13:29:20,812 | server.py:116 | fit progress: (15, 8.669012249811114, {'server_test_acc': 0.5685236768802229}, 3098.012301246985)
INFO flwr 2023-07-26 13:29:20,813 | server.py:163 | evaluate_round 15: no clients selected, cancel
Cluster score for round 16 = 93614.5234375
INFO flwr 2023-07-26 13:29:29,457 | fed_df.py:230 | Number of selected crops : 4723
DEBUG flwr 2023-07-26 13:29:31,257 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3884787)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3884924)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3884930)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3884928)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:30:59,842 | server.py:229 | fit_round 16 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3884787)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3884930)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3884924)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3884928)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3884932)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3884923)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3884931)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3884933)[0m Fitting Client 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3884933)[0m malloc_consolidate(): invalid chunk size
E0726 13:31:00.386585283 3719951 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3884923)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3884932)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3884931)[0m malloc_consolidate(): invalid chunk size
E0726 13:31:37.535149820 4065317 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.04751359671726823, val accuracy : 0.5237327701200534, best val accuracy : 0.5574699866607381
Average local training loss : 4.658613313082606
Average local training accuracy : 0.9390015432098766
INFO flwr 2023-07-26 13:32:50,342 | server.py:116 | fit progress: (16, 16.03223373498093, {'server_test_acc': 0.4204735376044568}, 3307.541800908977)
INFO flwr 2023-07-26 13:32:50,342 | server.py:163 | evaluate_round 16: no clients selected, cancel
Cluster score for round 17 = 189843.59375
INFO flwr 2023-07-26 13:32:59,180 | fed_df.py:230 | Number of selected crops : 4334
DEBUG flwr 2023-07-26 13:33:01,016 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=19881)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=19978)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:34:30,749 | server.py:229 | fit_round 17 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=20134)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=20111)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=19978)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=19881)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=20113)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=20135)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=20134)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=20093)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=20110)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=20111)[0m Fitting Client 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=20113)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=20110)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=20135)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=20093)[0m malloc_consolidate(): invalid chunk size
E0726 13:35:41.381390194 4115488 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 13:36:12.950574546  304939 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.03409197536297143, val accuracy : 0.6038795020008892, best val accuracy : 0.6411738550466874
Average local training loss : 4.688546898029745
Average local training accuracy : 0.9377476851851853
INFO flwr 2023-07-26 13:36:31,839 | server.py:116 | fit progress: (17, 8.025977304718953, {'server_test_acc': 0.38259052924791087}, 3529.039318914991)
INFO flwr 2023-07-26 13:36:31,840 | server.py:163 | evaluate_round 17: no clients selected, cancel
Cluster score for round 18 = 117759.15625
INFO flwr 2023-07-26 13:36:40,669 | fed_df.py:230 | Number of selected crops : 4617
DEBUG flwr 2023-07-26 13:36:42,469 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=379703)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=379587)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=379705)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:38:11,235 | server.py:229 | fit_round 18 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=379715)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=379587)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=379703)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=379707)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=379716)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=379715)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=379705)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=379706)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=379708)[0m Fitting Client 4
Performing server side distillation training...
[2m[36m(launch_and_fit pid=379716)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=379708)[0m double free or corruption (fasttop)
E0726 13:38:12.208659803  341379 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=379707)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=379706)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.02152679119259119, val accuracy : 0.4808359270787016, best val accuracy : 0.5791462872387728
Average local training loss : 4.678324015997351
Average local training accuracy : 0.9384992283950616
INFO flwr 2023-07-26 13:40:02,687 | server.py:116 | fit progress: (18, 4.400217419281644, {'server_test_acc': 0.48426183844011145}, 3739.8870902570197)
INFO flwr 2023-07-26 13:40:02,687 | server.py:163 | evaluate_round 18: no clients selected, cancel
Cluster score for round 19 = 173746.65625
INFO flwr 2023-07-26 13:40:11,327 | fed_df.py:230 | Number of selected crops : 5027
DEBUG flwr 2023-07-26 13:40:13,162 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=757937)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=757936)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:41:43,996 | server.py:229 | fit_round 19 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=757935)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=757939)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=757942)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=757936)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=757937)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=757935)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=757939)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=757938)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=757942)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=757940)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=757941)[0m Fitting Client 19
Performing server side distillation training...
[2m[36m(launch_and_fit pid=757940)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=757941)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=757938)[0m malloc_consolidate(): invalid chunk size
E0726 13:41:46.699615792  943522 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.07436133531481028, val accuracy : 0.5595264562027568, best val accuracy : 0.5799244108492664
Average local training loss : 4.734008609224112
Average local training accuracy : 0.9359591049382716
INFO flwr 2023-07-26 13:43:34,918 | server.py:116 | fit progress: (19, 5.9138730413070295, {'server_test_acc': 0.5279944289693593}, 3952.117762290989)
INFO flwr 2023-07-26 13:43:34,918 | server.py:163 | evaluate_round 19: no clients selected, cancel
Cluster score for round 20 = 236500.28125
INFO flwr 2023-07-26 13:43:43,505 | fed_df.py:230 | Number of selected crops : 3817
DEBUG flwr 2023-07-26 13:43:45,060 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1098321)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1098323)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:45:15,870 | server.py:229 | fit_round 20 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1098320)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1098320)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1098319)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1098317)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1098323)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1098318)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1098324)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1098321)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1098322)[0m Fitting Client 3
Warm start at round 20
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1098324)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1098324)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1098317)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1098319)[0m malloc_consolidate(): invalid chunk size
E0726 13:45:16.994712816  944827 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1098318)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1098322)[0m malloc_consolidate(): invalid chunk size
E0726 13:47:00.798138312 1417948 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 13:47:00.798234893 1417948 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.039271333186887206, val accuracy : 0.3012338817252112, best val accuracy : 0.34304135171187194
Average local training loss : 4.874891427066177
Average local training accuracy : 0.9272947530864197
INFO flwr 2023-07-26 13:47:26,532 | server.py:116 | fit progress: (20, 14.96020356712235, {'server_test_acc': 0.25167130919220054}, 4183.732063918025)
INFO flwr 2023-07-26 13:47:26,532 | server.py:163 | evaluate_round 20: no clients selected, cancel
Cluster score for round 21 = 118329.5703125
INFO flwr 2023-07-26 13:47:35,409 | fed_df.py:230 | Number of selected crops : 5207
DEBUG flwr 2023-07-26 13:47:37,295 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 13:49:07,661 | server.py:229 | fit_round 21 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1457666)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1457666)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1457664)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1457667)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1457668)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1457663)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1457670)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1457665)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1457669)[0m Fitting Client 0
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1457664)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1457669)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1457668)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1457667)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1457670)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1457663)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1457665)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.03340559497848153, val accuracy : 0.45, best val accuracy : 0.5605824811027124
Average local training loss : 4.424029699340462
Average local training accuracy : 0.9533541666666666
INFO flwr 2023-07-26 13:50:52,138 | server.py:116 | fit progress: (21, 3.291542715348905, {'server_test_acc': 0.5760445682451254}, 4389.337818306056)
INFO flwr 2023-07-26 13:50:52,138 | server.py:163 | evaluate_round 21: no clients selected, cancel
Cluster score for round 22 = 95578.59375
INFO flwr 2023-07-26 13:51:00,744 | fed_df.py:230 | Number of selected crops : 4917
DEBUG flwr 2023-07-26 13:51:02,568 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1791904)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1792001)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1791982)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1791991)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1791906)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1791905)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:52:33,340 | server.py:229 | fit_round 22 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1792001)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1791904)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1791982)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1791905)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1791996)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1791991)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1791903)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1791906)[0m Fitting Client 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1791903)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1791996)[0m malloc_consolidate(): invalid chunk size
E0726 13:52:35.198043180 1949685 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.028878061510622503, val accuracy : 0.7137839039573144, best val accuracy : 0.7622276567363273
Average local training loss : 4.445543533656746
Average local training accuracy : 0.952153549382716
INFO flwr 2023-07-26 13:54:26,039 | server.py:116 | fit progress: (22, 2.611171575509074, {'server_test_acc': 0.688857938718663}, 4603.239435313968)
INFO flwr 2023-07-26 13:54:26,040 | server.py:163 | evaluate_round 22: no clients selected, cancel
Cluster score for round 23 = 83070.203125
INFO flwr 2023-07-26 13:54:34,768 | fed_df.py:230 | Number of selected crops : 4861
DEBUG flwr 2023-07-26 13:54:36,625 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2158569)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:56:05,152 | server.py:229 | fit_round 23 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2158584)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2158571)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2158569)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2158566)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2158586)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2158582)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2158584)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2158571)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2158583)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2158585)[0m Fitting Client 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2158586)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2158566)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2158582)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2158585)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2158583)[0m double free or corruption (fasttop)
E0726 13:57:10.117361836 1955565 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.021198625991120934, val accuracy : 0.7261894175188972, best val accuracy : 0.7552245442418852
Average local training loss : 4.55800882615149
Average local training accuracy : 0.9457538580246914
INFO flwr 2023-07-26 13:57:58,924 | server.py:116 | fit progress: (23, 4.2116524831830295, {'server_test_acc': 0.737883008356546}, 4816.123681191006)
INFO flwr 2023-07-26 13:57:58,924 | server.py:163 | evaluate_round 23: no clients selected, cancel
Cluster score for round 24 = 108285.078125
INFO flwr 2023-07-26 13:58:07,659 | fed_df.py:230 | Number of selected crops : 4898
DEBUG flwr 2023-07-26 13:58:09,462 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2513117)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:59:38,116 | server.py:229 | fit_round 24 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2513110)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2513113)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2513112)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2513111)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2513116)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2513115)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2513114)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2513117)[0m Fitting Client 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2513111)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2513110)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2513112)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2513116)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2513114)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2513113)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2513115)[0m double free or corruption (fasttop)
E0726 13:59:40.755234960 2655547 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.0158000522069633, val accuracy : 0.7125722543352601, best val accuracy : 0.7361049355269008
Average local training loss : 4.434830625262111
Average local training accuracy : 0.9529135802469135
INFO flwr 2023-07-26 14:01:32,734 | server.py:116 | fit progress: (24, 4.642286568697449, {'server_test_acc': 0.6877437325905292}, 5029.933809709968)
INFO flwr 2023-07-26 14:01:32,734 | server.py:163 | evaluate_round 24: no clients selected, cancel
Cluster score for round 25 = 92852.515625
INFO flwr 2023-07-26 14:01:41,291 | fed_df.py:230 | Number of selected crops : 4958
DEBUG flwr 2023-07-26 14:01:43,084 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2850966)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2850968)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2850965)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2850895)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:03:15,112 | server.py:229 | fit_round 25 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2850965)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2850967)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2850895)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2850968)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2850966)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2850893)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2850964)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2850896)[0m Fitting Client 3
Warm start at round 25
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2850896)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2850893)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2850967)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2850964)[0m malloc_consolidate(): invalid chunk size
E0726 14:03:18.604595976 3003861 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.05969336573407054, val accuracy : 0.4257336594041797, best val accuracy : 0.5112272120942641
Average local training loss : 4.488396838586778
Average local training accuracy : 0.9501381172839505
INFO flwr 2023-07-26 14:05:08,617 | server.py:116 | fit progress: (25, 5.209533019849517, {'server_test_acc': 0.4157381615598886}, 5245.8166774039855)
INFO flwr 2023-07-26 14:05:08,617 | server.py:163 | evaluate_round 25: no clients selected, cancel
Cluster score for round 26 = 62709.796875
INFO flwr 2023-07-26 14:05:17,186 | fed_df.py:230 | Number of selected crops : 5196
DEBUG flwr 2023-07-26 14:05:19,120 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3191799)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3191725)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3191793)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3191798)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:06:48,839 | server.py:229 | fit_round 26 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3191795)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3191725)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3191793)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3191796)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3191800)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3191797)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3191798)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3191799)[0m Fitting Client 18
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3191795)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3191796)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3191800)[0m malloc_consolidate(): invalid chunk size
E0726 14:06:50.470342497 3342850 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 14:06:50.470466593 3342850 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 14:06:50.470482907 3342850 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3191797)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.048491951186209914, val accuracy : 0.6268786127167629, best val accuracy : 0.6445086705202312
Average local training loss : 4.208542450144887
Average local training accuracy : 0.9655015432098764
INFO flwr 2023-07-26 14:08:40,900 | server.py:116 | fit progress: (26, 4.383178303965619, {'server_test_acc': 0.5735376044568246}, 5458.0997407389805)
INFO flwr 2023-07-26 14:08:40,900 | server.py:163 | evaluate_round 26: no clients selected, cancel
Cluster score for round 27 = 90842.234375
INFO flwr 2023-07-26 14:08:49,617 | fed_df.py:230 | Number of selected crops : 4360
DEBUG flwr 2023-07-26 14:08:51,317 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3522704)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3522706)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:10:20,170 | server.py:229 | fit_round 27 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3522706)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3522709)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3522710)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3522707)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3522708)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3522705)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3522711)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3522704)[0m Fitting Client 2
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3522709)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3522710)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3522707)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3522711)[0m malloc_consolidate(): invalid chunk size
E0726 14:10:21.475226230 3343713 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 14:10:21.475334056 3343713 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3522708)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3522705)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.07459039309620857, val accuracy : 0.6641729657625612, best val accuracy : 0.6899733214762116
Average local training loss : 4.382957051414997
Average local training accuracy : 0.9558101851851852
INFO flwr 2023-07-26 14:12:25,613 | server.py:116 | fit progress: (27, 4.694955347108974, {'server_test_acc': 0.599025069637883}, 5682.812605913961)
INFO flwr 2023-07-26 14:12:25,613 | server.py:163 | evaluate_round 27: no clients selected, cancel
Cluster score for round 28 = 132441.5625
INFO flwr 2023-07-26 14:12:34,578 | fed_df.py:230 | Number of selected crops : 2500
DEBUG flwr 2023-07-26 14:12:35,864 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3913888)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3913882)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3913887)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3913891)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3913890)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:14:06,300 | server.py:229 | fit_round 28 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3913882)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3913891)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3913887)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3913888)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3913890)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3913884)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3913886)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3913889)[0m Fitting Client 11
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3913889)[0m malloc_consolidate(): invalid chunk size
E0726 14:14:06.837780744 4069863 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3913884)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3913886)[0m double free or corruption (fasttop)
E0726 14:14:13.633015899 4070031 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 14:14:58.967878817 4142092 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.03897967525571585, val accuracy : 0.44383059137394404, best val accuracy : 0.5244553134726545
Average local training loss : 4.337724108062685
Average local training accuracy : 0.9586041666666667
INFO flwr 2023-07-26 14:17:19,124 | server.py:116 | fit progress: (28, 6.554800010590832, {'server_test_acc': 0.5278551532033426}, 5976.323950135964)
INFO flwr 2023-07-26 14:17:19,124 | server.py:163 | evaluate_round 28: no clients selected, cancel
Cluster score for round 29 = 108397.1328125
INFO flwr 2023-07-26 14:17:27,850 | fed_df.py:230 | Number of selected crops : 4580
DEBUG flwr 2023-07-26 14:17:29,584 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=179593)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=179595)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:18:58,535 | server.py:229 | fit_round 29 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=179592)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=179665)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=179664)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=179595)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=179592)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=179596)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=179665)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=179594)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=179666)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=179593)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=179664)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=179594)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=179596)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=179666)[0m malloc_consolidate(): invalid chunk size
E0726 14:19:01.756358052  331396 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.02062674973346293, val accuracy : 0.683070253445976, best val accuracy : 0.7369942196531792
Average local training loss : 4.361588569078594
Average local training accuracy : 0.9571597222222222
INFO flwr 2023-07-26 14:21:05,455 | server.py:116 | fit progress: (29, 3.038288401760431, {'server_test_acc': 0.6373259052924791}, 6202.655004741973)
INFO flwr 2023-07-26 14:21:05,455 | server.py:163 | evaluate_round 29: no clients selected, cancel
Cluster score for round 30 = 65615.34375
INFO flwr 2023-07-26 14:21:14,096 | fed_df.py:230 | Number of selected crops : 4157
DEBUG flwr 2023-07-26 14:21:15,747 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=533800)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 14:22:43,709 | server.py:229 | fit_round 30 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=533728)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=533729)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=533800)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=533802)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=533745)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=533765)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=533801)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=533799)[0m Fitting Client 11
Warm start at round 30
Performing server side distillation training...
[2m[36m(launch_and_fit pid=533729)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=533728)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=533765)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=533745)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=533801)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=533802)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=533799)[0m corrupted size vs. prev_size in fastbins
E0726 14:22:46.833897771  333119 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 14:24:21.198733196  821365 chttp2_transport.cc:1079]             ipv4:145.136.62.30:56517: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.11577714292705059, val accuracy : 0.5371609604268563, best val accuracy : 0.6757447754557581
Average local training loss : 4.348460959456862
Average local training accuracy : 0.9584498456790124
INFO flwr 2023-07-26 14:24:47,054 | server.py:116 | fit progress: (30, 2.045188400672339, {'server_test_acc': 0.65}, 6424.253608481027)
INFO flwr 2023-07-26 14:24:47,054 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-07-26 14:24:47,054 | server.py:144 | FL finished in 6424.254001916037
INFO flwr 2023-07-26 14:24:47,054 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-07-26 14:24:47,055 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-07-26 14:24:47,055 | app.py:204 | app_fit: losses_centralized [(0, 2.202056367815703), (1, 2.9373005827157277), (2, 2.739166721460879), (3, 3.8326644467112083), (4, 4.709838213163498), (5, 9.551453937328626), (6, 3.973999221610492), (7, 4.790284138203996), (8, 3.0792823621489545), (9, 4.7910919513543), (10, 6.996522016179927), (11, 6.798339144565933), (12, 3.850344065504154), (13, 4.858031123859969), (14, 3.3969042212186085), (15, 8.669012249811114), (16, 16.03223373498093), (17, 8.025977304718953), (18, 4.400217419281644), (19, 5.9138730413070295), (20, 14.96020356712235), (21, 3.291542715348905), (22, 2.611171575509074), (23, 4.2116524831830295), (24, 4.642286568697449), (25, 5.209533019849517), (26, 4.383178303965619), (27, 4.694955347108974), (28, 6.554800010590832), (29, 3.038288401760431), (30, 2.045188400672339)]
INFO flwr 2023-07-26 14:24:47,055 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.06044568245125348), (1, 0.36866295264623955), (2, 0.3864902506963788), (3, 0.4863509749303621), (4, 0.28231197771587746), (5, 0.4600278551532033), (6, 0.44220055710306405), (7, 0.46768802228412254), (8, 0.5467966573816156), (9, 0.5966573816155989), (10, 0.3816155988857939), (11, 0.5065459610027855), (12, 0.4591922005571031), (13, 0.4724233983286908), (14, 0.5299442896935933), (15, 0.5685236768802229), (16, 0.4204735376044568), (17, 0.38259052924791087), (18, 0.48426183844011145), (19, 0.5279944289693593), (20, 0.25167130919220054), (21, 0.5760445682451254), (22, 0.688857938718663), (23, 0.737883008356546), (24, 0.6877437325905292), (25, 0.4157381615598886), (26, 0.5735376044568246), (27, 0.599025069637883), (28, 0.5278551532033426), (29, 0.6373259052924791), (30, 0.65)]}
double free or corruption (fasttop)
srun: error: gcn30: task 0: Aborted
srun: Terminating StepId=3152541.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3152541
Cluster: snellius
User/Group: sunnys/sunnys
State: RUNNING
Nodes: 1
Cores per node: 18
CPU Utilized: 03:56:17
CPU Efficiency: 11.52% of 1-10:10:48 core-walltime
Job Wall-clock time: 01:53:56
Memory Utilized: 54.64 GB
Memory Efficiency: 45.53% of 120.00 GB
WARNING: Efficiency statistics may be misleading for RUNNING jobs.
