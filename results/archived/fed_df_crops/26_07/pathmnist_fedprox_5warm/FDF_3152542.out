-----BEGIN-----
-----SETTINGS-----
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:pathmnist
PARTITION_ALPHA:10.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:40
LOCAL_LR:0.05
DISTILL_BATCH_SIZE:512
SERVER_LR:0.005
SERVER_STEPS:500
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
SEED:1227
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:colonpath_sample.jpg
DISTILL_DATASET:cifar100
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:10000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:5
KMEANS_N_CLUSTER:50
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
CONFIDENCE_THRESHOLD:0.9
CONFIDENCE_MIN_CROPS:2500
CLIPPING_FACTOR:2.5
FEDPROX_FACTOR:1.0
FEDPROX_ADAPTIVE:False
USE_CLIPPING:True
USE_ENTROPY:True
USE_KMEANS:True
USE_FEDPROX:True
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=100000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/colonpath_sample.jpg', targetpath='/scratch-local/sunnys.3152542/1690367659_685884998', seed=1227, img_per_thread=5555)
will save 100000 patches in /scratch-local/sunnys.3152542/1690367659_685884998/single_img_crops/crops
100000 took 0.50min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-07-26 12:35:05,095 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-07-26 12:35:05,095 | simulate.py:55 | Reading args from argument parser
Downloading https://zenodo.org/record/6496656/files/pathmnist.npz?download=1 to /scratch-local/sunnys.3152542/1690367659_685884998/pathmnist.npz
Generating unified pathmnist dataset
Class histogram for 0-th partition (alpha=10.0, 9 classes): [724 680 470 339 391 547 535 471 343]
INFO flwr 2023-07-26 12:37:01,606 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-07-26 12:37:04,581	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8265 [39m[22m
INFO flwr 2023-07-26 12:37:05,581 | app.py:179 | Flower VCE: Ray initialized with resources: {'object_store_memory': 61847529062.0, 'accelerator_type:A100': 1.0, 'node:145.136.62.30': 1.0, 'GPU': 1.0, 'memory': 103079215104.0, 'CPU': 18.0}
INFO flwr 2023-07-26 12:37:05,582 | server.py:86 | Initializing global parameters
INFO flwr 2023-07-26 12:37:05,582 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-07-26 12:37:05,582 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-07-26 12:37:14,565 | server.py:91 | initial parameters (loss, other metrics): 2.129049671459995, {'server_test_acc': 0.21448467966573817}
INFO flwr 2023-07-26 12:37:14,565 | server.py:101 | FL starting
Cluster score for round 1 = 2601.3564453125
INFO flwr 2023-07-26 12:37:22,535 | fed_df.py:230 | Number of selected crops : 10000
DEBUG flwr 2023-07-26 12:37:25,417 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2998085)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2998019)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:39:03,389 | server.py:229 | fit_round 1 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2998084)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2998091)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2997951)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2998085)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2997943)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2998090)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2998084)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2997947)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2998019)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2998091)[0m Fitting Client 11
Warm start at round 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2997943)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2997947)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2997951)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2998090)[0m double free or corruption (fasttop)
E0726 12:39:05.961513023 3169127 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
E0726 12:40:00.476334674 3170357 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.5510443307161331, val accuracy : 0.4761671854157403, best val accuracy : 0.571476211649622
Average local training loss : 8.971333966031672
Average local training accuracy : 0.6744143518518518
INFO flwr 2023-07-26 12:40:15,782 | server.py:116 | fit progress: (1, 1.9877987510978679, {'server_test_acc': 0.5341225626740947}, 181.21619424398523)
INFO flwr 2023-07-26 12:40:15,782 | server.py:163 | evaluate_round 1: no clients selected, cancel
Cluster score for round 2 = 61825.390625
INFO flwr 2023-07-26 12:40:24,391 | fed_df.py:230 | Number of selected crops : 3689
DEBUG flwr 2023-07-26 12:40:25,938 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3282694)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3282620)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3282693)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3282692)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3282691)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:41:56,351 | server.py:229 | fit_round 2 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3282692)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3282622)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3282695)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3282694)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3282620)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3282621)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3282693)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3282691)[0m Fitting Client 19
Performing server side distillation training...
E0726 12:41:57.391829071 3252326 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
[2m[36m(launch_and_fit pid=3282695)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3282622)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3282621)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.15391992412507535, val accuracy : 0.4483659404179635, best val accuracy : 0.5152289906625167
Average local training loss : 6.894689428061247
Average local training accuracy : 0.7981604938271605
INFO flwr 2023-07-26 12:44:15,407 | server.py:116 | fit progress: (2, 2.0976556889526026, {'server_test_acc': 0.44401114206128134}, 420.8416536960285)
INFO flwr 2023-07-26 12:44:15,407 | server.py:163 | evaluate_round 2: no clients selected, cancel
Cluster score for round 3 = 118953.890625
INFO flwr 2023-07-26 12:44:24,533 | fed_df.py:230 | Number of selected crops : 5327
DEBUG flwr 2023-07-26 12:44:26,438 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3653545)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:45:55,780 | server.py:229 | fit_round 3 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3653547)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3653527)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3653545)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3653530)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3653166)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3653547)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3653546)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3653528)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3653526)[0m Fitting Client 17
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3653530)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3653526)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3653166)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3653527)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3653546)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3653528)[0m malloc_consolidate(): invalid chunk size
E0726 12:45:58.360968668 3455586 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.06491979836672544, val accuracy : 0.36166073810582483, best val accuracy : 0.3839484215206759
Average local training loss : 6.681696493923665
Average local training accuracy : 0.8116381172839506
INFO flwr 2023-07-26 12:47:42,154 | server.py:116 | fit progress: (3, 2.851840281685747, {'server_test_acc': 0.3467966573816156}, 627.5885805860162)
INFO flwr 2023-07-26 12:47:42,154 | server.py:163 | evaluate_round 3: no clients selected, cancel
Cluster score for round 4 = 151952.96875
INFO flwr 2023-07-26 12:47:51,230 | fed_df.py:230 | Number of selected crops : 5530
DEBUG flwr 2023-07-26 12:47:53,160 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3989645)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3989673)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3989707)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:49:24,249 | server.py:229 | fit_round 4 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3989645)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3989722)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3989644)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3989672)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3989673)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3989707)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3989666)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3989670)[0m Fitting Client 0
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3989672)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3989666)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3989722)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3989670)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3989644)[0m malloc_consolidate(): invalid chunk size
E0726 12:49:27.819816070 4168509 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.13156019438803196, val accuracy : 0.48576033792796797, best val accuracy : 0.5246776345042241
Average local training loss : 6.958698474988342
Average local training accuracy : 0.7979421296296296
INFO flwr 2023-07-26 12:51:17,260 | server.py:116 | fit progress: (4, 4.257212899720768, {'server_test_acc': 0.36768802228412256}, 842.6940633279737)
INFO flwr 2023-07-26 12:51:17,260 | server.py:163 | evaluate_round 4: no clients selected, cancel
Cluster score for round 5 = 142404.859375
INFO flwr 2023-07-26 12:51:26,281 | fed_df.py:230 | Number of selected crops : 5121
DEBUG flwr 2023-07-26 12:51:28,127 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 12:52:58,013 | server.py:229 | fit_round 5 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=136611)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=136608)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=136605)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=136608)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=136874)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=136611)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=136877)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=136606)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=136873)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=136876)[0m Fitting Client 19
Warm start at round 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=136874)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=136877)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=136606)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=136605)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=136873)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=136876)[0m double free or corruption (fasttop)
E0726 12:52:59.749942754 4171022 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.3101242125108838, val accuracy : 0.3579257447754558, best val accuracy : 0.39873277012005337
Average local training loss : 6.685258127190172
Average local training accuracy : 0.8147947530864198
INFO flwr 2023-07-26 12:54:53,578 | server.py:116 | fit progress: (5, 3.7599855773628255, {'server_test_acc': 0.3926183844011142}, 1059.0128262760118)
INFO flwr 2023-07-26 12:54:53,579 | server.py:163 | evaluate_round 5: no clients selected, cancel
Cluster score for round 6 = 100954.890625
INFO flwr 2023-07-26 12:55:03,044 | fed_df.py:230 | Number of selected crops : 5455
DEBUG flwr 2023-07-26 12:55:04,928 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=523675)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=523683)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:56:33,702 | server.py:229 | fit_round 6 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=523672)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=523675)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=523678)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=523676)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=523683)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=523682)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=523680)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=523677)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=523677)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=523680)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=523672)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=523678)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=523682)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=523676)[0m malloc_consolidate(): invalid chunk size
E0726 12:56:37.111791556  346581 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.29530633413791657, val accuracy : 0.2786238328145843, best val accuracy : 0.2977990217874611
Average local training loss : 5.856446432508529
Average local training accuracy : 0.8644097222222222
INFO flwr 2023-07-26 12:58:22,928 | server.py:116 | fit progress: (6, 4.199133405977637, {'server_test_acc': 0.2694986072423398}, 1268.3629616950639)
INFO flwr 2023-07-26 12:58:22,929 | server.py:163 | evaluate_round 6: no clients selected, cancel
Cluster score for round 7 = 144674.46875
INFO flwr 2023-07-26 12:58:32,076 | fed_df.py:230 | Number of selected crops : 5090
DEBUG flwr 2023-07-26 12:58:33,932 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=857114)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:00:02,648 | server.py:229 | fit_round 7 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=857114)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=857112)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=857118)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=857116)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=857117)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=857115)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=857111)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=857113)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=857118)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=857112)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=857117)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=857113)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=857111)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=857116)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=857115)[0m double free or corruption (fasttop)
E0726 13:00:05.452437210 1028436 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.08932515679299831, val accuracy : 0.31709648732770124, best val accuracy : 0.3503779457536683
Average local training loss : 5.904909230582415
Average local training accuracy : 0.8633595679012346
INFO flwr 2023-07-26 13:01:58,329 | server.py:116 | fit progress: (7, 3.4237646650139, {'server_test_acc': 0.18050139275766017}, 1483.7634033190552)
INFO flwr 2023-07-26 13:01:58,329 | server.py:163 | evaluate_round 7: no clients selected, cancel
Cluster score for round 8 = 87471.9375
INFO flwr 2023-07-26 13:02:07,320 | fed_df.py:230 | Number of selected crops : 5335
DEBUG flwr 2023-07-26 13:02:09,262 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1202570)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1202566)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:03:38,596 | server.py:229 | fit_round 8 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1202567)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1202448)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1202566)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1202569)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1202568)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1202572)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1202570)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1202571)[0m Fitting Client 17
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1202567)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1202571)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1202572)[0m malloc_consolidate(): invalid chunk size
E0726 13:03:39.942807811 1368086 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
[2m[36m(launch_and_fit pid=1202568)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1202569)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1202448)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.07895150709152221, val accuracy : 0.503779457536683, best val accuracy : 0.5571365051133838
Average local training loss : 5.931272810138761
Average local training accuracy : 0.860599537037037
INFO flwr 2023-07-26 13:05:26,730 | server.py:116 | fit progress: (8, 2.597285550948969, {'server_test_acc': 0.4481894150417827}, 1692.1640995950438)
INFO flwr 2023-07-26 13:05:26,730 | server.py:163 | evaluate_round 8: no clients selected, cancel
Cluster score for round 9 = 139022.515625
INFO flwr 2023-07-26 13:05:35,805 | fed_df.py:230 | Number of selected crops : 4440
DEBUG flwr 2023-07-26 13:05:37,577 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1529474)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1529442)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:07:06,918 | server.py:229 | fit_round 9 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1529442)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1529474)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1529298)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1529451)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1529444)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1529473)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1529449)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1529450)[0m Fitting Client 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1529444)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1529298)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1529451)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1529449)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1529450)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1529473)[0m double free or corruption (fasttop)
E0726 13:07:09.555746365 1368895 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.11529124517738819, val accuracy : 0.5532347710093375, best val accuracy : 0.5809248554913294
Average local training loss : 6.204382616840302
Average local training accuracy : 0.8459128086419754
INFO flwr 2023-07-26 13:09:16,264 | server.py:116 | fit progress: (9, 2.6364763360833723, {'server_test_acc': 0.5341225626740947}, 1921.698424290982)
INFO flwr 2023-07-26 13:09:16,264 | server.py:163 | evaluate_round 9: no clients selected, cancel
Cluster score for round 10 = 115620.0625
INFO flwr 2023-07-26 13:09:25,524 | fed_df.py:230 | Number of selected crops : 2500
DEBUG flwr 2023-07-26 13:09:26,810 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1945628)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1945635)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1945593)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:10:55,722 | server.py:229 | fit_round 10 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1945563)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1945628)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1945635)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1945632)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1945491)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1945633)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1945593)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1945634)[0m Fitting Client 17
Warm start at round 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1945634)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1945633)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1945563)[0m double free or corruption (fasttop)
E0726 13:10:57.478629524 1704608 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
[2m[36m(launch_and_fit pid=1945632)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1945491)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.24224944496154785, val accuracy : 0.5838039128501556, best val accuracy : 0.6323921742996887
Average local training loss : 6.15722293984145
Average local training accuracy : 0.8480640432098766
INFO flwr 2023-07-26 13:14:20,944 | server.py:116 | fit progress: (10, 2.6179921142238096, {'server_test_acc': 0.5582172701949861}, 2226.3782754109707)
INFO flwr 2023-07-26 13:14:20,944 | server.py:163 | evaluate_round 10: no clients selected, cancel
E0726 13:14:22.270619950 2409960 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
Cluster score for round 11 = 42937.83984375
INFO flwr 2023-07-26 13:14:29,870 | fed_df.py:230 | Number of selected crops : 5199
DEBUG flwr 2023-07-26 13:14:31,756 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2421861)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2421777)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:16:01,307 | server.py:229 | fit_round 11 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2421781)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2421781)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2421777)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2421885)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2421867)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2421861)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2421872)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2421886)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2421887)[0m Fitting Client 11
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2421886)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2421885)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2421867)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2421872)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2421887)[0m double free or corruption (fasttop)
E0726 13:16:03.232362427 2413545 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
E0726 13:16:03.232432141 2413545 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
E0726 13:16:03.232442810 2413545 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
E0726 13:16:03.232451511 2413545 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
E0726 13:16:03.232459432 2413545 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
E0726 13:16:03.232470263 2413545 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
E0726 13:16:03.232478356 2413545 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
E0726 13:16:03.232486134 2413545 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
E0726 13:16:03.232494315 2413545 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
E0726 13:16:03.232502164 2413545 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
E0726 13:16:03.232510042 2413545 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
E0726 13:16:03.232517881 2413545 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.10827111813426017, val accuracy : 0.49809915518008, best val accuracy : 0.5317919075144508
Average local training loss : 5.172846466116607
Average local training accuracy : 0.908008487654321
INFO flwr 2023-07-26 13:17:54,685 | server.py:116 | fit progress: (11, 2.147705766417522, {'server_test_acc': 0.47813370473537603}, 2440.119821883971)
INFO flwr 2023-07-26 13:17:54,686 | server.py:163 | evaluate_round 11: no clients selected, cancel
Cluster score for round 12 = 52087.71875
INFO flwr 2023-07-26 13:18:03,698 | fed_df.py:230 | Number of selected crops : 4767
DEBUG flwr 2023-07-26 13:18:05,620 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2760223)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:19:34,287 | server.py:229 | fit_round 12 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2760184)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2760185)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2760257)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2760223)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2760258)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2760186)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2760188)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2760187)[0m Fitting Client 11
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2760186)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2760257)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2760187)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2760184)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2760185)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2760188)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2760258)[0m malloc_consolidate(): invalid chunk size
E0726 13:19:36.884611752 2585095 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.17042203611135484, val accuracy : 0.5710204535349044, best val accuracy : 0.5861493997332148
Average local training loss : 5.194541855715215
Average local training accuracy : 0.9070115740740741
INFO flwr 2023-07-26 13:21:31,093 | server.py:116 | fit progress: (12, 1.9092239653499679, {'server_test_acc': 0.5973537604456824}, 2656.5273179149954)
INFO flwr 2023-07-26 13:21:31,093 | server.py:163 | evaluate_round 12: no clients selected, cancel
Cluster score for round 13 = 51682.7109375
INFO flwr 2023-07-26 13:21:40,001 | fed_df.py:230 | Number of selected crops : 4653
DEBUG flwr 2023-07-26 13:21:41,830 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3108174)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3108175)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3108171)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:23:10,892 | server.py:229 | fit_round 13 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3108174)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3108172)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3108173)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3108170)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3108210)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3108175)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3108168)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3108171)[0m Fitting Client 17
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3108173)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3108170)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3108210)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3108172)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3108168)[0m malloc_consolidate(): invalid chunk size
E0726 13:23:13.897525219 3269200 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.06920861449837684, val accuracy : 0.5871943085815918, best val accuracy : 0.616162738995109
Average local training loss : 5.522407256998122
Average local training accuracy : 0.8876651234567902
INFO flwr 2023-07-26 13:25:08,122 | server.py:116 | fit progress: (13, 3.836982651606908, {'server_test_acc': 0.611699164345404}, 2873.5561593710445)
INFO flwr 2023-07-26 13:25:08,122 | server.py:163 | evaluate_round 13: no clients selected, cancel
Cluster score for round 14 = 69553.6328125
INFO flwr 2023-07-26 13:25:17,142 | fed_df.py:230 | Number of selected crops : 4787
DEBUG flwr 2023-07-26 13:25:18,963 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3497128)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3497261)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:26:47,549 | server.py:229 | fit_round 14 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3497261)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3497198)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3497267)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3497268)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3497128)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3497269)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3497126)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3497270)[0m Fitting Client 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3497268)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3497269)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3497126)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3497270)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3497267)[0m malloc_consolidate(): invalid chunk size
E0726 13:26:49.269205101 3659717 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
[2m[36m(launch_and_fit pid=3497198)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.20680113989114762, val accuracy : 0.5291129390840374, best val accuracy : 0.5680302356602934
Average local training loss : 5.272445412632077
Average local training accuracy : 0.9021921296296297
INFO flwr 2023-07-26 13:28:48,720 | server.py:116 | fit progress: (14, 3.2869371197681905, {'server_test_acc': 0.5582172701949861}, 3094.1540566330077)
INFO flwr 2023-07-26 13:28:48,720 | server.py:163 | evaluate_round 14: no clients selected, cancel
Cluster score for round 15 = 65010.25
INFO flwr 2023-07-26 13:28:57,664 | fed_df.py:230 | Number of selected crops : 4668
DEBUG flwr 2023-07-26 13:28:59,444 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3846251)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3846394)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3846324)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:30:28,083 | server.py:229 | fit_round 15 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3846250)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3846323)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3846325)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3846324)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3846251)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3846321)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3846393)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3846394)[0m Fitting Client 15
Warm start at round 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3846323)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3846325)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3846393)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3846250)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3846321)[0m corrupted size vs. prev_size in fastbins
E0726 13:30:34.047857446 3661047 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.14225550274550916, val accuracy : 0.45306803023566034, best val accuracy : 0.5147843485993775
Average local training loss : 5.517403341829777
Average local training accuracy : 0.8882908950617284
INFO flwr 2023-07-26 13:32:28,926 | server.py:116 | fit progress: (15, 5.278229417508691, {'server_test_acc': 0.44178272980501393}, 3314.3603893819964)
INFO flwr 2023-07-26 13:32:28,926 | server.py:163 | evaluate_round 15: no clients selected, cancel
Cluster score for round 16 = 33734.6875
INFO flwr 2023-07-26 13:32:37,978 | fed_df.py:230 | Number of selected crops : 5135
DEBUG flwr 2023-07-26 13:32:39,893 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1638)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1637)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1635)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:34:08,539 | server.py:229 | fit_round 16 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1638)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1639)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1708)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1636)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1709)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1634)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1637)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1635)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1708)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1636)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1709)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1639)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1634)[0m malloc_consolidate(): invalid chunk size
E0726 13:34:14.302615967 4017642 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.06829709452390671, val accuracy : 0.4374944419742108, best val accuracy : 0.48788350377945755
Average local training loss : 4.803030753880739
Average local training accuracy : 0.9310000000000002
INFO flwr 2023-07-26 13:35:58,827 | server.py:116 | fit progress: (16, 4.455539462161263, {'server_test_acc': 0.32381615598885793}, 3524.261308909976)
INFO flwr 2023-07-26 13:35:58,827 | server.py:163 | evaluate_round 16: no clients selected, cancel
Cluster score for round 17 = 64929.66015625
INFO flwr 2023-07-26 13:36:07,833 | fed_df.py:230 | Number of selected crops : 3958
DEBUG flwr 2023-07-26 13:36:09,458 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=338139)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=338142)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:37:38,607 | server.py:229 | fit_round 17 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=338155)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=338139)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=338138)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=338143)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=338141)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=338155)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=338142)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=338140)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=338078)[0m Fitting Client 9
Performing server side distillation training...
[2m[36m(launch_and_fit pid=338138)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=338141)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=338143)[0m double free or corruption (fasttop)
E0726 13:37:39.692364444  499455 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=338140)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=338078)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.04044065310060978, val accuracy : 0.4568697198755003, best val accuracy : 0.48432636727434414
Average local training loss : 4.805468647088856
Average local training accuracy : 0.9305200617283951
INFO flwr 2023-07-26 13:39:58,851 | server.py:116 | fit progress: (17, 4.663837026420742, {'server_test_acc': 0.38760445682451256}, 3764.2852921120357)
INFO flwr 2023-07-26 13:39:58,851 | server.py:163 | evaluate_round 17: no clients selected, cancel
Cluster score for round 18 = 73507.859375
INFO flwr 2023-07-26 13:40:07,728 | fed_df.py:230 | Number of selected crops : 4976
DEBUG flwr 2023-07-26 13:40:09,615 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=756213)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=756285)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=756286)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:41:41,133 | server.py:229 | fit_round 18 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=756282)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=756212)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=756214)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=756284)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=756286)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=756285)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=756213)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=756283)[0m Fitting Client 2
Performing server side distillation training...
[2m[36m(launch_and_fit pid=756284)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=756283)[0m malloc_consolidate(): invalid chunk size
E0726 13:41:41.800207595  938148 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=756212)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=756214)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=756282)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.038358659110963346, val accuracy : 0.5594264117385505, best val accuracy : 0.5772565584704313
Average local training loss : 4.946746712177991
Average local training accuracy : 0.9233564814814814
INFO flwr 2023-07-26 13:43:41,175 | server.py:116 | fit progress: (18, 4.740541557747673, {'server_test_acc': 0.4435933147632312}, 3986.610034996993)
INFO flwr 2023-07-26 13:43:41,176 | server.py:163 | evaluate_round 18: no clients selected, cancel
Cluster score for round 19 = 129023.09375
INFO flwr 2023-07-26 13:43:50,055 | fed_df.py:230 | Number of selected crops : 5002
DEBUG flwr 2023-07-26 13:43:52,150 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1100505)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1100508)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:45:23,135 | server.py:229 | fit_round 19 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1100505)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1100503)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1100507)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1100506)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1100508)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1100513)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1100509)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1100512)[0m Fitting Client 3
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1100506)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1100509)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1100513)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1100512)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1100503)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1100507)[0m corrupted size vs. prev_size in fastbins
E0726 13:45:26.081548579  938480 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.08594545435905457, val accuracy : 0.6001667407736772, best val accuracy : 0.6417296576256114
Average local training loss : 4.845863488316535
Average local training accuracy : 0.928520061728395
INFO flwr 2023-07-26 13:47:22,659 | server.py:116 | fit progress: (19, 3.0602148082595018, {'server_test_acc': 0.5079387186629526}, 4208.09316512302)
INFO flwr 2023-07-26 13:47:22,659 | server.py:163 | evaluate_round 19: no clients selected, cancel
Cluster score for round 20 = 99031.265625
INFO flwr 2023-07-26 13:47:31,728 | fed_df.py:230 | Number of selected crops : 4060
DEBUG flwr 2023-07-26 13:47:33,323 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1455384)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:49:05,305 | server.py:229 | fit_round 20 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1455379)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1455386)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1455380)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1455383)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1455385)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1455382)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1455381)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1455384)[0m Fitting Client 19
Warm start at round 20
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1455386)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1455379)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1455380)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1455383)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1455381)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1455385)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1455382)[0m double free or corruption (fasttop)
E0726 13:49:10.988985936 1642194 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 13:49:10.989080838 1642194 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.05551326438784599, val accuracy : 0.47944642063139165, best val accuracy : 0.5481325033348154
Average local training loss : 4.934470255393536
Average local training accuracy : 0.9233395061728394
INFO flwr 2023-07-26 13:51:27,196 | server.py:116 | fit progress: (20, 3.868788623544167, {'server_test_acc': 0.43997214484679664}, 4452.630894685979)
INFO flwr 2023-07-26 13:51:27,197 | server.py:163 | evaluate_round 20: no clients selected, cancel
Cluster score for round 21 = 116093.421875
INFO flwr 2023-07-26 13:51:36,323 | fed_df.py:230 | Number of selected crops : 3739
DEBUG flwr 2023-07-26 13:51:37,897 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1837206)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1837280)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1837277)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1837281)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1837268)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1837330)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:53:07,612 | server.py:229 | fit_round 21 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1837268)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1837280)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1837206)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1837277)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1837281)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1837328)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1837241)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1837330)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1837241)[0m double free or corruption (fasttop)
E0726 13:53:08.481083422 2016273 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1837328)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.09800394801795483, val accuracy : 0.570153401511783, best val accuracy : 0.6168297020898177
Average local training loss : 4.629145409818739
Average local training accuracy : 0.9414637345679013
INFO flwr 2023-07-26 13:55:30,077 | server.py:116 | fit progress: (21, 2.846176217591862, {'server_test_acc': 0.4363509749303621}, 4695.511133283959)
INFO flwr 2023-07-26 13:55:30,077 | server.py:163 | evaluate_round 21: no clients selected, cancel
Cluster score for round 22 = 79443.484375
INFO flwr 2023-07-26 13:55:39,226 | fed_df.py:230 | Number of selected crops : 4247
DEBUG flwr 2023-07-26 13:55:40,943 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2275110)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2275106)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2275109)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2275243)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2275111)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2275242)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:57:10,108 | server.py:229 | fit_round 22 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2275110)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2275105)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2275109)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2275244)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2275111)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2275242)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2275106)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2275243)[0m Fitting Client 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2275244)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2275105)[0m malloc_consolidate(): invalid chunk size
E0726 13:57:13.220590187 2016610 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.1037175559848547, val accuracy : 0.49276345042241, best val accuracy : 0.5196754112939084
Average local training loss : 4.684725976642222
Average local training accuracy : 0.9386157407407407
INFO flwr 2023-07-26 13:59:21,936 | server.py:116 | fit progress: (22, 3.0136897403217624, {'server_test_acc': 0.3311977715877437}, 4927.371005782974)
INFO flwr 2023-07-26 13:59:21,937 | server.py:163 | evaluate_round 22: no clients selected, cancel
Cluster score for round 23 = 80101.65625
INFO flwr 2023-07-26 13:59:31,110 | fed_df.py:230 | Number of selected crops : 4396
DEBUG flwr 2023-07-26 13:59:32,846 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2647105)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2647240)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2647106)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:01:01,788 | server.py:229 | fit_round 23 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2647106)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2647105)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2647104)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2647240)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2647098)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2647293)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2647292)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2647353)[0m Fitting Client 9
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2647098)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2647293)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2647353)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2647104)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2647292)[0m malloc_consolidate(): invalid chunk size
E0726 14:01:04.505589229 2802064 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.0424135492220521, val accuracy : 0.5006336149399733, best val accuracy : 0.543019119608715
Average local training loss : 4.657216704264283
Average local training accuracy : 0.9402862654320988
INFO flwr 2023-07-26 14:03:14,582 | server.py:116 | fit progress: (23, 3.4303042451651318, {'server_test_acc': 0.5268802228412256}, 5160.016713659046)
INFO flwr 2023-07-26 14:03:14,582 | server.py:163 | evaluate_round 23: no clients selected, cancel
Cluster score for round 24 = 122907.640625
INFO flwr 2023-07-26 14:03:23,557 | fed_df.py:230 | Number of selected crops : 3898
DEBUG flwr 2023-07-26 14:03:25,083 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3011367)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 14:04:53,225 | server.py:229 | fit_round 24 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3011295)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3011368)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3011293)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3011296)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3011298)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3011297)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3011366)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3011367)[0m Fitting Client 2
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3011296)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3011295)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3011298)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3011368)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3011366)[0m malloc_consolidate(): invalid chunk size
E0726 14:04:54.872649692 2803104 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3011293)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3011297)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.0767510166168213, val accuracy : 0.5797576700755892, best val accuracy : 0.605380168963984
Average local training loss : 4.7676147721707824
Average local training accuracy : 0.9351774691358025
INFO flwr 2023-07-26 14:07:17,509 | server.py:116 | fit progress: (24, 8.487933679012203, {'server_test_acc': 0.5497214484679666}, 5402.943651973968)
INFO flwr 2023-07-26 14:07:17,509 | server.py:163 | evaluate_round 24: no clients selected, cancel
Cluster score for round 25 = 100240.1953125
INFO flwr 2023-07-26 14:07:26,554 | fed_df.py:230 | Number of selected crops : 4135
DEBUG flwr 2023-07-26 14:07:28,164 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3386410)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:08:56,142 | server.py:229 | fit_round 25 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3386411)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3386408)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3386409)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3386413)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3386410)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3386412)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3386406)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3386414)[0m Fitting Client 7
Warm start at round 25
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3386409)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3386408)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3386414)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3386411)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3386412)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3386406)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3386413)[0m double free or corruption (fasttop)
E0726 14:08:59.874619789 3529903 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 14:09:22.308914481 3564578 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.11933032665401697, val accuracy : 0.3477212094264117, best val accuracy : 0.47109826589595377
Average local training loss : 4.659186493698508
Average local training accuracy : 0.9411697530864197
INFO flwr 2023-07-26 14:11:09,146 | server.py:116 | fit progress: (25, 5.835997112879846, {'server_test_acc': 0.30194986072423396}, 5634.580838844064)
INFO flwr 2023-07-26 14:11:09,147 | server.py:163 | evaluate_round 25: no clients selected, cancel
Cluster score for round 26 = 93613.8125
INFO flwr 2023-07-26 14:11:18,199 | fed_df.py:230 | Number of selected crops : 3624
DEBUG flwr 2023-07-26 14:11:19,703 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3792175)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:12:48,374 | server.py:229 | fit_round 26 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3792175)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3792176)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3792172)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3792104)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3792174)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3792102)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3792178)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3792177)[0m Fitting Client 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3792176)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3792172)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3792104)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3792174)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3792102)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3792178)[0m double free or corruption (fasttop)
E0726 14:12:50.893541688 3565671 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3792177)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.05626840924471617, val accuracy : 0.563172521120498, best val accuracy : 0.6243886171631836
Average local training loss : 4.441260714363306
Average local training accuracy : 0.953121913580247
INFO flwr 2023-07-26 14:15:13,579 | server.py:116 | fit progress: (26, 3.8022229106977457, {'server_test_acc': 0.5238161559888579}, 5879.0132608449785)
INFO flwr 2023-07-26 14:15:13,579 | server.py:163 | evaluate_round 26: no clients selected, cancel
Cluster score for round 27 = 147061.84375
INFO flwr 2023-07-26 14:15:22,542 | fed_df.py:230 | Number of selected crops : 3793
DEBUG flwr 2023-07-26 14:15:24,095 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 14:16:52,297 | server.py:229 | fit_round 27 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=4173207)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=4173198)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=4173205)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=4173202)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=4173201)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=4173206)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=4173204)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=4173203)[0m Fitting Client 9
Performing server side distillation training...
[2m[36m(launch_and_fit pid=4173205)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4173207)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4173206)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4173198)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4173203)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4173201)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4173204)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4173202)[0m malloc_consolidate(): invalid chunk size
E0726 14:17:04.441714138 3933702 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.04349902211129665, val accuracy : 0.6320364606491775, best val accuracy : 0.6544019564250778
Average local training loss : 4.5021582650020715
Average local training accuracy : 0.9492391975308642
INFO flwr 2023-07-26 14:19:16,836 | server.py:116 | fit progress: (27, 2.6872035310793057, {'server_test_acc': 0.5714484679665738}, 6122.270991964964)
INFO flwr 2023-07-26 14:19:16,837 | server.py:163 | evaluate_round 27: no clients selected, cancel
Cluster score for round 28 = 95614.5390625
INFO flwr 2023-07-26 14:19:25,888 | fed_df.py:230 | Number of selected crops : 4452
DEBUG flwr 2023-07-26 14:19:27,646 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=362871)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=362870)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:20:56,052 | server.py:229 | fit_round 28 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=362869)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=362867)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=362940)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=362941)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=362870)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=362871)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=362872)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=362866)[0m Fitting Client 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=362940)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=362872)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=362869)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=362867)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=362866)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=362941)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.0853690185919404, val accuracy : 0.5701200533570476, best val accuracy : 0.6270564695420187
Average local training loss : 4.454047316219658
Average local training accuracy : 0.9521743827160494
INFO flwr 2023-07-26 14:23:09,702 | server.py:116 | fit progress: (28, 2.134964444046233, {'server_test_acc': 0.6096100278551532}, 6355.136612363043)
INFO flwr 2023-07-26 14:23:09,702 | server.py:163 | evaluate_round 28: no clients selected, cancel
Cluster score for round 29 = 118124.5
INFO flwr 2023-07-26 14:23:18,751 | fed_df.py:230 | Number of selected crops : 4521
DEBUG flwr 2023-07-26 14:23:20,505 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=725798)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=725796)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=725869)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 14:24:49,490 | server.py:229 | fit_round 29 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=725798)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=725796)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=725794)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=725797)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=725869)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=725867)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=725868)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=725866)[0m Fitting Client 11
Performing server side distillation training...
[2m[36m(launch_and_fit pid=725867)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=725797)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=725866)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=725868)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=725794)[0m malloc_consolidate(): invalid chunk size
E0726 14:24:51.982579334  513909 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.10530477279424667, val accuracy : 0.578245887060916, best val accuracy : 0.6006002667852379
Average local training loss : 4.513624944817275
Average local training accuracy : 0.9488348765432097
INFO flwr 2023-07-26 14:26:53,865 | server.py:116 | fit progress: (29, 2.1786134990809023, {'server_test_acc': 0.6467966573816156}, 6579.300032046973)
INFO flwr 2023-07-26 14:26:53,866 | server.py:163 | evaluate_round 29: no clients selected, cancel
Cluster score for round 30 = 118350.0859375
INFO flwr 2023-07-26 14:27:02,758 | fed_df.py:230 | Number of selected crops : 4424
DEBUG flwr 2023-07-26 14:27:04,518 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1003494)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1003497)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 14:28:37,407 | server.py:229 | fit_round 30 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1003499)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1003501)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1003499)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1003498)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1003502)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1003497)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1003494)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1003495)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1003500)[0m Fitting Client 1
Warm start at round 30
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1003498)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1003500)[0m malloc_consolidate(): invalid chunk size
E0726 14:28:38.435525006  876420 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1003495)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1003502)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1003501)[0m malloc_consolidate(): invalid chunk size
E0726 14:30:31.834711556 1172221 chttp2_transport.cc:1079]             ipv4:145.136.62.30:44828: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.11857808397710323, val accuracy : 0.44871053801689637, best val accuracy : 0.5191196087149844
Average local training loss : 4.579675508290529
Average local training accuracy : 0.9449336419753087
INFO flwr 2023-07-26 14:30:41,454 | server.py:116 | fit progress: (30, 4.1549103643900835, {'server_test_acc': 0.48565459610027856}, 6806.888176291017)
INFO flwr 2023-07-26 14:30:41,454 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-07-26 14:30:41,454 | server.py:144 | FL finished in 6806.888562430046
INFO flwr 2023-07-26 14:30:41,454 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-07-26 14:30:41,455 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-07-26 14:30:41,455 | app.py:204 | app_fit: losses_centralized [(0, 2.129049671459995), (1, 1.9877987510978679), (2, 2.0976556889526026), (3, 2.851840281685747), (4, 4.257212899720768), (5, 3.7599855773628255), (6, 4.199133405977637), (7, 3.4237646650139), (8, 2.597285550948969), (9, 2.6364763360833723), (10, 2.6179921142238096), (11, 2.147705766417522), (12, 1.9092239653499679), (13, 3.836982651606908), (14, 3.2869371197681905), (15, 5.278229417508691), (16, 4.455539462161263), (17, 4.663837026420742), (18, 4.740541557747673), (19, 3.0602148082595018), (20, 3.868788623544167), (21, 2.846176217591862), (22, 3.0136897403217624), (23, 3.4303042451651318), (24, 8.487933679012203), (25, 5.835997112879846), (26, 3.8022229106977457), (27, 2.6872035310793057), (28, 2.134964444046233), (29, 2.1786134990809023), (30, 4.1549103643900835)]
INFO flwr 2023-07-26 14:30:41,455 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.21448467966573817), (1, 0.5341225626740947), (2, 0.44401114206128134), (3, 0.3467966573816156), (4, 0.36768802228412256), (5, 0.3926183844011142), (6, 0.2694986072423398), (7, 0.18050139275766017), (8, 0.4481894150417827), (9, 0.5341225626740947), (10, 0.5582172701949861), (11, 0.47813370473537603), (12, 0.5973537604456824), (13, 0.611699164345404), (14, 0.5582172701949861), (15, 0.44178272980501393), (16, 0.32381615598885793), (17, 0.38760445682451256), (18, 0.4435933147632312), (19, 0.5079387186629526), (20, 0.43997214484679664), (21, 0.4363509749303621), (22, 0.3311977715877437), (23, 0.5268802228412256), (24, 0.5497214484679666), (25, 0.30194986072423396), (26, 0.5238161559888579), (27, 0.5714484679665738), (28, 0.6096100278551532), (29, 0.6467966573816156), (30, 0.48565459610027856)]}
malloc_consolidate(): invalid chunk size
srun: error: gcn30: task 0: Aborted
srun: Terminating StepId=3152542.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3152542
Cluster: snellius
User/Group: sunnys/sunnys
State: RUNNING
Nodes: 1
Cores per node: 18
CPU Utilized: 04:13:10
CPU Efficiency: 11.89% of 1-11:28:48 core-walltime
Job Wall-clock time: 01:58:16
Memory Utilized: 54.68 GB
Memory Efficiency: 45.57% of 120.00 GB
WARNING: Efficiency statistics may be misleading for RUNNING jobs.
