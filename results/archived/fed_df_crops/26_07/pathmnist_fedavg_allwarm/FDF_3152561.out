-----BEGIN-----
-----SETTINGS-----
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:pathmnist
PARTITION_ALPHA:10.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:40
LOCAL_LR:0.05
DISTILL_BATCH_SIZE:512
SERVER_LR:0.005
SERVER_STEPS:500
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
SEED:42
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:colonpath_sample.jpg
DISTILL_DATASET:cifar100
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:10000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:1
KMEANS_N_CLUSTER:50
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
CONFIDENCE_THRESHOLD:0.9
CONFIDENCE_MIN_CROPS:2500
CLIPPING_FACTOR:2.5
FEDPROX_FACTOR:1.0
FEDPROX_ADAPTIVE:False
USE_CLIPPING:True
USE_ENTROPY:True
USE_KMEANS:True
USE_FEDPROX:False
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=100000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/colonpath_sample.jpg', targetpath='/scratch-local/sunnys.3152561/1690367849_534066674', seed=42, img_per_thread=5555)
will save 100000 patches in /scratch-local/sunnys.3152561/1690367849_534066674/single_img_crops/crops
100000 took 0.40min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-07-26 12:38:11,952 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-07-26 12:38:11,952 | simulate.py:55 | Reading args from argument parser
Downloading https://zenodo.org/record/6496656/files/pathmnist.npz?download=1 to /scratch-local/sunnys.3152561/1690367849_534066674/pathmnist.npz
Generating unified pathmnist dataset
Class histogram for 0-th partition (alpha=10.0, 9 classes): [490 604 231 501 464 620 475 540 575]
INFO flwr 2023-07-26 12:44:15,447 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-07-26 12:44:18,607	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8265 [39m[22m
INFO flwr 2023-07-26 12:44:19,607 | app.py:179 | Flower VCE: Ray initialized with resources: {'GPU': 1.0, 'memory': 103079215104.0, 'object_store_memory': 61847529062.0, 'CPU': 18.0, 'node:145.136.62.25': 1.0, 'accelerator_type:A100': 1.0}
INFO flwr 2023-07-26 12:44:19,607 | server.py:86 | Initializing global parameters
INFO flwr 2023-07-26 12:44:19,607 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-07-26 12:44:19,607 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-07-26 12:44:28,163 | server.py:91 | initial parameters (loss, other metrics): 2.1845225108367154, {'server_test_acc': 0.11030640668523677}
INFO flwr 2023-07-26 12:44:28,163 | server.py:101 | FL starting
Cluster score for round 1 = 903.97216796875
INFO flwr 2023-07-26 12:44:36,234 | fed_df.py:230 | Number of selected crops : 10000
DEBUG flwr 2023-07-26 12:44:39,030 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=751177)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:46:08,927 | server.py:229 | fit_round 1 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=751176)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=751179)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=751176)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=751177)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=751180)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=751183)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=751178)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=751182)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=751181)[0m Fitting Client 2
Warm start at round 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=751183)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=751179)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=751182)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=751178)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=751180)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=751181)[0m malloc_consolidate(): invalid chunk size
E0726 12:46:12.293735550  747992 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
E0726 12:46:12.293864189  747992 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
E0726 12:46:12.293880960  747992 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.4150268414020538, val accuracy : 0.4108714984437528, best val accuracy : 0.4594264117385505
Average local training loss : 8.565540359728038
Average local training accuracy : 0.6971180555555556
INFO flwr 2023-07-26 12:47:07,505 | server.py:116 | fit progress: (1, 2.2394380909486733, {'server_test_acc': 0.41545961002785514}, 159.342122745933)
INFO flwr 2023-07-26 12:47:07,505 | server.py:163 | evaluate_round 1: no clients selected, cancel
Cluster score for round 2 = 72816.65625
INFO flwr 2023-07-26 12:47:15,465 | fed_df.py:230 | Number of selected crops : 5824
DEBUG flwr 2023-07-26 12:47:17,429 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=913437)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=913439)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:48:44,366 | server.py:229 | fit_round 2 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=913437)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=913439)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=913438)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=913435)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=913440)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=913441)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=913442)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=913443)[0m Fitting Client 19
Warm start at round 2
Performing server side distillation training...
[2m[36m(launch_and_fit pid=913442)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=913441)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=913443)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=913435)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=913438)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=913440)[0m double free or corruption (fasttop)
E0726 12:48:49.305306793 1006610 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.22445000261068343, val accuracy : 0.37092040907069806, best val accuracy : 0.44308581591818585
Average local training loss : 7.006994972378016
Average local training accuracy : 0.7922816358024691
INFO flwr 2023-07-26 12:50:15,293 | server.py:116 | fit progress: (2, 8.582549393210238, {'server_test_acc': 0.3071030640668524}, 347.1297440029448)
INFO flwr 2023-07-26 12:50:15,293 | server.py:163 | evaluate_round 2: no clients selected, cancel
Cluster score for round 3 = 202651.640625
INFO flwr 2023-07-26 12:50:23,372 | fed_df.py:230 | Number of selected crops : 4320
DEBUG flwr 2023-07-26 12:50:25,070 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1072851)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1072860)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:51:52,540 | server.py:229 | fit_round 3 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1072851)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1072856)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1072857)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1072852)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1072850)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1072859)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1072858)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1072860)[0m Fitting Client 0
Warm start at round 3
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1072856)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1072858)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1072852)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1072859)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1072857)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1072850)[0m malloc_consolidate(): invalid chunk size
E0726 12:51:54.931707744 1006915 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
E0726 12:53:00.372988341 1168261 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.0737611695677042, val accuracy : 0.4428190306803024, best val accuracy : 0.5085593597154291
Average local training loss : 6.273927325941623
Average local training accuracy : 0.8401489197530865
INFO flwr 2023-07-26 12:53:41,430 | server.py:116 | fit progress: (3, 6.722706571063624, {'server_test_acc': 0.5194986072423399}, 553.2671329450095)
INFO flwr 2023-07-26 12:53:41,430 | server.py:163 | evaluate_round 3: no clients selected, cancel
Cluster score for round 4 = 146936.15625
INFO flwr 2023-07-26 12:53:49,658 | fed_df.py:230 | Number of selected crops : 5222
DEBUG flwr 2023-07-26 12:53:51,556 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1283086)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:55:18,937 | server.py:229 | fit_round 4 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1283090)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1283086)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1283090)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1283089)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1283095)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1283093)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1283092)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1283094)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1283091)[0m Fitting Client 12
Warm start at round 4
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1283093)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1283095)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1283094)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1283092)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1283089)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1283091)[0m double free or corruption (fasttop)
E0726 12:55:23.425198629 1235437 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.06385192488878966, val accuracy : 0.26283903957314364, best val accuracy : 0.3619386393952868
Average local training loss : 5.224366691708565
Average local training accuracy : 0.9054791666666667
INFO flwr 2023-07-26 12:56:53,773 | server.py:116 | fit progress: (4, 4.392259136083067, {'server_test_acc': 0.2392757660167131}, 745.6096806189744)
INFO flwr 2023-07-26 12:56:53,773 | server.py:163 | evaluate_round 4: no clients selected, cancel
Cluster score for round 5 = 69545.609375
INFO flwr 2023-07-26 12:57:02,097 | fed_df.py:230 | Number of selected crops : 4591
DEBUG flwr 2023-07-26 12:57:03,792 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1496087)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1496166)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:58:30,857 | server.py:229 | fit_round 5 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1496092)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1496089)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1496087)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1496091)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1496093)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1496167)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1496092)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1496166)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1496090)[0m Fitting Client 6
Warm start at round 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1496090)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1496091)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1496167)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1496093)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1496089)[0m corrupted size vs. prev_size in fastbins
E0726 12:58:35.837568152 1613020 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.17737496183812618, val accuracy : 0.24979991107158733, best val accuracy : 0.2929079590929302
Average local training loss : 4.755181204434485
Average local training accuracy : 0.9340879629629629
INFO flwr 2023-07-26 13:00:19,402 | server.py:116 | fit progress: (5, 5.48056682066001, {'server_test_acc': 0.23286908077994428}, 951.2391753609991)
INFO flwr 2023-07-26 13:00:19,402 | server.py:163 | evaluate_round 5: no clients selected, cancel
Cluster score for round 6 = 48161.75
INFO flwr 2023-07-26 13:00:27,669 | fed_df.py:230 | Number of selected crops : 5253
DEBUG flwr 2023-07-26 13:00:29,498 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1725582)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1725590)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1725585)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1725586)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:01:56,989 | server.py:229 | fit_round 6 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1725582)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1725584)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1725589)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1725586)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1725590)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1725588)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1725587)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1725585)[0m Fitting Client 8
Warm start at round 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1725589)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1725588)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1725584)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1725587)[0m double free or corruption (fasttop)
E0726 13:01:59.864579459 1613383 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.15528399358689784, val accuracy : 0.3515673632725656, best val accuracy : 0.3808359270787016
Average local training loss : 4.4654086386784915
Average local training accuracy : 0.9516651234567902
INFO flwr 2023-07-26 13:03:31,396 | server.py:116 | fit progress: (6, 7.130221021009355, {'server_test_acc': 0.3303621169916435}, 1143.2329951670254)
INFO flwr 2023-07-26 13:03:31,396 | server.py:163 | evaluate_round 6: no clients selected, cancel
Cluster score for round 7 = 128259.453125
INFO flwr 2023-07-26 13:03:39,617 | fed_df.py:230 | Number of selected crops : 5111
DEBUG flwr 2023-07-26 13:03:41,504 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1970558)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1970565)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1970560)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1970564)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1970563)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1970555)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:05:09,506 | server.py:229 | fit_round 7 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1970558)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1970555)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1970563)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1970560)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1970561)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1970562)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1970564)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1970565)[0m Fitting Client 15
Warm start at round 7
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1970561)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1970562)[0m malloc_consolidate(): invalid chunk size
E0726 13:05:13.253027480 2085120 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.2799435742199421, val accuracy : 0.22780124499777682, best val accuracy : 0.24055135615829257
Average local training loss : 4.355351583752781
Average local training accuracy : 0.9581782407407408
INFO flwr 2023-07-26 13:06:48,890 | server.py:116 | fit progress: (7, 38.88679973634173, {'server_test_acc': 0.19206128133704736}, 1340.7272503050044)
INFO flwr 2023-07-26 13:06:48,890 | server.py:163 | evaluate_round 7: no clients selected, cancel
Cluster score for round 8 = 367562.875
INFO flwr 2023-07-26 13:06:57,236 | fed_df.py:230 | Number of selected crops : 4366
DEBUG flwr 2023-07-26 13:06:59,001 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2190188)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2190191)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2190192)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2190195)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:08:26,627 | server.py:229 | fit_round 8 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2190190)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2190188)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2190189)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2190191)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2190194)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2190195)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2190192)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2190190)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2190193)[0m Fitting Client 14
Warm start at round 8
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2190189)[0m malloc_consolidate(): invalid chunk size
E0726 13:08:27.658098378 2086892 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
[2m[36m(launch_and_fit pid=2190194)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2190193)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.3722982122898102, val accuracy : 0.22760115606936418, best val accuracy : 0.29190751445086704
Average local training loss : 4.253714932128787
Average local training accuracy : 0.9642199074074074
INFO flwr 2023-07-26 13:10:11,750 | server.py:116 | fit progress: (8, 6.066445366054524, {'server_test_acc': 0.199025069637883}, 1543.5870276079513)
INFO flwr 2023-07-26 13:10:11,750 | server.py:163 | evaluate_round 8: no clients selected, cancel
Cluster score for round 9 = 67928.421875
INFO flwr 2023-07-26 13:10:19,920 | fed_df.py:230 | Number of selected crops : 4813
DEBUG flwr 2023-07-26 13:10:21,670 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2416941)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2416944)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:11:49,355 | server.py:229 | fit_round 9 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2416937)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2416939)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2416942)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2416940)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2416945)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2416943)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2416941)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2416944)[0m Fitting Client 8
Warm start at round 9
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2416939)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2416942)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2416943)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2416937)[0m double free or corruption (fasttop)
E0726 13:11:50.762453080 2530454 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
[2m[36m(launch_and_fit pid=2416945)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2416940)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.21321461245417594, val accuracy : 0.2402067585593597, best val accuracy : 0.303245887060916
Average local training loss : 4.178092047572136
Average local training accuracy : 0.9682577160493827
INFO flwr 2023-07-26 13:13:28,648 | server.py:116 | fit progress: (9, 6.151207980737713, {'server_test_acc': 0.21197771587743733}, 1740.4849665769143)
INFO flwr 2023-07-26 13:13:28,648 | server.py:163 | evaluate_round 9: no clients selected, cancel
Cluster score for round 10 = 39785.96484375
INFO flwr 2023-07-26 13:13:37,053 | fed_df.py:230 | Number of selected crops : 5159
DEBUG flwr 2023-07-26 13:13:38,904 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2635907)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2635990)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2635914)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:15:05,613 | server.py:229 | fit_round 10 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2635907)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2635914)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2635913)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2635987)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2635989)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2635990)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2635986)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2635988)[0m Fitting Client 13
Warm start at round 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2635913)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2635986)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2635989)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2635987)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2635988)[0m malloc_consolidate(): invalid chunk size
E0726 13:15:55.967115508 2530589 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.2730386028587818, val accuracy : 0.2529346376167186, best val accuracy : 0.3203646064917741
Average local training loss : 4.0725302416831255
Average local training accuracy : 0.9749722222222222
INFO flwr 2023-07-26 13:16:44,694 | server.py:116 | fit progress: (10, 11.015236633003257, {'server_test_acc': 0.2743732590529248}, 1936.5314151439816)
INFO flwr 2023-07-26 13:16:44,695 | server.py:163 | evaluate_round 10: no clients selected, cancel
Cluster score for round 11 = 62559.46875
INFO flwr 2023-07-26 13:16:53,121 | fed_df.py:230 | Number of selected crops : 5145
DEBUG flwr 2023-07-26 13:16:55,000 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2853685)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2853691)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:18:22,682 | server.py:229 | fit_round 11 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2853684)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2853687)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2853689)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2853690)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2853691)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2853685)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2853686)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2853688)[0m Fitting Client 3
Warm start at round 11
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2853684)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2853688)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2853687)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2853689)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2853686)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2853690)[0m malloc_consolidate(): invalid chunk size
E0726 13:18:27.095699659 2993528 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.1722165430188179, val accuracy : 0.37867941307247666, best val accuracy : 0.4424188528234771
Average local training loss : 3.9687374886125326
Average local training accuracy : 0.9803989197530865
INFO flwr 2023-07-26 13:19:55,358 | server.py:116 | fit progress: (11, 3.825150173686673, {'server_test_acc': 0.3880222841225627}, 2127.195283434936)
INFO flwr 2023-07-26 13:19:55,358 | server.py:163 | evaluate_round 11: no clients selected, cancel
Cluster score for round 12 = 132210.828125
INFO flwr 2023-07-26 13:20:03,721 | fed_df.py:230 | Number of selected crops : 4611
DEBUG flwr 2023-07-26 13:20:05,472 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3092443)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:21:32,524 | server.py:229 | fit_round 12 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3092447)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3092447)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3092443)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3092449)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3092445)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3092451)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3092450)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3092453)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3092452)[0m Fitting Client 12
Warm start at round 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3092449)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3092451)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3092452)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3092453)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3092445)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3092450)[0m malloc_consolidate(): invalid chunk size
E0726 13:21:34.864507255 2996510 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.2410329038798809, val accuracy : 0.1905513561582926, best val accuracy : 0.21176078257003111
Average local training loss : 3.9935002190060915
Average local training accuracy : 0.9789483024691358
INFO flwr 2023-07-26 13:23:10,069 | server.py:116 | fit progress: (12, 6.4905981223231235, {'server_test_acc': 0.1735376044568245}, 2321.906301126932)
INFO flwr 2023-07-26 13:23:10,069 | server.py:163 | evaluate_round 12: no clients selected, cancel
Cluster score for round 13 = 194465.0
INFO flwr 2023-07-26 13:23:18,330 | fed_df.py:230 | Number of selected crops : 5070
DEBUG flwr 2023-07-26 13:23:20,154 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3311288)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3311292)[0m corrupted size vs. prev_size in fastbins
DEBUG flwr 2023-07-26 13:24:47,237 | server.py:229 | fit_round 13 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3311288)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3311292)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3311286)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3311294)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3311291)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3311290)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3311293)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3311289)[0m Fitting Client 15
Warm start at round 13
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3311286)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3311289)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3311293)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3311290)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3311291)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3311294)[0m double free or corruption (fasttop)
E0726 13:24:49.436247276 3425576 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.162331421777606, val accuracy : 0.2563472654513117, best val accuracy : 0.312916851934193
Average local training loss : 3.921179092116654
Average local training accuracy : 0.9827337962962963
INFO flwr 2023-07-26 13:26:25,504 | server.py:116 | fit progress: (13, 13.181556206493324, {'server_test_acc': 0.2318941504178273}, 2517.3415860329987)
INFO flwr 2023-07-26 13:26:25,505 | server.py:163 | evaluate_round 13: no clients selected, cancel
Cluster score for round 14 = 113482.421875
INFO flwr 2023-07-26 13:26:33,823 | fed_df.py:230 | Number of selected crops : 5062
DEBUG flwr 2023-07-26 13:26:35,621 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3529742)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3529738)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3529749)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:28:02,708 | server.py:229 | fit_round 14 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3529748)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3529738)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3529744)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3529742)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3529745)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3529746)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3529749)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3529748)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3529747)[0m Fitting Client 2
Warm start at round 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3529745)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3529746)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3529744)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3529747)[0m malloc_consolidate(): invalid chunk size
E0726 13:28:06.657420703 3426056 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.254227578997612, val accuracy : 0.34849933303690533, best val accuracy : 0.4085148955091152
Average local training loss : 3.9196635612286626
Average local training accuracy : 0.982675925925926
INFO flwr 2023-07-26 13:29:39,748 | server.py:116 | fit progress: (14, 4.847413672975843, {'server_test_acc': 0.25348189415041783}, 2711.5850553369382)
INFO flwr 2023-07-26 13:29:39,748 | server.py:163 | evaluate_round 14: no clients selected, cancel
Cluster score for round 15 = 61236.2421875
INFO flwr 2023-07-26 13:29:47,939 | fed_df.py:230 | Number of selected crops : 5043
DEBUG flwr 2023-07-26 13:29:49,751 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3748833)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3748838)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:31:16,916 | server.py:229 | fit_round 15 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3748840)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3748833)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3748838)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3748839)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3748840)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3748835)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3748837)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3748841)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3748836)[0m Fitting Client 18
Warm start at round 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3748841)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3748837)[0m malloc_consolidate(): invalid chunk size
E0726 13:31:18.255812730 3860324 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
[2m[36m(launch_and_fit pid=3748836)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3748839)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3748835)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.3544042719006538, val accuracy : 0.25919297465540236, best val accuracy : 0.2797910182303246
Average local training loss : 3.8650800984352824
Average local training accuracy : 0.9855941358024691
INFO flwr 2023-07-26 13:32:58,643 | server.py:116 | fit progress: (15, 10.971598190052596, {'server_test_acc': 0.21128133704735377}, 2910.4805497699417)
INFO flwr 2023-07-26 13:32:58,644 | server.py:163 | evaluate_round 15: no clients selected, cancel
Cluster score for round 16 = 54998.2734375
INFO flwr 2023-07-26 13:33:07,093 | fed_df.py:230 | Number of selected crops : 4810
DEBUG flwr 2023-07-26 13:33:08,851 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3984429)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3984426)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3984422)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3984427)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3984428)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:34:36,074 | server.py:229 | fit_round 16 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3984422)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3984426)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3984427)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3984430)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3984429)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3984428)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3984424)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3984431)[0m Fitting Client 18
Warm start at round 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3984424)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3984430)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3984431)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.1332773677408695, val accuracy : 0.2793241440640285, best val accuracy : 0.30835927078701647
Average local training loss : 3.8438425783999266
Average local training accuracy : 0.9866651234567901
INFO flwr 2023-07-26 13:36:17,018 | server.py:116 | fit progress: (16, 5.169507997348116, {'server_test_acc': 0.32284122562674095}, 3108.8552958649816)
INFO flwr 2023-07-26 13:36:17,018 | server.py:163 | evaluate_round 16: no clients selected, cancel
Cluster score for round 17 = 99166.296875
INFO flwr 2023-07-26 13:36:25,276 | fed_df.py:230 | Number of selected crops : 4820
DEBUG flwr 2023-07-26 13:36:27,052 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=18412)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:37:54,547 | server.py:229 | fit_round 17 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=18414)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=18411)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=18414)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=18412)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=18413)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=18415)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=18417)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=18416)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=18418)[0m Fitting Client 17
Warm start at round 17
Performing server side distillation training...
[2m[36m(launch_and_fit pid=18417)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=18411)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=18413)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=18415)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=18418)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=18416)[0m double free or corruption (fasttop)
E0726 13:37:58.656696499  130804 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.37379285353422165, val accuracy : 0.17656736327256556, best val accuracy : 0.2304357492218764
Average local training loss : 3.863904387317598
Average local training accuracy : 0.9856697530864197
INFO flwr 2023-07-26 13:39:32,327 | server.py:116 | fit progress: (17, 32.98558296267369, {'server_test_acc': 0.2406685236768802}, 3304.1637961539673)
INFO flwr 2023-07-26 13:39:32,327 | server.py:163 | evaluate_round 17: no clients selected, cancel
Cluster score for round 18 = 134535.90625
INFO flwr 2023-07-26 13:39:40,602 | fed_df.py:230 | Number of selected crops : 5011
DEBUG flwr 2023-07-26 13:39:42,382 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=233197)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=233273)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:41:09,699 | server.py:229 | fit_round 18 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=233275)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=233197)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=233273)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=233274)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=233275)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=233271)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=233276)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=233272)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=233270)[0m Fitting Client 17
Warm start at round 18
Performing server side distillation training...
[2m[36m(launch_and_fit pid=233276)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=233274)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=233272)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=233270)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=233271)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.22723561859130859, val accuracy : 0.263172521120498, best val accuracy : 0.2966874166296132
Average local training loss : 3.848605794273317
Average local training accuracy : 0.9865694444444444
INFO flwr 2023-07-26 13:42:55,245 | server.py:116 | fit progress: (18, 4.676560664907472, {'server_test_acc': 0.36142061281337046}, 3507.081997966976)
INFO flwr 2023-07-26 13:42:55,245 | server.py:163 | evaluate_round 18: no clients selected, cancel
Cluster score for round 19 = 74220.109375
INFO flwr 2023-07-26 13:43:03,470 | fed_df.py:230 | Number of selected crops : 4928
DEBUG flwr 2023-07-26 13:43:05,240 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=451916)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=451922)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:44:32,544 | server.py:229 | fit_round 19 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=451916)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=451921)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=451919)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=451924)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=451923)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=451922)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=451926)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=451925)[0m Fitting Client 8
Warm start at round 19
Performing server side distillation training...
[2m[36m(launch_and_fit pid=451923)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=451925)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=451924)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=451926)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=451921)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=451919)[0m malloc_consolidate(): invalid chunk size
E0726 13:44:43.901414305  568780 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.18208145745098592, val accuracy : 0.28068030235660296, best val accuracy : 0.3072476656291685
Average local training loss : 3.859190284926444
Average local training accuracy : 0.9861658950617285
INFO flwr 2023-07-26 13:46:19,850 | server.py:116 | fit progress: (19, 2.9593702778510727, {'server_test_acc': 0.3115598885793872}, 3711.6869872920215)
INFO flwr 2023-07-26 13:46:19,850 | server.py:163 | evaluate_round 19: no clients selected, cancel
Cluster score for round 20 = 104369.390625
INFO flwr 2023-07-26 13:46:28,109 | fed_df.py:230 | Number of selected crops : 4900
DEBUG flwr 2023-07-26 13:46:29,878 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=670253)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:47:57,967 | server.py:229 | fit_round 20 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=670245)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=670245)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=670247)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=670252)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=670250)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=670248)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=670251)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=670249)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=670253)[0m Fitting Client 7
Warm start at round 20
Performing server side distillation training...
[2m[36m(launch_and_fit pid=670249)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=670248)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=670247)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=670251)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=670250)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=670252)[0m malloc_consolidate(): invalid chunk size
E0726 13:48:00.603522362  784664 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 13:49:14.147358378  785631 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.24965199139714242, val accuracy : 0.27006447309915516, best val accuracy : 0.27823477100933747
Average local training loss : 3.850700212176889
Average local training accuracy : 0.9864266975308641
INFO flwr 2023-07-26 13:49:41,326 | server.py:116 | fit progress: (20, 2.5173923441958626, {'server_test_acc': 0.34178272980501395}, 3913.1627610449214)
INFO flwr 2023-07-26 13:49:41,326 | server.py:163 | evaluate_round 20: no clients selected, cancel
Cluster score for round 21 = 49673.40625
INFO flwr 2023-07-26 13:49:49,598 | fed_df.py:230 | Number of selected crops : 4610
DEBUG flwr 2023-07-26 13:49:51,308 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=921364)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=921368)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=921365)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:51:19,635 | server.py:229 | fit_round 21 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=921368)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=921361)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=921363)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=921369)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=921364)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=921366)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=921367)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=921365)[0m Fitting Client 5
Warm start at round 21
Performing server side distillation training...
[2m[36m(launch_and_fit pid=921361)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=921369)[0m malloc_consolidate(): invalid chunk size
E0726 13:51:20.189404833 1032531 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=921363)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=921366)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=921367)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.2842977185547352, val accuracy : 0.2626834148510449, best val accuracy : 0.29301911960871496
Average local training loss : 3.8046165063977244
Average local training accuracy : 0.9887538580246913
INFO flwr 2023-07-26 13:53:01,096 | server.py:116 | fit progress: (21, 20.553040688814892, {'server_test_acc': 0.28133704735376047}, 4112.932831250946)
INFO flwr 2023-07-26 13:53:01,096 | server.py:163 | evaluate_round 21: no clients selected, cancel
Cluster score for round 22 = 137055.796875
INFO flwr 2023-07-26 13:53:09,529 | fed_df.py:230 | Number of selected crops : 4811
DEBUG flwr 2023-07-26 13:53:11,287 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1138480)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:54:39,028 | server.py:229 | fit_round 22 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1138480)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1138568)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1138602)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1138599)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1138601)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1138597)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1138600)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1138598)[0m Fitting Client 12
Warm start at round 22
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1138600)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1138568)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1138602)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1138598)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1138601)[0m malloc_consolidate(): invalid chunk size
E0726 13:54:40.536745635 1032705 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1138597)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1138599)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.37186348301172256, val accuracy : 0.20259004001778566, best val accuracy : 0.22054246331702979
Average local training loss : 3.814697033818811
Average local training accuracy : 0.9882901234567901
INFO flwr 2023-07-26 13:56:20,455 | server.py:116 | fit progress: (22, 11.507594134614992, {'server_test_acc': 0.1807799442896936}, 4312.292216712027)
INFO flwr 2023-07-26 13:56:20,455 | server.py:163 | evaluate_round 22: no clients selected, cancel
Cluster score for round 23 = 213096.515625
INFO flwr 2023-07-26 13:56:28,680 | fed_df.py:230 | Number of selected crops : 4316
DEBUG flwr 2023-07-26 13:56:30,379 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1355899)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1355901)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:57:57,927 | server.py:229 | fit_round 23 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1355898)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1355899)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1355897)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1355901)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1355903)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1355904)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1355902)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1355898)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1355900)[0m Fitting Client 14
Warm start at round 23
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1355903)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1355902)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1355897)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1355904)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1355900)[0m double free or corruption (fasttop)
E0726 13:58:00.659684748 1468595 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.19195096865296363, val accuracy : 0.2247554468652735, best val accuracy : 0.31625166740773675
Average local training loss : 3.8115862522274258
Average local training accuracy : 0.9884197530864197
INFO flwr 2023-07-26 13:59:47,517 | server.py:116 | fit progress: (23, 4.279986506916354, {'server_test_acc': 0.34832869080779943}, 4519.353959399974)
INFO flwr 2023-07-26 13:59:47,517 | server.py:163 | evaluate_round 23: no clients selected, cancel
Cluster score for round 24 = 90157.796875
INFO flwr 2023-07-26 13:59:55,798 | fed_df.py:230 | Number of selected crops : 4880
DEBUG flwr 2023-07-26 13:59:57,620 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1582526)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1582527)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1582531)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:01:25,589 | server.py:229 | fit_round 24 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1582526)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1582527)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1582529)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1582524)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1582530)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1582531)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1582525)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1582528)[0m Fitting Client 2
Warm start at round 24
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1582530)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1582525)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1582529)[0m malloc_consolidate(): invalid chunk size
E0726 14:01:26.716997144 1469858 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1582524)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.22146965473890304, val accuracy : 0.3122610048910627, best val accuracy : 0.35282347710093376
Average local training loss : 3.785693152621388
Average local training accuracy : 0.9898557098765433
INFO flwr 2023-07-26 14:03:06,827 | server.py:116 | fit progress: (24, 5.829065165612691, {'server_test_acc': 0.3506963788300836}, 4718.663885331014)
INFO flwr 2023-07-26 14:03:06,827 | server.py:163 | evaluate_round 24: no clients selected, cancel
Cluster score for round 25 = 77388.9375
INFO flwr 2023-07-26 14:03:15,167 | fed_df.py:230 | Number of selected crops : 4801
DEBUG flwr 2023-07-26 14:03:16,921 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1798686)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 14:04:48,091 | server.py:229 | fit_round 25 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1798682)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1798682)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1798681)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1798684)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1798687)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1798685)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1798683)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1798686)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1798680)[0m Fitting Client 1
Warm start at round 25
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1798687)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1798681)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1798684)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1798680)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1798685)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1798683)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.13612673361599445, val accuracy : 0.32321031569586484, best val accuracy : 0.3404846598488217
Average local training loss : 3.791075921431184
Average local training accuracy : 0.9896033950617285
INFO flwr 2023-07-26 14:06:29,185 | server.py:116 | fit progress: (25, 3.2337230097948675, {'server_test_acc': 0.3619777158774373}, 4921.021934668999)
INFO flwr 2023-07-26 14:06:29,185 | server.py:163 | evaluate_round 25: no clients selected, cancel
Cluster score for round 26 = 103365.015625
INFO flwr 2023-07-26 14:06:37,709 | fed_df.py:230 | Number of selected crops : 5016
DEBUG flwr 2023-07-26 14:06:39,550 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2046320)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2046318)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2046323)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 14:08:06,568 | server.py:229 | fit_round 26 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2046318)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2046320)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2046322)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2046319)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2046325)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2046324)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2046321)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2046323)[0m Fitting Client 18
Warm start at round 26
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2046319)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2046322)[0m double free or corruption (fasttop)
E0726 14:08:07.704001573 2157221 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2046321)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2046325)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2046324)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.42244661289453506, val accuracy : 0.23927301022676745, best val accuracy : 0.2552245442418853
Average local training loss : 3.7732737815938884
Average local training accuracy : 0.9904706790123458
INFO flwr 2023-07-26 14:09:43,684 | server.py:116 | fit progress: (26, 22.775190339579886, {'server_test_acc': 0.1817548746518106}, 5115.5215489190305)
INFO flwr 2023-07-26 14:09:43,685 | server.py:163 | evaluate_round 26: no clients selected, cancel
Cluster score for round 27 = 125358.3046875
INFO flwr 2023-07-26 14:09:51,884 | fed_df.py:230 | Number of selected crops : 4862
DEBUG flwr 2023-07-26 14:09:53,705 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2262053)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2262057)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:11:20,764 | server.py:229 | fit_round 27 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2262050)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2262052)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2262053)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2262048)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2262057)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2262055)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2262056)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2262054)[0m Fitting Client 18
Warm start at round 27
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2262050)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2262048)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2262054)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2262055)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2262052)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2262056)[0m malloc_consolidate(): invalid chunk size
E0726 14:11:23.746376317 2374822 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.472119076192379, val accuracy : 0.2053912850155625, best val accuracy : 0.23121387283236994
Average local training loss : 3.7609328053891655
Average local training accuracy : 0.9910663580246913
INFO flwr 2023-07-26 14:13:00,444 | server.py:116 | fit progress: (27, 25.680288488021468, {'server_test_acc': 0.22674094707520892}, 5312.281367811025)
INFO flwr 2023-07-26 14:13:00,445 | server.py:163 | evaluate_round 27: no clients selected, cancel
Cluster score for round 28 = 169757.109375
INFO flwr 2023-07-26 14:13:08,878 | fed_df.py:230 | Number of selected crops : 2908
DEBUG flwr 2023-07-26 14:13:10,208 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2488034)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2488036)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2488028)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 14:14:37,461 | server.py:229 | fit_round 28 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2488031)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2488028)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2488026)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2488037)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2488035)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2488036)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2488034)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2488030)[0m Fitting Client 13
Warm start at round 28
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2488035)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2488030)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2488037)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2488031)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2488026)[0m malloc_consolidate(): invalid chunk size
E0726 14:14:47.038642984 2375764 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 14:15:37.689675166 2676529 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 14:16:32.684881438 2677831 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.322010630607605, val accuracy : 0.33953979546465096, best val accuracy : 0.34737661182747887
Average local training loss : 3.7513130839914077
Average local training accuracy : 0.9916273148148147
INFO flwr 2023-07-26 14:17:04,567 | server.py:116 | fit progress: (28, 12.525686663571838, {'server_test_acc': 0.3635097493036212}, 5556.40396983095)
INFO flwr 2023-07-26 14:17:04,567 | server.py:163 | evaluate_round 28: no clients selected, cancel
Cluster score for round 29 = 179169.796875
INFO flwr 2023-07-26 14:17:12,916 | fed_df.py:230 | Number of selected crops : 4264
DEBUG flwr 2023-07-26 14:17:14,597 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2782274)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:18:41,118 | server.py:229 | fit_round 29 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2782267)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2782267)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2782269)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2782271)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2782272)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2782270)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2782274)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2782275)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2782273)[0m Fitting Client 17
Warm start at round 29
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2782273)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2782269)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2782275)[0m double free or corruption (fasttop)
E0726 14:18:42.364194142 2740720 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2782270)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2782271)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2782272)[0m malloc_consolidate(): invalid chunk size
E0726 14:19:08.151230222 2930222 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.39795370000600816, val accuracy : 0.22625611382836816, best val accuracy : 0.24110715873721655
Average local training loss : 3.747493734862655
Average local training accuracy : 0.991608024691358
INFO flwr 2023-07-26 14:20:30,726 | server.py:116 | fit progress: (29, 27.96088463403388, {'server_test_acc': 0.23774373259052925}, 5762.563347329968)
INFO flwr 2023-07-26 14:20:30,726 | server.py:163 | evaluate_round 29: no clients selected, cancel
Cluster score for round 30 = 228554.8125
INFO flwr 2023-07-26 14:20:39,290 | fed_df.py:230 | Number of selected crops : 3165
DEBUG flwr 2023-07-26 14:20:40,692 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3056218)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3056224)[0m corrupted size vs. prev_size in fastbins
DEBUG flwr 2023-07-26 14:22:07,398 | server.py:229 | fit_round 30 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3056218)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3056223)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3056227)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3056226)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3056225)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3056221)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3056222)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3056224)[0m Fitting Client 1
Warm start at round 30
Performing server side distillation training...
E0726 14:22:08.135970227 2931258 chttp2_transport.cc:1079]             ipv4:145.136.62.25:51407: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3056223)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3056227)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3056221)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3056226)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3056225)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3056222)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.2681130130290985, val accuracy : 0.2469430858159182, best val accuracy : 0.29824366385060025
Average local training loss : 3.753115799836814
Average local training accuracy : 0.9913865740740742
INFO flwr 2023-07-26 14:24:17,470 | server.py:116 | fit progress: (30, 21.660735797085138, {'server_test_acc': 0.297075208913649}, 5989.30698076298)
INFO flwr 2023-07-26 14:24:17,470 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-07-26 14:24:17,470 | server.py:144 | FL finished in 5989.307352468022
INFO flwr 2023-07-26 14:24:17,470 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-07-26 14:24:17,471 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-07-26 14:24:17,471 | app.py:204 | app_fit: losses_centralized [(0, 2.1845225108367154), (1, 2.2394380909486733), (2, 8.582549393210238), (3, 6.722706571063624), (4, 4.392259136083067), (5, 5.48056682066001), (6, 7.130221021009355), (7, 38.88679973634173), (8, 6.066445366054524), (9, 6.151207980737713), (10, 11.015236633003257), (11, 3.825150173686673), (12, 6.4905981223231235), (13, 13.181556206493324), (14, 4.847413672975843), (15, 10.971598190052596), (16, 5.169507997348116), (17, 32.98558296267369), (18, 4.676560664907472), (19, 2.9593702778510727), (20, 2.5173923441958626), (21, 20.553040688814892), (22, 11.507594134614992), (23, 4.279986506916354), (24, 5.829065165612691), (25, 3.2337230097948675), (26, 22.775190339579886), (27, 25.680288488021468), (28, 12.525686663571838), (29, 27.96088463403388), (30, 21.660735797085138)]
INFO flwr 2023-07-26 14:24:17,472 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.11030640668523677), (1, 0.41545961002785514), (2, 0.3071030640668524), (3, 0.5194986072423399), (4, 0.2392757660167131), (5, 0.23286908077994428), (6, 0.3303621169916435), (7, 0.19206128133704736), (8, 0.199025069637883), (9, 0.21197771587743733), (10, 0.2743732590529248), (11, 0.3880222841225627), (12, 0.1735376044568245), (13, 0.2318941504178273), (14, 0.25348189415041783), (15, 0.21128133704735377), (16, 0.32284122562674095), (17, 0.2406685236768802), (18, 0.36142061281337046), (19, 0.3115598885793872), (20, 0.34178272980501395), (21, 0.28133704735376047), (22, 0.1807799442896936), (23, 0.34832869080779943), (24, 0.3506963788300836), (25, 0.3619777158774373), (26, 0.1817548746518106), (27, 0.22674094707520892), (28, 0.3635097493036212), (29, 0.23774373259052925), (30, 0.297075208913649)]}
double free or corruption (fasttop)
srun: error: gcn25: task 0: Aborted
srun: Terminating StepId=3152561.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3152561
Cluster: snellius
User/Group: sunnys/sunnys
State: RUNNING
Nodes: 1
Cores per node: 18
CPU Utilized: 03:40:26
CPU Efficiency: 11.34% of 1-08:24:36 core-walltime
Job Wall-clock time: 01:48:02
Memory Utilized: 55.25 GB
Memory Efficiency: 46.04% of 120.00 GB
WARNING: Efficiency statistics may be misleading for RUNNING jobs.
