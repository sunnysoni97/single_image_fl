-----BEGIN-----
-----SETTINGS-----
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:cifar10
PARTITION_ALPHA:10.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:40
LOCAL_LR:0.05
DISTILL_BATCH_SIZE:512
SERVER_LR:0.005
SERVER_STEPS:500
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
SEED:42
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:ameyoko.jpg
DISTILL_DATASET:cifar100
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:10000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:1
KMEANS_N_CLUSTER:50
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
CONFIDENCE_THRESHOLD:0.9
CONFIDENCE_MIN_CROPS:2500
CLIPPING_FACTOR:2.5
FEDPROX_FACTOR:1.0
FEDPROX_ADAPTIVE:False
USE_CLIPPING:True
USE_ENTROPY:True
USE_KMEANS:True
USE_FEDPROX:False
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=100000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/ameyoko.jpg', targetpath='/scratch-local/sunnys.3152570/1690367933_302000329', seed=42, img_per_thread=5555)
will save 100000 patches in /scratch-local/sunnys.3152570/1690367933_302000329/single_img_crops/crops
100000 took 0.64min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-07-26 12:39:46,885 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-07-26 12:39:46,885 | simulate.py:55 | Reading args from argument parser
Downloading https://www.cs.toronto.edu/~kriz/cifar-10-python.tar.gz to /scratch-local/sunnys.3152570/1690367933_302000329/cifar-10-python.tar.gz
Extracting /scratch-local/sunnys.3152570/1690367933_302000329/cifar-10-python.tar.gz to /scratch-local/sunnys.3152570/1690367933_302000329
Generating unified cifar10 dataset
Class histogram for 0-th partition (alpha=10.0, 10 classes): [259 271 116 269 240 311 223 239 284 288]
INFO flwr 2023-07-26 12:44:28,799 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-07-26 12:44:32,044	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8265 [39m[22m
INFO flwr 2023-07-26 12:44:33,359 | app.py:179 | Flower VCE: Ray initialized with resources: {'object_store_memory': 61847529062.0, 'memory': 103079215104.0, 'GPU': 1.0, 'node:145.136.62.20': 1.0, 'accelerator_type:A100': 1.0, 'CPU': 18.0}
INFO flwr 2023-07-26 12:44:33,359 | server.py:86 | Initializing global parameters
INFO flwr 2023-07-26 12:44:33,359 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-07-26 12:44:33,359 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-07-26 12:44:42,027 | server.py:91 | initial parameters (loss, other metrics): 2.3234217651367186, {'server_test_acc': 0.108}
INFO flwr 2023-07-26 12:44:42,028 | server.py:101 | FL starting
Cluster score for round 1 = 20033.3046875
INFO flwr 2023-07-26 12:44:49,398 | fed_df.py:230 | Number of selected crops : 10000
DEBUG flwr 2023-07-26 12:44:52,205 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 12:46:14,445 | server.py:229 | fit_round 1 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3569945)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3569941)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3569945)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3569943)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3569944)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3569947)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3569948)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3569942)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3569946)[0m Fitting Client 13
Warm start at round 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3569944)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3569948)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3569947)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3569943)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3569942)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3569941)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3569946)[0m malloc_consolidate(): invalid chunk size
E0726 12:46:16.931948006 3566667 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.3279973030090332, val accuracy : 0.35058, best val accuracy : 0.3774
Average local training loss : 8.679301791265607
Average local training accuracy : 0.3979722222222222
INFO flwr 2023-07-26 12:47:14,117 | server.py:116 | fit progress: (1, 2.252591223144531, {'server_test_acc': 0.3868}, 152.089719825075)
INFO flwr 2023-07-26 12:47:14,118 | server.py:163 | evaluate_round 1: no clients selected, cancel
Cluster score for round 2 = 117304.453125
INFO flwr 2023-07-26 12:47:22,017 | fed_df.py:230 | Number of selected crops : 6656
DEBUG flwr 2023-07-26 12:47:24,196 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3709981)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:48:43,125 | server.py:229 | fit_round 2 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3709983)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3709978)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3709983)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3709981)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3709982)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3709977)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3709986)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3709984)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3709985)[0m Fitting Client 17
Warm start at round 2
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3709984)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3709985)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3709978)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3709982)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3709977)[0m malloc_consolidate(): invalid chunk size
E0726 12:48:44.803871158 3662566 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
[2m[36m(launch_and_fit pid=3709986)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.07669564571231603, val accuracy : 0.5229199999999999, best val accuracy : 0.5412
Average local training loss : 6.823498154990374
Average local training accuracy : 0.5864736111111111
INFO flwr 2023-07-26 12:50:06,562 | server.py:116 | fit progress: (2, 1.459553530883789, {'server_test_acc': 0.541}, 324.5340444940375)
INFO flwr 2023-07-26 12:50:06,562 | server.py:163 | evaluate_round 2: no clients selected, cancel
Cluster score for round 3 = 42004.22265625
INFO flwr 2023-07-26 12:50:14,677 | fed_df.py:230 | Number of selected crops : 7794
DEBUG flwr 2023-07-26 12:50:17,010 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3867150)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:51:35,799 | server.py:229 | fit_round 3 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3867147)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3867150)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3867149)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3867147)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3867152)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3867151)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3867154)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3867155)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3867153)[0m Fitting Client 1
Warm start at round 3
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3867149)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3867155)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3867154)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3867151)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3867152)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3867153)[0m malloc_consolidate(): invalid chunk size
E0726 12:51:38.434074989 3966084 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
E0726 12:52:38.869662054 3967459 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.019646497448906303, val accuracy : 0.62928, best val accuracy : 0.6376
Average local training loss : 5.4104570552706726
Average local training accuracy : 0.7412597222222223
INFO flwr 2023-07-26 12:52:49,370 | server.py:116 | fit progress: (3, 1.3736982391357422, {'server_test_acc': 0.6359}, 487.34221138898283)
INFO flwr 2023-07-26 12:52:49,370 | server.py:163 | evaluate_round 3: no clients selected, cancel
Cluster score for round 4 = 10232.8916015625
INFO flwr 2023-07-26 12:52:57,380 | fed_df.py:230 | Number of selected crops : 9154
DEBUG flwr 2023-07-26 12:52:59,972 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=4055670)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4055671)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4055673)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4055672)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:54:18,730 | server.py:229 | fit_round 4 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=4055677)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4055670)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=4055672)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=4055671)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=4055677)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=4055673)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=4055674)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=4055675)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=4055676)[0m Fitting Client 9
Warm start at round 4
Performing server side distillation training...
[2m[36m(launch_and_fit pid=4055675)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4055676)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4055674)[0m malloc_consolidate(): invalid chunk size
E0726 12:54:22.842790085 4148004 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.024616162900812925, val accuracy : 0.6731999999999999, best val accuracy : 0.6796
Average local training loss : 4.780157594196498
Average local training accuracy : 0.8136972222222222
INFO flwr 2023-07-26 12:55:26,875 | server.py:116 | fit progress: (4, 1.3483908721923827, {'server_test_acc': 0.6753}, 644.8477975369897)
INFO flwr 2023-07-26 12:55:26,876 | server.py:163 | evaluate_round 4: no clients selected, cancel
Cluster score for round 5 = 6129.84326171875
INFO flwr 2023-07-26 12:55:34,944 | fed_df.py:230 | Number of selected crops : 9128
DEBUG flwr 2023-07-26 12:55:37,573 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=5712)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=5718)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=5725)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=5723)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:56:55,986 | server.py:229 | fit_round 5 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=5712)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=5718)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=5721)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=5724)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=5725)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=5726)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=5722)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=5723)[0m Fitting Client 2
Warm start at round 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=5721)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=5724)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=5722)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=5726)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.022716642792336643, val accuracy : 0.6950200000000001, best val accuracy : 0.7002
Average local training loss : 4.330267186835408
Average local training accuracy : 0.8602819444444445
INFO flwr 2023-07-26 12:58:09,467 | server.py:116 | fit progress: (5, 1.3911344421386718, {'server_test_acc': 0.6986}, 807.4390783680137)
INFO flwr 2023-07-26 12:58:09,467 | server.py:163 | evaluate_round 5: no clients selected, cancel
Cluster score for round 6 = 3501.3486328125
INFO flwr 2023-07-26 12:58:17,681 | fed_df.py:230 | Number of selected crops : 8823
DEBUG flwr 2023-07-26 12:58:20,232 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=150215)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=150214)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:59:38,794 | server.py:229 | fit_round 6 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=150214)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=150215)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=150218)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=150220)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=150222)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=150224)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=150221)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=150223)[0m Fitting Client 9
Warm start at round 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=150220)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=150223)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=150221)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=150218)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=150222)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=150224)[0m malloc_consolidate(): invalid chunk size
E0726 12:59:50.120566237  228084 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.0184369626250118, val accuracy : 0.6983199999999999, best val accuracy : 0.7126
Average local training loss : 4.023452148027717
Average local training accuracy : 0.8898125000000001
INFO flwr 2023-07-26 13:00:49,212 | server.py:116 | fit progress: (6, 1.2892646545410156, {'server_test_acc': 0.7052}, 967.1842124219984)
INFO flwr 2023-07-26 13:00:49,212 | server.py:163 | evaluate_round 6: no clients selected, cancel
Cluster score for round 7 = 3068.93994140625
INFO flwr 2023-07-26 13:00:57,414 | fed_df.py:230 | Number of selected crops : 8862
DEBUG flwr 2023-07-26 13:00:59,983 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=293958)[0m corrupted size vs. prev_size in fastbins
DEBUG flwr 2023-07-26 13:02:18,529 | server.py:229 | fit_round 7 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=293967)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=293958)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=293962)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=293963)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=293965)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=293964)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=293967)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=293968)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=293966)[0m Fitting Client 15
Warm start at round 7
Performing server side distillation training...
[2m[36m(launch_and_fit pid=293962)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=293966)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=293968)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=293965)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=293964)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=293963)[0m double free or corruption (fasttop)
E0726 13:02:20.980588012  249022 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.02641540321148932, val accuracy : 0.7119, best val accuracy : 0.725
Average local training loss : 3.9472712615504855
Average local training accuracy : 0.8952069444444445
INFO flwr 2023-07-26 13:03:28,109 | server.py:116 | fit progress: (7, 1.240697640991211, {'server_test_acc': 0.7274}, 1126.0812448180513)
INFO flwr 2023-07-26 13:03:28,109 | server.py:163 | evaluate_round 7: no clients selected, cancel
Cluster score for round 8 = 2209.48583984375
INFO flwr 2023-07-26 13:03:36,194 | fed_df.py:230 | Number of selected crops : 8783
DEBUG flwr 2023-07-26 13:03:38,704 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=437369)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=437372)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=437376)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:04:57,291 | server.py:229 | fit_round 8 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=437369)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=437371)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=437372)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=437376)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=437373)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=437370)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=437375)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=437374)[0m Fitting Client 9
Warm start at round 8
Performing server side distillation training...
[2m[36m(launch_and_fit pid=437371)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=437375)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=437373)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=437374)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=437370)[0m malloc_consolidate(): invalid chunk size
E0726 13:04:59.861879667  529760 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
E0726 13:05:10.255406642  537355 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.030776088912039996, val accuracy : 0.72126, best val accuracy : 0.732
Average local training loss : 3.855765899084508
Average local training accuracy : 0.9043249999999999
INFO flwr 2023-07-26 13:06:06,814 | server.py:116 | fit progress: (8, 1.1280149810791016, {'server_test_acc': 0.7287}, 1284.7866478359792)
INFO flwr 2023-07-26 13:06:06,815 | server.py:163 | evaluate_round 8: no clients selected, cancel
Cluster score for round 9 = 3040.67431640625
INFO flwr 2023-07-26 13:06:15,104 | fed_df.py:230 | Number of selected crops : 7954
DEBUG flwr 2023-07-26 13:06:17,504 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=581490)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=581495)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=581489)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=581498)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:07:36,821 | server.py:229 | fit_round 9 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=581489)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=581490)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=581493)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=581494)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=581497)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=581498)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=581496)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=581495)[0m Fitting Client 3
Warm start at round 9
Performing server side distillation training...
[2m[36m(launch_and_fit pid=581494)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=581497)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=581496)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=581493)[0m double free or corruption (fasttop)
E0726 13:07:40.044597256  537736 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.029473571076989172, val accuracy : 0.72298, best val accuracy : 0.7312
Average local training loss : 3.680666482076049
Average local training accuracy : 0.9182319444444443
INFO flwr 2023-07-26 13:08:51,548 | server.py:116 | fit progress: (9, 1.3588177276611328, {'server_test_acc': 0.7296}, 1449.5204348720144)
INFO flwr 2023-07-26 13:08:51,548 | server.py:163 | evaluate_round 9: no clients selected, cancel
Cluster score for round 10 = 401.26568603515625
INFO flwr 2023-07-26 13:08:59,771 | fed_df.py:230 | Number of selected crops : 9004
DEBUG flwr 2023-07-26 13:09:02,409 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=770248)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=770250)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=770254)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:10:21,659 | server.py:229 | fit_round 10 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=770255)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=770248)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=770250)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=770252)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=770251)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=770253)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=770255)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=770249)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=770254)[0m Fitting Client 0
Warm start at round 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=770252)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=770251)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=770249)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=770253)[0m malloc_consolidate(): invalid chunk size
E0726 13:10:24.624854419  699550 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.03748257613554597, val accuracy : 0.72872, best val accuracy : 0.7404
Average local training loss : 3.5749108634889124
Average local training accuracy : 0.9276083333333333
INFO flwr 2023-07-26 13:11:31,096 | server.py:116 | fit progress: (10, 1.1971551330566406, {'server_test_acc': 0.7381}, 1609.0680020820582)
INFO flwr 2023-07-26 13:11:31,096 | server.py:163 | evaluate_round 10: no clients selected, cancel
Cluster score for round 11 = 1052.4483642578125
INFO flwr 2023-07-26 13:11:39,215 | fed_df.py:230 | Number of selected crops : 7896
DEBUG flwr 2023-07-26 13:11:41,898 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=915662)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:13:01,601 | server.py:229 | fit_round 11 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=915669)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=915664)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=915668)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=915662)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=915664)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=915670)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=915668)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=915671)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=915667)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=915666)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=915669)[0m Fitting Client 18
Warm start at round 11
Performing server side distillation training...
[2m[36m(launch_and_fit pid=915670)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=915667)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=915671)[0m double free or corruption (fasttop)
E0726 13:13:02.890225553 1007435 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
[2m[36m(launch_and_fit pid=915666)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.02890342694334686, val accuracy : 0.74178, best val accuracy : 0.755
Average local training loss : 3.503208507597446
Average local training accuracy : 0.932676388888889
INFO flwr 2023-07-26 13:14:16,830 | server.py:116 | fit progress: (11, 1.0781822998046875, {'server_test_acc': 0.7478}, 1774.8028943319805)
INFO flwr 2023-07-26 13:14:16,831 | server.py:163 | evaluate_round 11: no clients selected, cancel
Cluster score for round 12 = 1509.6085205078125
INFO flwr 2023-07-26 13:14:25,073 | fed_df.py:230 | Number of selected crops : 7658
DEBUG flwr 2023-07-26 13:14:27,421 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1109860)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:15:47,735 | server.py:229 | fit_round 12 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1109530)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1109853)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1109851)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1109852)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1109860)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1109859)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1109862)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1109861)[0m Fitting Client 8
Warm start at round 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1109530)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1109859)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1109852)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1109861)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1109851)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1109853)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1109862)[0m double free or corruption (fasttop)
E0726 13:15:50.299008532 1007570 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.021978040480054913, val accuracy : 0.7503599999999999, best val accuracy : 0.7646
Average local training loss : 3.528680257499218
Average local training accuracy : 0.9290263888888888
INFO flwr 2023-07-26 13:17:07,011 | server.py:116 | fit progress: (12, 1.0541097106933595, {'server_test_acc': 0.7546}, 1944.983303955989)
INFO flwr 2023-07-26 13:17:07,011 | server.py:163 | evaluate_round 12: no clients selected, cancel
Cluster score for round 13 = 1240.48779296875
INFO flwr 2023-07-26 13:17:15,235 | fed_df.py:230 | Number of selected crops : 8549
DEBUG flwr 2023-07-26 13:17:17,673 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1392297)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1392167)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:18:36,756 | server.py:229 | fit_round 13 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1392164)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1392167)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1392296)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1392297)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1392298)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1392166)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1392294)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1392035)[0m Fitting Client 0
Warm start at round 13
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1392164)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1392166)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1392035)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1392296)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1392294)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1392298)[0m double free or corruption (fasttop)
E0726 13:18:39.825726809 1265385 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.033897453187033535, val accuracy : 0.7364600000000001, best val accuracy : 0.7514
Average local training loss : 3.379731719195843
Average local training accuracy : 0.9400222222222222
INFO flwr 2023-07-26 13:19:50,567 | server.py:116 | fit progress: (13, 1.0400231964111328, {'server_test_acc': 0.7457}, 2108.5397382890806)
INFO flwr 2023-07-26 13:19:50,568 | server.py:163 | evaluate_round 13: no clients selected, cancel
Cluster score for round 14 = 2297.9931640625
INFO flwr 2023-07-26 13:19:58,814 | fed_df.py:230 | Number of selected crops : 7036
DEBUG flwr 2023-07-26 13:20:01,017 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1663573)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1663672)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:21:20,095 | server.py:229 | fit_round 14 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1663800)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1663573)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1663672)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1663574)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1663606)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1663605)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1663801)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1663736)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1663800)[0m Fitting Client 11
Warm start at round 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1663801)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1663574)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1663605)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1663606)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1663736)[0m malloc_consolidate(): invalid chunk size
E0726 13:21:24.874208643 1819057 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.027446895660832523, val accuracy : 0.73854, best val accuracy : 0.754
Average local training loss : 3.4190272333100435
Average local training accuracy : 0.9357263888888888
INFO flwr 2023-07-26 13:22:41,929 | server.py:116 | fit progress: (14, 0.9948818817138672, {'server_test_acc': 0.754}, 2279.901672036969)
INFO flwr 2023-07-26 13:22:41,930 | server.py:163 | evaluate_round 14: no clients selected, cancel
Cluster score for round 15 = 2002.84912109375
INFO flwr 2023-07-26 13:22:50,124 | fed_df.py:230 | Number of selected crops : 7305
DEBUG flwr 2023-07-26 13:22:52,461 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1921138)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1921154)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1921143)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:24:10,600 | server.py:229 | fit_round 15 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1921138)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1921143)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1921150)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1921144)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1921146)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1921154)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1921156)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1921155)[0m Fitting Client 19
Warm start at round 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1921156)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1921144)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1921146)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1921150)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1921155)[0m double free or corruption (fasttop)
E0726 13:24:13.369861379 2024614 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.030656898217275737, val accuracy : 0.72934, best val accuracy : 0.7378
Average local training loss : 3.270932571776211
Average local training accuracy : 0.9476611111111112
INFO flwr 2023-07-26 13:25:27,294 | server.py:116 | fit progress: (15, 1.0813430450439454, {'server_test_acc': 0.7416}, 2445.26672912098)
INFO flwr 2023-07-26 13:25:27,295 | server.py:163 | evaluate_round 15: no clients selected, cancel
Cluster score for round 16 = 1474.2430419921875
INFO flwr 2023-07-26 13:25:35,411 | fed_df.py:230 | Number of selected crops : 7352
DEBUG flwr 2023-07-26 13:25:37,884 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 13:26:56,894 | server.py:229 | fit_round 16 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2083366)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2083365)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2083364)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2083363)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2083366)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2083369)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2083367)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2083370)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2083368)[0m Fitting Client 18
Warm start at round 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2083368)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2083370)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2083367)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2083369)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2083364)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2083363)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2083365)[0m malloc_consolidate(): invalid chunk size
E0726 13:27:00.144213348 2174888 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.037270245146006346, val accuracy : 0.7331000000000001, best val accuracy : 0.7472
Average local training loss : 3.2313583735376596
Average local training accuracy : 0.9505402777777777
INFO flwr 2023-07-26 13:28:13,596 | server.py:116 | fit progress: (16, 1.0780441772460938, {'server_test_acc': 0.7469}, 2611.5687129560392)
INFO flwr 2023-07-26 13:28:13,597 | server.py:163 | evaluate_round 16: no clients selected, cancel
Cluster score for round 17 = 1855.3475341796875
INFO flwr 2023-07-26 13:28:21,711 | fed_df.py:230 | Number of selected crops : 6791
DEBUG flwr 2023-07-26 13:28:23,925 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2233808)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2233807)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2233815)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:29:42,827 | server.py:229 | fit_round 17 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2233807)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2233808)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2233810)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2233812)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2233811)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2233813)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2233814)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2233815)[0m Fitting Client 17
Warm start at round 17
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2233812)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2233813)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2233814)[0m malloc_consolidate(): invalid chunk size
E0726 13:29:44.066047831 2324701 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=2233810)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2233811)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.028784958912059663, val accuracy : 0.7524200000000001, best val accuracy : 0.7686
Average local training loss : 3.31769298221916
Average local training accuracy : 0.9434361111111111
INFO flwr 2023-07-26 13:31:01,933 | server.py:116 | fit progress: (17, 0.9760016998291016, {'server_test_acc': 0.7688}, 2779.905017795041)
INFO flwr 2023-07-26 13:31:01,933 | server.py:163 | evaluate_round 17: no clients selected, cancel
Cluster score for round 18 = 2088.253662109375
INFO flwr 2023-07-26 13:31:10,079 | fed_df.py:230 | Number of selected crops : 6889
DEBUG flwr 2023-07-26 13:31:12,317 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2386506)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:32:31,104 | server.py:229 | fit_round 18 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2386507)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2386507)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2386506)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2386509)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2386512)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2386511)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2386513)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2386515)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2386514)[0m Fitting Client 1
Warm start at round 18
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2386511)[0m malloc_consolidate(): invalid chunk size
E0726 13:32:31.890763567 2476908 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=2386515)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2386514)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2386512)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2386513)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2386509)[0m malloc_consolidate(): invalid chunk size
E0726 13:33:25.362208420 2477143 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.030269528064876795, val accuracy : 0.7584, best val accuracy : 0.7696
Average local training loss : 3.222171615064145
Average local training accuracy : 0.9519624999999999
INFO flwr 2023-07-26 13:33:51,125 | server.py:116 | fit progress: (18, 0.9778562072753906, {'server_test_acc': 0.7706}, 2949.097324670991)
INFO flwr 2023-07-26 13:33:51,125 | server.py:163 | evaluate_round 18: no clients selected, cancel
Cluster score for round 19 = 1922.23095703125
INFO flwr 2023-07-26 13:33:59,309 | fed_df.py:230 | Number of selected crops : 7190
DEBUG flwr 2023-07-26 13:34:01,578 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2573144)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2573301)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2573232)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2573145)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:35:20,580 | server.py:229 | fit_round 19 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2573144)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2573145)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2573301)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2573232)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2573300)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2573303)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2573141)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2573302)[0m Fitting Client 3
Warm start at round 19
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2573303)[0m double free or corruption (fasttop)
E0726 13:35:21.598136113 2525984 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=2573302)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2573141)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2573300)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.034031142013147476, val accuracy : 0.7582199999999999, best val accuracy : 0.7702
Average local training loss : 3.246729345060885
Average local training accuracy : 0.9489194444444445
INFO flwr 2023-07-26 13:36:38,948 | server.py:116 | fit progress: (19, 0.9448493743896484, {'server_test_acc': 0.7713}, 3116.920488653006)
INFO flwr 2023-07-26 13:36:38,948 | server.py:163 | evaluate_round 19: no clients selected, cancel
Cluster score for round 20 = 2509.7529296875
INFO flwr 2023-07-26 13:36:47,156 | fed_df.py:230 | Number of selected crops : 6907
DEBUG flwr 2023-07-26 13:36:49,386 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2838054)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2838064)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2838057)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:38:08,322 | server.py:229 | fit_round 20 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2838054)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2838057)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2838059)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2838060)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2838061)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2838064)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2838062)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2838063)[0m Fitting Client 12
Warm start at round 20
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2838059)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2838060)[0m malloc_consolidate(): invalid chunk size
E0726 13:38:09.265545621 2717944 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=2838062)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2838061)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2838063)[0m malloc_consolidate(): invalid chunk size
E0726 13:38:40.708996667 2984419 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.02590826343372464, val accuracy : 0.7603199999999999, best val accuracy : 0.7768
Average local training loss : 3.275175786204636
Average local training accuracy : 0.9463680555555556
INFO flwr 2023-07-26 13:39:30,113 | server.py:116 | fit progress: (20, 0.9612847412109375, {'server_test_acc': 0.778}, 3288.085339479032)
INFO flwr 2023-07-26 13:39:30,113 | server.py:163 | evaluate_round 20: no clients selected, cancel
Cluster score for round 21 = 1717.99169921875
INFO flwr 2023-07-26 13:39:38,436 | fed_df.py:230 | Number of selected crops : 7162
DEBUG flwr 2023-07-26 13:39:40,681 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3151508)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:40:59,291 | server.py:229 | fit_round 21 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3151374)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3151374)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3151379)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3151377)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3151508)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3151378)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3151510)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3151509)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3151376)[0m Fitting Client 3
Warm start at round 21
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3151376)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3151379)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3151510)[0m malloc_consolidate(): invalid chunk size
E0726 13:41:00.591126982 3050417 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=3151378)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3151377)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3151509)[0m double free or corruption (fasttop)
E0726 13:41:36.019090695 3325712 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.04213735697418451, val accuracy : 0.7475799999999999, best val accuracy : 0.7564
Average local training loss : 3.175048447772861
Average local training accuracy : 0.9536555555555556
INFO flwr 2023-07-26 13:42:20,711 | server.py:116 | fit progress: (21, 1.0175458343505859, {'server_test_acc': 0.764}, 3458.6835166220553)
INFO flwr 2023-07-26 13:42:20,711 | server.py:163 | evaluate_round 21: no clients selected, cancel
Cluster score for round 22 = 2176.581787109375
INFO flwr 2023-07-26 13:42:28,829 | fed_df.py:230 | Number of selected crops : 6390
DEBUG flwr 2023-07-26 13:42:30,935 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3361511)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:43:49,574 | server.py:229 | fit_round 22 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3361507)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3361509)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3361508)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3361511)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3361514)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3361512)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3361515)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3361513)[0m Fitting Client 11
Warm start at round 22
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3361507)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3361509)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3361512)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3361515)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3361514)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3361513)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3361508)[0m malloc_consolidate(): invalid chunk size
E0726 13:43:52.611327931 3453166 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.035191502768546344, val accuracy : 0.7491199999999999, best val accuracy : 0.7692
Average local training loss : 3.232185489870608
Average local training accuracy : 0.9495097222222223
INFO flwr 2023-07-26 13:45:13,502 | server.py:116 | fit progress: (22, 0.9549259185791016, {'server_test_acc': 0.7695}, 3631.474361206987)
INFO flwr 2023-07-26 13:45:13,502 | server.py:163 | evaluate_round 22: no clients selected, cancel
Cluster score for round 23 = 2507.335205078125
INFO flwr 2023-07-26 13:45:21,654 | fed_df.py:230 | Number of selected crops : 6497
DEBUG flwr 2023-07-26 13:45:23,759 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3518085)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:46:42,228 | server.py:229 | fit_round 23 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3518085)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3518088)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3518091)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3518090)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3518093)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3518089)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3518094)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3518092)[0m Fitting Client 16
Warm start at round 23
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3518089)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3518088)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3518091)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3518093)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3518090)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3518094)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3518092)[0m malloc_consolidate(): invalid chunk size
E0726 13:46:45.270496508 3611042 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.030678545566275715, val accuracy : 0.76686, best val accuracy : 0.7842
Average local training loss : 3.2176198199391366
Average local training accuracy : 0.9508930555555554
INFO flwr 2023-07-26 13:48:05,929 | server.py:116 | fit progress: (23, 0.9337064086914062, {'server_test_acc': 0.7827}, 3803.901353119989)
INFO flwr 2023-07-26 13:48:05,929 | server.py:163 | evaluate_round 23: no clients selected, cancel
Cluster score for round 24 = 2301.173828125
INFO flwr 2023-07-26 13:48:14,272 | fed_df.py:230 | Number of selected crops : 6882
DEBUG flwr 2023-07-26 13:48:16,481 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3675722)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:49:35,387 | server.py:229 | fit_round 24 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3675720)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3675722)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3675721)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3675719)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3675726)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3675724)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3675723)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3675725)[0m Fitting Client 12
Warm start at round 24
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3675724)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3675720)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3675719)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3675725)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3675726)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3675723)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3675721)[0m double free or corruption (fasttop)
E0726 13:49:38.184863390 3611915 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.04011712646484375, val accuracy : 0.7489, best val accuracy : 0.7618
Average local training loss : 3.1565994463860987
Average local training accuracy : 0.9545486111111112
INFO flwr 2023-07-26 13:50:56,534 | server.py:116 | fit progress: (24, 0.9870966186523438, {'server_test_acc': 0.7633}, 3974.506029507029)
INFO flwr 2023-07-26 13:50:56,534 | server.py:163 | evaluate_round 24: no clients selected, cancel
Cluster score for round 25 = 1916.494140625
INFO flwr 2023-07-26 13:51:04,797 | fed_df.py:230 | Number of selected crops : 6455
DEBUG flwr 2023-07-26 13:51:06,926 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3828549)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3828543)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:52:25,835 | server.py:229 | fit_round 25 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3828544)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3828547)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3828544)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3828543)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3828548)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3828547)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3828550)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3828549)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3828541)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3828546)[0m Fitting Client 2
Warm start at round 25
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3828548)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3828550)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3828541)[0m malloc_consolidate(): invalid chunk size
E0726 13:52:27.446354235 3767701 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=3828546)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.032050270836800336, val accuracy : 0.76052, best val accuracy : 0.7766
Average local training loss : 3.164859911240637
Average local training accuracy : 0.9536472222222222
INFO flwr 2023-07-26 13:53:55,145 | server.py:116 | fit progress: (25, 0.9393042938232422, {'server_test_acc': 0.7762}, 4153.117829789058)
INFO flwr 2023-07-26 13:53:55,146 | server.py:163 | evaluate_round 25: no clients selected, cancel
Cluster score for round 26 = 1953.0302734375
INFO flwr 2023-07-26 13:54:03,378 | fed_df.py:230 | Number of selected crops : 6859
DEBUG flwr 2023-07-26 13:54:05,547 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=4004825)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4004830)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:55:23,816 | server.py:229 | fit_round 26 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=4004825)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=4004829)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=4004831)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=4004832)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=4004830)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=4004833)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=4004827)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=4004828)[0m Fitting Client 15
Warm start at round 26
Performing server side distillation training...
[2m[36m(launch_and_fit pid=4004829)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4004827)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4004831)[0m double free or corruption (fasttop)
E0726 13:55:24.916528965 4107457 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=4004828)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4004833)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4004832)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.04962784111127257, val accuracy : 0.75848, best val accuracy : 0.772
Average local training loss : 3.1420448798686262
Average local training accuracy : 0.9552722222222222
INFO flwr 2023-07-26 13:56:46,175 | server.py:116 | fit progress: (26, 0.9434187194824218, {'server_test_acc': 0.7784}, 4324.14731349505)
INFO flwr 2023-07-26 13:56:46,175 | server.py:163 | evaluate_round 26: no clients selected, cancel
Cluster score for round 27 = 2359.86572265625
INFO flwr 2023-07-26 13:56:54,337 | fed_df.py:230 | Number of selected crops : 6111
DEBUG flwr 2023-07-26 13:56:56,461 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=4169723)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4169725)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4169732)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:58:15,360 | server.py:229 | fit_round 27 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=4169724)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4169731)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4169723)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=4169729)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=4169727)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=4169730)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=4169725)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=4169732)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=4169724)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=4169731)[0m Fitting Client 16
Warm start at round 27
Performing server side distillation training...
[2m[36m(launch_and_fit pid=4169729)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4169727)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4169730)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.031242352532222867, val accuracy : 0.76718, best val accuracy : 0.7816
Average local training loss : 3.1345863880589606
Average local training accuracy : 0.9566958333333333
INFO flwr 2023-07-26 13:59:44,708 | server.py:116 | fit progress: (27, 0.9106905364990234, {'server_test_acc': 0.7781}, 4502.679999832064)
INFO flwr 2023-07-26 13:59:44,708 | server.py:163 | evaluate_round 27: no clients selected, cancel
Cluster score for round 28 = 1917.14013671875
INFO flwr 2023-07-26 13:59:52,982 | fed_df.py:230 | Number of selected crops : 6536
DEBUG flwr 2023-07-26 13:59:55,173 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=136703)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 14:01:13,566 | server.py:229 | fit_round 28 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=136702)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=136705)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=136703)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=136707)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=136708)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=136709)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=136706)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=136704)[0m Fitting Client 13
Warm start at round 28
Performing server side distillation training...
[2m[36m(launch_and_fit pid=136702)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=136706)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=136709)[0m malloc_consolidate(): invalid chunk size
E0726 14:01:14.745510292 4107793 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=136707)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=136708)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=136704)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=136705)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.04614207834377885, val accuracy : 0.78098, best val accuracy : 0.791
Average local training loss : 3.144241767190397
Average local training accuracy : 0.9550124999999999
INFO flwr 2023-07-26 14:02:39,436 | server.py:116 | fit progress: (28, 0.8639557220458984, {'server_test_acc': 0.792}, 4677.408167366055)
INFO flwr 2023-07-26 14:02:39,436 | server.py:163 | evaluate_round 28: no clients selected, cancel
Cluster score for round 29 = 2713.97607421875
INFO flwr 2023-07-26 14:02:47,686 | fed_df.py:230 | Number of selected crops : 6244
DEBUG flwr 2023-07-26 14:02:49,774 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 14:04:11,022 | server.py:229 | fit_round 29 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=293331)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=293332)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=293323)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=293331)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=293328)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=293333)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=293330)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=293327)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=293329)[0m Fitting Client 19
Warm start at round 29
Performing server side distillation training...
[2m[36m(launch_and_fit pid=293327)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=293333)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=293328)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=293329)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=293332)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=293323)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=293330)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.03305270765721798, val accuracy : 0.7582, best val accuracy : 0.7762
Average local training loss : 3.07413388248533
Average local training accuracy : 0.9597638888888889
INFO flwr 2023-07-26 14:05:35,713 | server.py:116 | fit progress: (29, 0.9394744842529297, {'server_test_acc': 0.775}, 4853.685148993041)
INFO flwr 2023-07-26 14:05:35,713 | server.py:163 | evaluate_round 29: no clients selected, cancel
Cluster score for round 30 = 2040.4771728515625
INFO flwr 2023-07-26 14:05:44,125 | fed_df.py:230 | Number of selected crops : 6129
DEBUG flwr 2023-07-26 14:05:46,232 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=449901)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=449904)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:07:04,603 | server.py:229 | fit_round 30 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=449901)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=449904)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=449908)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=449905)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=449907)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=449906)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=449909)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=449910)[0m Fitting Client 1
Warm start at round 30
Performing server side distillation training...
[2m[36m(launch_and_fit pid=449908)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=449910)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=449909)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=449906)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=449905)[0m double free or corruption (fasttop)
E0726 14:07:06.306954925  227474 chttp2_transport.cc:1079]             ipv4:145.136.62.20:47353: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=449907)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.0443255488499999, val accuracy : 0.76152, best val accuracy : 0.7722
Average local training loss : 3.0859237514436244
Average local training accuracy : 0.9596236111111112
INFO flwr 2023-07-26 14:08:34,706 | server.py:116 | fit progress: (30, 0.995255044555664, {'server_test_acc': 0.7697}, 5032.678595419973)
INFO flwr 2023-07-26 14:08:34,706 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-07-26 14:08:34,707 | server.py:144 | FL finished in 5032.678976583062
INFO flwr 2023-07-26 14:08:34,707 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-07-26 14:08:34,708 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-07-26 14:08:34,708 | app.py:204 | app_fit: losses_centralized [(0, 2.3234217651367186), (1, 2.252591223144531), (2, 1.459553530883789), (3, 1.3736982391357422), (4, 1.3483908721923827), (5, 1.3911344421386718), (6, 1.2892646545410156), (7, 1.240697640991211), (8, 1.1280149810791016), (9, 1.3588177276611328), (10, 1.1971551330566406), (11, 1.0781822998046875), (12, 1.0541097106933595), (13, 1.0400231964111328), (14, 0.9948818817138672), (15, 1.0813430450439454), (16, 1.0780441772460938), (17, 0.9760016998291016), (18, 0.9778562072753906), (19, 0.9448493743896484), (20, 0.9612847412109375), (21, 1.0175458343505859), (22, 0.9549259185791016), (23, 0.9337064086914062), (24, 0.9870966186523438), (25, 0.9393042938232422), (26, 0.9434187194824218), (27, 0.9106905364990234), (28, 0.8639557220458984), (29, 0.9394744842529297), (30, 0.995255044555664)]
INFO flwr 2023-07-26 14:08:34,708 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.108), (1, 0.3868), (2, 0.541), (3, 0.6359), (4, 0.6753), (5, 0.6986), (6, 0.7052), (7, 0.7274), (8, 0.7287), (9, 0.7296), (10, 0.7381), (11, 0.7478), (12, 0.7546), (13, 0.7457), (14, 0.754), (15, 0.7416), (16, 0.7469), (17, 0.7688), (18, 0.7706), (19, 0.7713), (20, 0.778), (21, 0.764), (22, 0.7695), (23, 0.7827), (24, 0.7633), (25, 0.7762), (26, 0.7784), (27, 0.7781), (28, 0.792), (29, 0.775), (30, 0.7697)]}
malloc_consolidate(): invalid chunk size
srun: error: gcn20: task 0: Aborted
srun: Terminating StepId=3152570.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3152570
Cluster: snellius
User/Group: sunnys/sunnys
State: RUNNING
Nodes: 1
Cores per node: 18
CPU Utilized: 03:01:56
CPU Efficiency: 11.14% of 1-03:13:12 core-walltime
Job Wall-clock time: 01:30:44
Memory Utilized: 60.77 GB
Memory Efficiency: 50.64% of 120.00 GB
WARNING: Efficiency statistics may be misleading for RUNNING jobs.
