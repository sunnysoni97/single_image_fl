-----BEGIN-----
-----SETTINGS-----
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:cifar10
PARTITION_ALPHA:10.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:40
LOCAL_LR:0.05
DISTILL_BATCH_SIZE:512
SERVER_LR:0.005
SERVER_STEPS:500
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
SEED:1227
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:ameyoko.jpg
DISTILL_DATASET:cifar100
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:10000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:1
KMEANS_N_CLUSTER:50
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
CONFIDENCE_THRESHOLD:0.9
CONFIDENCE_MIN_CROPS:2500
CLIPPING_FACTOR:2.5
FEDPROX_FACTOR:1.0
FEDPROX_ADAPTIVE:False
USE_CLIPPING:True
USE_ENTROPY:True
USE_KMEANS:True
USE_FEDPROX:False
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=100000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/ameyoko.jpg', targetpath='/scratch-local/sunnys.3152572/1690367935_723330901', seed=1227, img_per_thread=5555)
will save 100000 patches in /scratch-local/sunnys.3152572/1690367935_723330901/single_img_crops/crops
100000 took 0.80min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-07-26 12:40:00,885 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-07-26 12:40:00,885 | simulate.py:55 | Reading args from argument parser
Downloading https://www.cs.toronto.edu/~kriz/cifar-10-python.tar.gz to /scratch-local/sunnys.3152572/1690367935_723330901/cifar-10-python.tar.gz
Extracting /scratch-local/sunnys.3152572/1690367935_723330901/cifar-10-python.tar.gz to /scratch-local/sunnys.3152572/1690367935_723330901
Generating unified cifar10 dataset
Class histogram for 0-th partition (alpha=10.0, 10 classes): [364 338 239 145 185 263 222 248 152 344]
INFO flwr 2023-07-26 12:40:34,152 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-07-26 12:40:37,215	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8265 [39m[22m
INFO flwr 2023-07-26 12:40:38,266 | app.py:179 | Flower VCE: Ray initialized with resources: {'GPU': 1.0, 'CPU': 18.0, 'node:145.136.62.24': 1.0, 'object_store_memory': 61847529062.0, 'accelerator_type:A100': 1.0, 'memory': 103079215104.0}
INFO flwr 2023-07-26 12:40:38,266 | server.py:86 | Initializing global parameters
INFO flwr 2023-07-26 12:40:38,266 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-07-26 12:40:38,266 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-07-26 12:40:47,354 | server.py:91 | initial parameters (loss, other metrics): 2.4661781799316405, {'server_test_acc': 0.0915}
INFO flwr 2023-07-26 12:40:47,354 | server.py:101 | FL starting
Cluster score for round 1 = 33543.17578125
INFO flwr 2023-07-26 12:40:54,791 | fed_df.py:230 | Number of selected crops : 10000
DEBUG flwr 2023-07-26 12:40:57,583 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2079301)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2079307)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:42:24,988 | server.py:229 | fit_round 1 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2079303)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2079303)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2079302)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2079305)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2079308)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2079301)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2079304)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2079307)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2079306)[0m Fitting Client 16
Warm start at round 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2079302)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2079304)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2079305)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2079306)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2079308)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.41983990687131884, val accuracy : 0.38508000000000003, best val accuracy : 0.422
Average local training loss : 8.566471590474249
Average local training accuracy : 0.41067222222222227
INFO flwr 2023-07-26 12:43:33,683 | server.py:116 | fit progress: (1, 1.7891275756835938, {'server_test_acc': 0.4233}, 166.3295548959868)
INFO flwr 2023-07-26 12:43:33,684 | server.py:163 | evaluate_round 1: no clients selected, cancel
Cluster score for round 2 = 86165.171875
INFO flwr 2023-07-26 12:43:41,725 | fed_df.py:230 | Number of selected crops : 7621
DEBUG flwr 2023-07-26 12:43:44,085 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2359896)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2359901)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:45:06,682 | server.py:229 | fit_round 2 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2359904)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2359896)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2359901)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2359904)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2359902)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2359906)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2359903)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2359900)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2359905)[0m Fitting Client 10
Warm start at round 2
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2359906)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2359900)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2359902)[0m malloc_consolidate(): invalid chunk size
E0726 12:45:08.224677938 2072619 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
[2m[36m(launch_and_fit pid=2359903)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2359905)[0m malloc_consolidate(): invalid chunk size
E0726 12:45:53.626944868 2546723 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.06275289738178254, val accuracy : 0.54672, best val accuracy : 0.563
Average local training loss : 6.886138886958361
Average local training accuracy : 0.5820555555555554
INFO flwr 2023-07-26 12:46:27,593 | server.py:116 | fit progress: (2, 1.3978366027832032, {'server_test_acc': 0.5575}, 340.23920595808886)
INFO flwr 2023-07-26 12:46:27,593 | server.py:163 | evaluate_round 2: no clients selected, cancel
Cluster score for round 3 = 38921.6015625
INFO flwr 2023-07-26 12:46:35,919 | fed_df.py:230 | Number of selected crops : 7766
DEBUG flwr 2023-07-26 12:46:38,490 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2703783)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2703705)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2703780)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2703663)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:48:00,014 | server.py:229 | fit_round 3 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2703827)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2703781)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2703827)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2703828)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2703783)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2703663)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2703780)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2703705)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2703782)[0m Fitting Client 4
Warm start at round 3
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2703782)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2703828)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2703781)[0m corrupted size vs. prev_size in fastbins
E0726 12:48:04.339129187 2634443 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.02732082640286535, val accuracy : 0.6252800000000001, best val accuracy : 0.6358
Average local training loss : 5.274451813846826
Average local training accuracy : 0.7542319444444445
INFO flwr 2023-07-26 12:49:18,078 | server.py:116 | fit progress: (3, 1.3539945861816407, {'server_test_acc': 0.6297}, 510.72360280307475)
INFO flwr 2023-07-26 12:49:18,078 | server.py:163 | evaluate_round 3: no clients selected, cancel
Cluster score for round 4 = 15352.384765625
INFO flwr 2023-07-26 12:49:27,082 | fed_df.py:230 | Number of selected crops : 8896
DEBUG flwr 2023-07-26 12:49:29,642 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3000191)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:50:50,846 | server.py:229 | fit_round 4 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3000188)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3000191)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3000189)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3000194)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3000195)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3000192)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3000188)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3000193)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3000190)[0m Fitting Client 1
Warm start at round 4
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3000192)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3000194)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3000190)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3000195)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3000193)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3000189)[0m double free or corruption (fasttop)
E0726 12:50:54.156548471 3189228 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.031115281814709305, val accuracy : 0.6729799999999999, best val accuracy : 0.682
Average local training loss : 4.640234585478902
Average local training accuracy : 0.8268
INFO flwr 2023-07-26 12:52:02,456 | server.py:116 | fit progress: (4, 1.3431529083251954, {'server_test_acc': 0.6761}, 675.1016566040926)
INFO flwr 2023-07-26 12:52:02,456 | server.py:163 | evaluate_round 4: no clients selected, cancel
Cluster score for round 5 = 5374.03125
INFO flwr 2023-07-26 12:52:10,651 | fed_df.py:230 | Number of selected crops : 8921
DEBUG flwr 2023-07-26 12:52:13,246 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3286301)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3286306)[0m corrupted size vs. prev_size in fastbins
DEBUG flwr 2023-07-26 12:53:33,626 | server.py:229 | fit_round 5 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3286297)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3286305)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3286297)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3286301)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3286303)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3286362)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3286305)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3286306)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3286304)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3286307)[0m Fitting Client 8
Warm start at round 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3286303)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3286362)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3286307)[0m double free or corruption (fasttop)
E0726 12:53:35.363598130 3190356 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
[2m[36m(launch_and_fit pid=3286304)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.02161738700326532, val accuracy : 0.68854, best val accuracy : 0.6972
Average local training loss : 4.159069832600653
Average local training accuracy : 0.8733166666666666
INFO flwr 2023-07-26 12:54:45,485 | server.py:116 | fit progress: (5, 1.4734020782470703, {'server_test_acc': 0.6916}, 838.1307299920591)
INFO flwr 2023-07-26 12:54:45,485 | server.py:163 | evaluate_round 5: no clients selected, cancel
Cluster score for round 6 = 1367.7628173828125
INFO flwr 2023-07-26 12:54:53,764 | fed_df.py:230 | Number of selected crops : 9566
DEBUG flwr 2023-07-26 12:54:56,662 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3573828)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3573775)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3573778)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3573813)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3573776)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:56:19,459 | server.py:229 | fit_round 6 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3573777)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3573773)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3573776)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3573773)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3573775)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3573774)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3573777)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3573828)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3573778)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3573813)[0m Fitting Client 7
Warm start at round 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3573774)[0m double free or corruption (fasttop)
E0726 12:56:22.473595145 3474244 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.028656410066410898, val accuracy : 0.7020200000000001, best val accuracy : 0.7112
Average local training loss : 4.068418756499886
Average local training accuracy : 0.8870305555555555
INFO flwr 2023-07-26 12:57:28,478 | server.py:116 | fit progress: (6, 1.4752143127441406, {'server_test_acc': 0.708}, 1001.1244971189881)
INFO flwr 2023-07-26 12:57:28,479 | server.py:163 | evaluate_round 6: no clients selected, cancel
Cluster score for round 7 = 645.9357299804688
INFO flwr 2023-07-26 12:57:36,805 | fed_df.py:230 | Number of selected crops : 9440
DEBUG flwr 2023-07-26 12:57:39,767 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3857186)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3857194)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3857179)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3857196)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3857176)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3857195)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:59:02,409 | server.py:229 | fit_round 7 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3857180)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3857176)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3857179)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3857186)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3857180)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3857182)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3857195)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3857194)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3857196)[0m Fitting Client 11
Warm start at round 7
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3857182)[0m malloc_consolidate(): invalid chunk size
E0726 12:59:05.163075137 4045933 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.026055423233658077, val accuracy : 0.7133, best val accuracy : 0.7192
Average local training loss : 3.8608130482956766
Average local training accuracy : 0.9056791666666668
INFO flwr 2023-07-26 13:00:11,350 | server.py:116 | fit progress: (7, 1.4019164947509766, {'server_test_acc': 0.7183}, 1163.99622468499)
INFO flwr 2023-07-26 13:00:11,350 | server.py:163 | evaluate_round 7: no clients selected, cancel
Cluster score for round 8 = 541.4493408203125
INFO flwr 2023-07-26 13:00:19,604 | fed_df.py:230 | Number of selected crops : 9362
DEBUG flwr 2023-07-26 13:00:22,354 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=4140508)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:01:43,006 | server.py:229 | fit_round 8 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=4140506)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4140506)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=4140508)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=4140513)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=4140511)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=4140514)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=4140515)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=4140512)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=4140516)[0m Fitting Client 0
Warm start at round 8
Performing server side distillation training...
[2m[36m(launch_and_fit pid=4140511)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4140512)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4140516)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4140513)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4140514)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4140515)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.03059354995191097, val accuracy : 0.72088, best val accuracy : 0.7284
Average local training loss : 3.6842390703037378
Average local training accuracy : 0.9190055555555555
INFO flwr 2023-07-26 13:02:52,715 | server.py:116 | fit progress: (8, 1.3711619567871094, {'server_test_acc': 0.7198}, 1325.3606870960211)
INFO flwr 2023-07-26 13:02:52,715 | server.py:163 | evaluate_round 8: no clients selected, cancel
Cluster score for round 9 = 650.3280029296875
INFO flwr 2023-07-26 13:03:00,918 | fed_df.py:230 | Number of selected crops : 9251
DEBUG flwr 2023-07-26 13:03:03,690 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=275022)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=275023)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=275024)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=275026)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=275028)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:04:26,248 | server.py:229 | fit_round 9 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=275023)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=275022)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=275001)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=275027)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=275025)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=275024)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=275028)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=275026)[0m Fitting Client 2
Warm start at round 9
Performing server side distillation training...
[2m[36m(launch_and_fit pid=275001)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=275027)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=275025)[0m double free or corruption (fasttop)
E0726 13:04:30.581448014 4046339 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.02890593685209751, val accuracy : 0.7219, best val accuracy : 0.7304
Average local training loss : 3.6680034110322595
Average local training accuracy : 0.9210666666666667
INFO flwr 2023-07-26 13:05:35,531 | server.py:116 | fit progress: (9, 1.3226185272216797, {'server_test_acc': 0.7336}, 1488.1772929430008)
INFO flwr 2023-07-26 13:05:35,531 | server.py:163 | evaluate_round 9: no clients selected, cancel
Cluster score for round 10 = 594.5892333984375
INFO flwr 2023-07-26 13:05:43,756 | fed_df.py:230 | Number of selected crops : 9045
DEBUG flwr 2023-07-26 13:05:46,422 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=561485)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=561488)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=561491)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:07:07,664 | server.py:229 | fit_round 10 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=561485)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=561490)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=561491)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=561492)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=561489)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=561494)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=561488)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=561493)[0m Fitting Client 0
Warm start at round 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=561490)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=561493)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=561489)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=561492)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=561494)[0m malloc_consolidate(): invalid chunk size
E0726 13:07:10.971218991  466227 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.02480886298790574, val accuracy : 0.7349, best val accuracy : 0.7454
Average local training loss : 3.599776294827461
Average local training accuracy : 0.9260694444444444
INFO flwr 2023-07-26 13:08:18,192 | server.py:116 | fit progress: (10, 1.3099840454101563, {'server_test_acc': 0.7355}, 1650.8381997160614)
INFO flwr 2023-07-26 13:08:18,192 | server.py:163 | evaluate_round 10: no clients selected, cancel
Cluster score for round 11 = 399.5166320800781
INFO flwr 2023-07-26 13:08:26,576 | fed_df.py:230 | Number of selected crops : 9350
DEBUG flwr 2023-07-26 13:08:29,346 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=851041)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:09:51,132 | server.py:229 | fit_round 11 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=851046)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=851041)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=851042)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=851046)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=851114)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=851045)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=851115)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=851184)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=851116)[0m Fitting Client 11
Warm start at round 11
Performing server side distillation training...
[2m[36m(launch_and_fit pid=851116)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=851115)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=851045)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=851114)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=851184)[0m malloc_consolidate(): invalid chunk size
E0726 13:09:52.806163372  747869 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
[2m[36m(launch_and_fit pid=851042)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.03167649595439434, val accuracy : 0.72658, best val accuracy : 0.731
Average local training loss : 3.5035468632355333
Average local training accuracy : 0.9309791666666666
INFO flwr 2023-07-26 13:11:07,087 | server.py:116 | fit progress: (11, 1.291830093383789, {'server_test_acc': 0.7327}, 1819.7334862900898)
INFO flwr 2023-07-26 13:11:07,088 | server.py:163 | evaluate_round 11: no clients selected, cancel
Cluster score for round 12 = 277.9844970703125
INFO flwr 2023-07-26 13:11:15,400 | fed_df.py:230 | Number of selected crops : 9167
DEBUG flwr 2023-07-26 13:11:18,377 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1143241)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1143242)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1143232)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:12:39,334 | server.py:229 | fit_round 12 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1143231)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1143242)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1143234)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1143233)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1143232)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1143241)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1143243)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1143244)[0m Fitting Client 19
Warm start at round 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1143234)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1143233)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1143243)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1143231)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1143231)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1143244)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.03278277905099094, val accuracy : 0.73552, best val accuracy : 0.7398
Average local training loss : 3.393772768974304
Average local training accuracy : 0.9402291666666667
INFO flwr 2023-07-26 13:13:56,538 | server.py:116 | fit progress: (12, 1.2990827423095703, {'server_test_acc': 0.7378}, 1989.183715777006)
INFO flwr 2023-07-26 13:13:56,538 | server.py:163 | evaluate_round 12: no clients selected, cancel
Cluster score for round 13 = 232.5345458984375
INFO flwr 2023-07-26 13:14:04,866 | fed_df.py:230 | Number of selected crops : 8993
DEBUG flwr 2023-07-26 13:14:07,716 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1436400)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1436407)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1436396)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1436411)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1436410)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:15:29,197 | server.py:229 | fit_round 13 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1436396)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1436400)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1436398)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1436407)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1436411)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1436409)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1436410)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1436408)[0m Fitting Client 7
Warm start at round 13
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1436409)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1436398)[0m double free or corruption (!prev)
[2m[36m(launch_and_fit pid=1436408)[0m malloc_consolidate(): invalid chunk size
E0726 13:15:32.322273319 1032250 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.028432870499789716, val accuracy : 0.74084, best val accuracy : 0.7518
Average local training loss : 3.3820959988981487
Average local training accuracy : 0.9420930555555556
INFO flwr 2023-07-26 13:16:42,325 | server.py:116 | fit progress: (13, 1.2672493774414062, {'server_test_acc': 0.7501}, 2154.9711326310644)
INFO flwr 2023-07-26 13:16:42,325 | server.py:163 | evaluate_round 13: no clients selected, cancel
Cluster score for round 14 = 175.4097900390625
INFO flwr 2023-07-26 13:16:50,772 | fed_df.py:230 | Number of selected crops : 9420
DEBUG flwr 2023-07-26 13:16:53,828 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1753366)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:18:13,966 | server.py:229 | fit_round 14 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1753308)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1753438)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1753366)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1753437)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1753436)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1753438)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1753435)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1753367)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1753308)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1753345)[0m Fitting Client 10
Warm start at round 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1753435)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1753437)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1753367)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1753436)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1753345)[0m double free or corruption (fasttop)
E0726 13:18:17.349243135 1612856 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.03989892585575581, val accuracy : 0.7463599999999999, best val accuracy : 0.7556
Average local training loss : 3.367293679341674
Average local training accuracy : 0.9407333333333333
INFO flwr 2023-07-26 13:19:24,423 | server.py:116 | fit progress: (14, 1.209239764404297, {'server_test_acc': 0.749}, 2317.0695743180113)
INFO flwr 2023-07-26 13:19:24,424 | server.py:163 | evaluate_round 14: no clients selected, cancel
Cluster score for round 15 = 247.61404418945312
INFO flwr 2023-07-26 13:19:32,798 | fed_df.py:230 | Number of selected crops : 8696
DEBUG flwr 2023-07-26 13:19:35,696 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 13:20:55,216 | server.py:229 | fit_round 15 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2055584)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2055763)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2055553)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2055623)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2055626)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2055693)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2055761)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2055762)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2055584)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2055763)[0m Fitting Client 15
Warm start at round 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2055761)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2055553)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2055626)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2055623)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2055693)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2055762)[0m double free or corruption (fasttop)
E0726 13:20:58.412082744 2222434 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.028801907695829868, val accuracy : 0.7491999999999999, best val accuracy : 0.7574
Average local training loss : 3.3636513851583003
Average local training accuracy : 0.9423972222222221
INFO flwr 2023-07-26 13:22:12,388 | server.py:116 | fit progress: (15, 1.1430338500976562, {'server_test_acc': 0.7532}, 2485.0337231510784)
INFO flwr 2023-07-26 13:22:12,388 | server.py:163 | evaluate_round 15: no clients selected, cancel
Cluster score for round 16 = 374.2544860839844
INFO flwr 2023-07-26 13:22:20,842 | fed_df.py:230 | Number of selected crops : 8849
DEBUG flwr 2023-07-26 13:22:23,512 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2352224)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2352260)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2352262)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:23:43,583 | server.py:229 | fit_round 16 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2352261)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2352224)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2352260)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2352262)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2352259)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2352261)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2352229)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2352230)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2352249)[0m Fitting Client 7
Warm start at round 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2352229)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2352249)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2352259)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2352230)[0m malloc_consolidate(): invalid chunk size
E0726 13:23:47.368094343 2512163 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.034012962063774466, val accuracy : 0.76394, best val accuracy : 0.7732
Average local training loss : 3.306798123382032
Average local training accuracy : 0.9453666666666667
INFO flwr 2023-07-26 13:24:57,697 | server.py:116 | fit progress: (16, 0.9642739990234375, {'server_test_acc': 0.7731}, 2650.343234079075)
INFO flwr 2023-07-26 13:24:57,697 | server.py:163 | evaluate_round 16: no clients selected, cancel
Cluster score for round 17 = 871.3839721679688
INFO flwr 2023-07-26 13:25:06,033 | fed_df.py:230 | Number of selected crops : 7745
DEBUG flwr 2023-07-26 13:25:08,482 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 13:26:27,750 | server.py:229 | fit_round 17 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2641013)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2641085)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2641011)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2641013)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2641002)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2641014)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2641015)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2641084)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2641085)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2641083)[0m Fitting Client 11
Warm start at round 17
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2641014)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2641002)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2641011)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2641083)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2641015)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2641084)[0m malloc_consolidate(): invalid chunk size
E0726 13:26:30.633690309 2516136 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.0333286160454154, val accuracy : 0.76586, best val accuracy : 0.772
Average local training loss : 3.2476963836699726
Average local training accuracy : 0.9490625
INFO flwr 2023-07-26 13:27:47,113 | server.py:116 | fit progress: (17, 0.9990279693603515, {'server_test_acc': 0.7665}, 2819.758669649018)
INFO flwr 2023-07-26 13:27:47,113 | server.py:163 | evaluate_round 17: no clients selected, cancel
Cluster score for round 18 = 1000.5673828125
INFO flwr 2023-07-26 13:27:55,748 | fed_df.py:230 | Number of selected crops : 7408
DEBUG flwr 2023-07-26 13:27:58,050 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2938944)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2939013)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2939086)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:29:17,410 | server.py:229 | fit_round 18 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2938944)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2939016)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2939087)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2939086)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2939015)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2939085)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2939013)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2939017)[0m Fitting Client 2
Warm start at round 18
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2939016)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=2939085)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2939087)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2939017)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2939015)[0m malloc_consolidate(): invalid chunk size
E0726 13:29:20.007709256 2800152 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.03179910945892334, val accuracy : 0.76544, best val accuracy : 0.7744
Average local training loss : 3.2234216755256058
Average local training accuracy : 0.9521083333333332
INFO flwr 2023-07-26 13:30:39,803 | server.py:116 | fit progress: (18, 0.9483097137451172, {'server_test_acc': 0.7784}, 2992.4491308960132)
INFO flwr 2023-07-26 13:30:39,803 | server.py:163 | evaluate_round 18: no clients selected, cancel
Cluster score for round 19 = 967.0452880859375
INFO flwr 2023-07-26 13:30:48,215 | fed_df.py:230 | Number of selected crops : 7155
DEBUG flwr 2023-07-26 13:30:50,493 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3241627)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:32:10,422 | server.py:229 | fit_round 19 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3241626)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3241554)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3241627)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3241554)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3241557)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3241556)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3241555)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3241626)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3241628)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3241558)[0m Fitting Client 10
Warm start at round 19
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3241557)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3241556)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3241555)[0m malloc_consolidate(): invalid chunk size
E0726 13:32:11.642624546 3095299 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=3241628)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3241558)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.03005646496452391, val accuracy : 0.76398, best val accuracy : 0.7724
Average local training loss : 3.222339181415737
Average local training accuracy : 0.9500458333333334
INFO flwr 2023-07-26 13:33:35,309 | server.py:116 | fit progress: (19, 0.9564915863037109, {'server_test_acc': 0.7727}, 3167.954794760095)
INFO flwr 2023-07-26 13:33:35,309 | server.py:163 | evaluate_round 19: no clients selected, cancel
Cluster score for round 20 = 966.1303100585938
INFO flwr 2023-07-26 13:33:43,736 | fed_df.py:230 | Number of selected crops : 7479
DEBUG flwr 2023-07-26 13:33:46,061 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3592361)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3592290)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3592288)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:35:05,454 | server.py:229 | fit_round 20 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3592363)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3592287)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3592361)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3592288)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3592360)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3592293)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3592362)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3592363)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3592290)[0m Fitting Client 2
Warm start at round 20
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3592362)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3592287)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3592293)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3592360)[0m malloc_consolidate(): invalid chunk size
E0726 13:35:09.081154233 3402568 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.03893258312903344, val accuracy : 0.76938, best val accuracy : 0.7756
Average local training loss : 3.226166209764779
Average local training accuracy : 0.9488916666666667
INFO flwr 2023-07-26 13:36:27,425 | server.py:116 | fit progress: (20, 0.9656023406982421, {'server_test_acc': 0.775}, 3340.071154957055)
INFO flwr 2023-07-26 13:36:27,425 | server.py:163 | evaluate_round 20: no clients selected, cancel
Cluster score for round 21 = 1300.6507568359375
INFO flwr 2023-07-26 13:36:35,814 | fed_df.py:230 | Number of selected crops : 6587
DEBUG flwr 2023-07-26 13:36:37,986 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3893783)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3893791)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:37:57,288 | server.py:229 | fit_round 21 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3893783)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3893702)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3893784)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3893791)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3893797)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3893816)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3893817)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3893818)[0m Fitting Client 14
Warm start at round 21
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3893784)[0m malloc_consolidate(): invalid chunk size
E0726 13:37:58.018563136 4048532 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=3893818)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3893816)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3893702)[0m malloc_consolidate(): invalid chunk size
E0726 13:37:58.757615156 4049315 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=3893817)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3893797)[0m corrupted size vs. prev_size in fastbins
Distillation training stopped at step number : 500
Average fusion training loss : 0.033717901088297364, val accuracy : 0.7752, best val accuracy : 0.7808
Average local training loss : 3.230868826806545
Average local training accuracy : 0.9500972222222221
INFO flwr 2023-07-26 13:39:26,327 | server.py:116 | fit progress: (21, 0.8959941864013672, {'server_test_acc': 0.782}, 3518.973556423094)
INFO flwr 2023-07-26 13:39:26,328 | server.py:163 | evaluate_round 21: no clients selected, cancel
Cluster score for round 22 = 1539.5819091796875
INFO flwr 2023-07-26 13:39:34,745 | fed_df.py:230 | Number of selected crops : 6839
DEBUG flwr 2023-07-26 13:39:36,985 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=12608)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=12748)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=12680)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:40:57,007 | server.py:229 | fit_round 22 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=12608)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=12678)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=12680)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=12677)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=12679)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=12749)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=12750)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=12748)[0m Fitting Client 9
Warm start at round 22
Performing server side distillation training...
[2m[36m(launch_and_fit pid=12678)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=12677)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=12679)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=12750)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=12749)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.03189245485700667, val accuracy : 0.7799999999999999, best val accuracy : 0.7848
Average local training loss : 3.1792635802179574
Average local training accuracy : 0.9538541666666667
INFO flwr 2023-07-26 13:42:21,094 | server.py:116 | fit progress: (22, 0.9323377990722657, {'server_test_acc': 0.7805}, 3693.740122733987)
INFO flwr 2023-07-26 13:42:21,094 | server.py:163 | evaluate_round 22: no clients selected, cancel
Cluster score for round 23 = 1446.53125
INFO flwr 2023-07-26 13:42:29,501 | fed_df.py:230 | Number of selected crops : 6732
DEBUG flwr 2023-07-26 13:42:31,753 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=319550)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=319476)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:43:50,758 | server.py:229 | fit_round 23 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=319476)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=319550)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=319549)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=319547)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=319548)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=319687)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=319686)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=319618)[0m Fitting Client 17
Warm start at round 23
Performing server side distillation training...
[2m[36m(launch_and_fit pid=319686)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=319618)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=319549)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=319547)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=319547)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=319548)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=319687)[0m malloc_consolidate(): invalid chunk size
E0726 13:43:53.412121607  181294 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.029098058799281717, val accuracy : 0.7718, best val accuracy : 0.7844
Average local training loss : 3.153462357632816
Average local training accuracy : 0.9558305555555556
INFO flwr 2023-07-26 13:45:14,082 | server.py:116 | fit progress: (23, 0.9658276885986328, {'server_test_acc': 0.7776}, 3866.728065951029)
INFO flwr 2023-07-26 13:45:14,082 | server.py:163 | evaluate_round 23: no clients selected, cancel
Cluster score for round 24 = 1222.50146484375
INFO flwr 2023-07-26 13:45:22,550 | fed_df.py:230 | Number of selected crops : 6781
DEBUG flwr 2023-07-26 13:45:24,813 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=625508)[0m corrupted size vs. prev_size in fastbins
DEBUG flwr 2023-07-26 13:46:44,313 | server.py:229 | fit_round 24 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=625647)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=625506)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=625508)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=625577)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=625648)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=625650)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=625647)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=625649)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=625646)[0m Fitting Client 15
Warm start at round 24
Performing server side distillation training...
[2m[36m(launch_and_fit pid=625506)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=625577)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=625646)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=625649)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=625648)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=625650)[0m malloc_consolidate(): invalid chunk size
E0726 13:46:47.048552048  794440 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.04129638886451721, val accuracy : 0.78318, best val accuracy : 0.7882
Average local training loss : 3.2022263538092375
Average local training accuracy : 0.9508083333333334
INFO flwr 2023-07-26 13:48:08,379 | server.py:116 | fit progress: (24, 0.8779688812255859, {'server_test_acc': 0.7856}, 4041.025495555019)
INFO flwr 2023-07-26 13:48:08,380 | server.py:163 | evaluate_round 24: no clients selected, cancel
Cluster score for round 25 = 1538.466796875
INFO flwr 2023-07-26 13:48:16,821 | fed_df.py:230 | Number of selected crops : 6528
DEBUG flwr 2023-07-26 13:48:19,030 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=954322)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=954318)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=954328)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=954317)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:49:39,744 | server.py:229 | fit_round 25 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=954321)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=954325)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=954317)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=954318)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=954328)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=954322)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=954320)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=954321)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=954324)[0m Fitting Client 6
Warm start at round 25
Performing server side distillation training...
[2m[36m(launch_and_fit pid=954325)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=954320)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=954324)[0m malloc_consolidate(): invalid chunk size
E0726 13:49:42.686024260  795663 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.043004226671531795, val accuracy : 0.77982, best val accuracy : 0.7848
Average local training loss : 3.1119994381442666
Average local training accuracy : 0.958201388888889
INFO flwr 2023-07-26 13:51:08,158 | server.py:116 | fit progress: (25, 0.9308148986816406, {'server_test_acc': 0.7828}, 4220.803649328067)
INFO flwr 2023-07-26 13:51:08,158 | server.py:163 | evaluate_round 25: no clients selected, cancel
Cluster score for round 26 = 1307.27880859375
INFO flwr 2023-07-26 13:51:16,519 | fed_df.py:230 | Number of selected crops : 6389
DEBUG flwr 2023-07-26 13:51:18,702 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1279092)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1279032)[0m corrupted size vs. prev_size in fastbins
DEBUG flwr 2023-07-26 13:52:38,588 | server.py:229 | fit_round 26 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1279206)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1279092)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1279208)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1279032)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1279203)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1279207)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1279209)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1279210)[0m Fitting Client 15
Warm start at round 26
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1279203)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1279206)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1279209)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1279210)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1279207)[0m corrupted size vs. prev_size in fastbins
Distillation training stopped at step number : 500
Average fusion training loss : 0.0420158458314836, val accuracy : 0.76518, best val accuracy : 0.7738
Average local training loss : 3.1280463540926573
Average local training accuracy : 0.9569472222222223
INFO flwr 2023-07-26 13:54:07,239 | server.py:116 | fit progress: (26, 0.9984541595458984, {'server_test_acc': 0.7669}, 4399.884673938039)
INFO flwr 2023-07-26 13:54:07,239 | server.py:163 | evaluate_round 26: no clients selected, cancel
Cluster score for round 27 = 379.1990966796875
INFO flwr 2023-07-26 13:54:15,586 | fed_df.py:230 | Number of selected crops : 7246
DEBUG flwr 2023-07-26 13:54:18,303 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1590075)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1590070)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:55:39,107 | server.py:229 | fit_round 27 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1590078)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1590070)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1590075)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1590079)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1590078)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1590074)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1590073)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1590077)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1590076)[0m Fitting Client 7
Warm start at round 27
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1590079)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1590074)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1590073)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1590076)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1590077)[0m malloc_consolidate(): invalid chunk size
E0726 13:55:42.831381151 1768241 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
E0726 13:55:42.831487327 1768241 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.0494110689163208, val accuracy : 0.78028, best val accuracy : 0.7838
Average local training loss : 3.1316656893119217
Average local training accuracy : 0.9560166666666666
INFO flwr 2023-07-26 13:57:00,038 | server.py:116 | fit progress: (27, 0.9490911865234375, {'server_test_acc': 0.7817}, 4572.683656301)
INFO flwr 2023-07-26 13:57:00,038 | server.py:163 | evaluate_round 27: no clients selected, cancel
Cluster score for round 28 = 477.371337890625
INFO flwr 2023-07-26 13:57:08,514 | fed_df.py:230 | Number of selected crops : 7054
DEBUG flwr 2023-07-26 13:57:11,176 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1891588)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1891586)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1891596)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:58:30,929 | server.py:229 | fit_round 28 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1891586)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1891588)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1891594)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1891595)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1891591)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1891593)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1891592)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1891596)[0m Fitting Client 3
Warm start at round 28
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1891595)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1891591)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1891594)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1891593)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1891592)[0m malloc_consolidate(): invalid chunk size
E0726 13:58:35.568368230 2062201 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.03808113983646035, val accuracy : 0.7727800000000001, best val accuracy : 0.7758
Average local training loss : 3.144460274465382
Average local training accuracy : 0.9545652777777778
INFO flwr 2023-07-26 13:59:54,744 | server.py:116 | fit progress: (28, 1.003218768310547, {'server_test_acc': 0.7704}, 4747.38999037107)
INFO flwr 2023-07-26 13:59:54,744 | server.py:163 | evaluate_round 28: no clients selected, cancel
Cluster score for round 29 = 296.93707275390625
INFO flwr 2023-07-26 14:00:03,149 | fed_df.py:230 | Number of selected crops : 7229
DEBUG flwr 2023-07-26 14:00:05,746 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2196921)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2196848)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2196851)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:01:25,748 | server.py:229 | fit_round 29 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2196847)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2196849)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2196848)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2196850)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2196851)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2196852)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2196921)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2196853)[0m Fitting Client 19
Warm start at round 29
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2196849)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2196853)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2196847)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2196852)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2196850)[0m malloc_consolidate(): invalid chunk size
E0726 14:01:29.080516022 2067368 chttp2_transport.cc:1079]             ipv4:145.136.62.24:49926: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.047635525833815334, val accuracy : 0.77816, best val accuracy : 0.7826
Average local training loss : 3.0725261690095067
Average local training accuracy : 0.959763888888889
INFO flwr 2023-07-26 14:02:46,594 | server.py:116 | fit progress: (29, 0.9931975341796875, {'server_test_acc': 0.7764}, 4919.239762106095)
INFO flwr 2023-07-26 14:02:46,594 | server.py:163 | evaluate_round 29: no clients selected, cancel
Cluster score for round 30 = 359.2973327636719
INFO flwr 2023-07-26 14:02:55,062 | fed_df.py:230 | Number of selected crops : 6771
DEBUG flwr 2023-07-26 14:02:57,714 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2494556)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:04:17,442 | server.py:229 | fit_round 30 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2494553)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2494554)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2494625)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2494556)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2494484)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2494626)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2494555)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2494624)[0m Fitting Client 1
Warm start at round 30
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2494554)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=2494624)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2494484)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2494553)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2494625)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2494626)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2494555)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.043813619699329134, val accuracy : 0.78842, best val accuracy : 0.7912
Average local training loss : 3.1655141578987247
Average local training accuracy : 0.9531069444444443
INFO flwr 2023-07-26 14:05:41,340 | server.py:116 | fit progress: (30, 0.9858156890869141, {'server_test_acc': 0.7808}, 5093.985592912999)
INFO flwr 2023-07-26 14:05:41,340 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-07-26 14:05:41,340 | server.py:144 | FL finished in 5093.985986526008
INFO flwr 2023-07-26 14:05:41,340 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-07-26 14:05:41,341 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-07-26 14:05:41,341 | app.py:204 | app_fit: losses_centralized [(0, 2.4661781799316405), (1, 1.7891275756835938), (2, 1.3978366027832032), (3, 1.3539945861816407), (4, 1.3431529083251954), (5, 1.4734020782470703), (6, 1.4752143127441406), (7, 1.4019164947509766), (8, 1.3711619567871094), (9, 1.3226185272216797), (10, 1.3099840454101563), (11, 1.291830093383789), (12, 1.2990827423095703), (13, 1.2672493774414062), (14, 1.209239764404297), (15, 1.1430338500976562), (16, 0.9642739990234375), (17, 0.9990279693603515), (18, 0.9483097137451172), (19, 0.9564915863037109), (20, 0.9656023406982421), (21, 0.8959941864013672), (22, 0.9323377990722657), (23, 0.9658276885986328), (24, 0.8779688812255859), (25, 0.9308148986816406), (26, 0.9984541595458984), (27, 0.9490911865234375), (28, 1.003218768310547), (29, 0.9931975341796875), (30, 0.9858156890869141)]
INFO flwr 2023-07-26 14:05:41,342 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.0915), (1, 0.4233), (2, 0.5575), (3, 0.6297), (4, 0.6761), (5, 0.6916), (6, 0.708), (7, 0.7183), (8, 0.7198), (9, 0.7336), (10, 0.7355), (11, 0.7327), (12, 0.7378), (13, 0.7501), (14, 0.749), (15, 0.7532), (16, 0.7731), (17, 0.7665), (18, 0.7784), (19, 0.7727), (20, 0.775), (21, 0.782), (22, 0.7805), (23, 0.7776), (24, 0.7856), (25, 0.7828), (26, 0.7669), (27, 0.7817), (28, 0.7704), (29, 0.7764), (30, 0.7808)]}
double free or corruption (fasttop)
srun: error: gcn24: task 0: Aborted
srun: Terminating StepId=3152572.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3152572
Cluster: snellius
User/Group: sunnys/sunnys
State: COMPLETED (exit code 0)
Nodes: 1
Cores per node: 18
CPU Utilized: 03:00:27
CPU Efficiency: 11.35% of 1-02:29:42 core-walltime
Job Wall-clock time: 01:28:19
Memory Utilized: 62.00 GB
Memory Efficiency: 51.67% of 120.00 GB
