-----BEGIN-----
-----SETTINGS-----
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:cifar10
PARTITION_ALPHA:10.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:40
LOCAL_LR:0.05
DISTILL_BATCH_SIZE:512
SERVER_LR:0.005
SERVER_STEPS:500
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
SEED:127
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:ameyoko.jpg
DISTILL_DATASET:cifar100
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:10000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:1
KMEANS_N_CLUSTER:50
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
CONFIDENCE_THRESHOLD:0.9
CONFIDENCE_MIN_CROPS:2500
CLIPPING_FACTOR:2.5
FEDPROX_FACTOR:1.0
FEDPROX_ADAPTIVE:False
USE_CLIPPING:True
USE_ENTROPY:True
USE_KMEANS:True
USE_FEDPROX:False
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=100000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/ameyoko.jpg', targetpath='/scratch-local/sunnys.3152571/1690367935_723364984', seed=127, img_per_thread=5555)
will save 100000 patches in /scratch-local/sunnys.3152571/1690367935_723364984/single_img_crops/crops
100000 took 1.03min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-07-26 12:40:09,469 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-07-26 12:40:09,469 | simulate.py:55 | Reading args from argument parser
Downloading https://www.cs.toronto.edu/~kriz/cifar-10-python.tar.gz to /scratch-local/sunnys.3152571/1690367935_723364984/cifar-10-python.tar.gz
Extracting /scratch-local/sunnys.3152571/1690367935_723364984/cifar-10-python.tar.gz to /scratch-local/sunnys.3152571/1690367935_723364984
Generating unified cifar10 dataset
Class histogram for 0-th partition (alpha=10.0, 10 classes): [168 280 148 366 230 296 258 287 163 304]
INFO flwr 2023-07-26 12:40:45,879 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-07-26 12:40:48,651	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8266 [39m[22m
INFO flwr 2023-07-26 12:40:49,805 | app.py:179 | Flower VCE: Ray initialized with resources: {'object_store_memory': 61847529062.0, 'GPU': 1.0, 'CPU': 18.0, 'node:145.136.62.24': 1.0, 'accelerator_type:A100': 1.0, 'memory': 103079215104.0}
INFO flwr 2023-07-26 12:40:49,806 | server.py:86 | Initializing global parameters
INFO flwr 2023-07-26 12:40:49,806 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-07-26 12:40:49,806 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-07-26 12:40:55,892 | server.py:91 | initial parameters (loss, other metrics): 2.3034546997070313, {'server_test_acc': 0.1285}
INFO flwr 2023-07-26 12:40:55,892 | server.py:101 | FL starting
Cluster score for round 1 = 15505.951171875
INFO flwr 2023-07-26 12:41:03,231 | fed_df.py:230 | Number of selected crops : 10000
DEBUG flwr 2023-07-26 12:41:06,000 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2082044)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:42:26,953 | server.py:229 | fit_round 1 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2082051)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2082045)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2082046)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2082044)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2082047)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2082045)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2082051)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2082048)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2082046)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2082050)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2082049)[0m Fitting Client 1
Warm start at round 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2082047)[0m double free or corruption (fasttop)
E0726 12:42:28.272494032 2076335 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
[2m[36m(launch_and_fit pid=2082050)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2082049)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2082048)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.419822162270546, val accuracy : 0.37314, best val accuracy : 0.3986
Average local training loss : 8.668157721683382
Average local training accuracy : 0.39519305555555556
INFO flwr 2023-07-26 12:43:27,725 | server.py:116 | fit progress: (1, 2.0440285034179686, {'server_test_acc': 0.4033}, 151.83216972695664)
INFO flwr 2023-07-26 12:43:27,725 | server.py:163 | evaluate_round 1: no clients selected, cancel
Cluster score for round 2 = 85147.3828125
INFO flwr 2023-07-26 12:43:35,846 | fed_df.py:230 | Number of selected crops : 6825
DEBUG flwr 2023-07-26 12:43:38,076 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2357440)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2357429)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:45:00,173 | server.py:229 | fit_round 2 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2357427)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2357441)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=2357438)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2357427)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2357435)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2357429)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2357438)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2357439)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2357440)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2357442)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2357441)[0m Fitting Client 16
Warm start at round 2
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2357442)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2357439)[0m double free or corruption (fasttop)
E0726 12:45:01.833592286 2533558 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
[2m[36m(launch_and_fit pid=2357435)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.05982106513530016, val accuracy : 0.54748, best val accuracy : 0.5648
Average local training loss : 7.143129917792976
Average local training accuracy : 0.5580624999999999
INFO flwr 2023-07-26 12:46:20,971 | server.py:116 | fit progress: (2, 1.3911231353759765, {'server_test_acc': 0.5575}, 325.07861446298193)
INFO flwr 2023-07-26 12:46:20,971 | server.py:163 | evaluate_round 2: no clients selected, cancel
Cluster score for round 3 = 37293.84375
INFO flwr 2023-07-26 12:46:29,475 | fed_df.py:230 | Number of selected crops : 8321
DEBUG flwr 2023-07-26 12:46:31,949 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2695479)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2695337)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2695338)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:47:53,709 | server.py:229 | fit_round 3 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2695351)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2695338)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2695337)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2695351)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2695421)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2695432)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2695478)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2695479)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2695454)[0m Fitting Client 7
Warm start at round 3
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2695421)[0m malloc_consolidate(): invalid chunk size
E0726 12:47:55.147304855 2534852 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
[2m[36m(launch_and_fit pid=2695432)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2695478)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2695454)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.025922771682962774, val accuracy : 0.61722, best val accuracy : 0.6276
Average local training loss : 5.411754877865314
Average local training accuracy : 0.7404138888888889
INFO flwr 2023-07-26 12:49:09,265 | server.py:116 | fit progress: (3, 1.4474539428710937, {'server_test_acc': 0.6101}, 493.37256818194874)
INFO flwr 2023-07-26 12:49:09,265 | server.py:163 | evaluate_round 3: no clients selected, cancel
Cluster score for round 4 = 8254.3994140625
INFO flwr 2023-07-26 12:49:17,523 | fed_df.py:230 | Number of selected crops : 8847
DEBUG flwr 2023-07-26 12:49:20,135 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2997849)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2997850)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:50:40,255 | server.py:229 | fit_round 4 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2997855)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2997849)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2997850)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2997851)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2997852)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2997854)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2997855)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2997853)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2997856)[0m Fitting Client 18
Warm start at round 4
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2997851)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2997852)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2997853)[0m malloc_consolidate(): invalid chunk size
E0726 12:50:42.044625974 3168850 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
[2m[36m(launch_and_fit pid=2997854)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2997856)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.024842022147029637, val accuracy : 0.67278, best val accuracy : 0.679
Average local training loss : 4.653272227011621
Average local training accuracy : 0.8245430555555555
INFO flwr 2023-07-26 12:51:52,313 | server.py:116 | fit progress: (4, 1.4467563018798828, {'server_test_acc': 0.6632}, 656.4203865909949)
INFO flwr 2023-07-26 12:51:52,313 | server.py:163 | evaluate_round 4: no clients selected, cancel
Cluster score for round 5 = 4077.39599609375
INFO flwr 2023-07-26 12:52:00,660 | fed_df.py:230 | Number of selected crops : 8666
DEBUG flwr 2023-07-26 12:52:03,205 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3283287)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3283426)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:53:24,267 | server.py:229 | fit_round 5 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3283424)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3283427)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3283428)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3283287)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3283426)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3283425)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3283424)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3283428)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3283427)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3283288)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3283356)[0m Fitting Client 18
Warm start at round 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3283425)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3283356)[0m malloc_consolidate(): invalid chunk size
E0726 12:53:25.952541568 3169403 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
[2m[36m(launch_and_fit pid=3283288)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.027268837753683328, val accuracy : 0.67534, best val accuracy : 0.684
Average local training loss : 4.191279447823763
Average local training accuracy : 0.8710694444444446
INFO flwr 2023-07-26 12:54:38,322 | server.py:116 | fit progress: (5, 1.5184411865234375, {'server_test_acc': 0.6756}, 822.4297712539556)
INFO flwr 2023-07-26 12:54:38,323 | server.py:163 | evaluate_round 5: no clients selected, cancel
Cluster score for round 6 = 1621.1689453125
INFO flwr 2023-07-26 12:54:46,582 | fed_df.py:230 | Number of selected crops : 9525
DEBUG flwr 2023-07-26 12:54:49,284 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3571480)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3571483)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3571488)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3571487)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3571485)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3571486)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3571482)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:56:12,210 | server.py:229 | fit_round 6 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3571480)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3571483)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3571487)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3571488)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3571486)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3571482)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3571485)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3571489)[0m Fitting Client 0
Warm start at round 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3571489)[0m malloc_consolidate(): invalid chunk size
E0726 12:56:13.532683768 3457473 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.03333688545227051, val accuracy : 0.7057, best val accuracy : 0.709
Average local training loss : 4.214933710172772
Average local training accuracy : 0.8715583333333332
INFO flwr 2023-07-26 12:57:21,177 | server.py:116 | fit progress: (6, 1.4637144775390625, {'server_test_acc': 0.7057}, 985.2843800699338)
INFO flwr 2023-07-26 12:57:21,177 | server.py:163 | evaluate_round 6: no clients selected, cancel
Cluster score for round 7 = 798.4494018554688
INFO flwr 2023-07-26 12:57:29,497 | fed_df.py:230 | Number of selected crops : 9239
DEBUG flwr 2023-07-26 12:57:32,138 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3854891)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:58:53,521 | server.py:229 | fit_round 7 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3854887)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3854878)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3854879)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3854878)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3854876)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3854887)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3854889)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3854890)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3854888)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3854891)[0m Fitting Client 13
Warm start at round 7
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3854876)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3854889)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3854890)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3854888)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3854879)[0m double free or corruption (fasttop)
E0726 12:58:56.608131913 4031687 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.03381678839214146, val accuracy : 0.7071400000000001, best val accuracy : 0.7176
Average local training loss : 3.8777500621974466
Average local training accuracy : 0.9021319444444444
INFO flwr 2023-07-26 13:00:02,880 | server.py:116 | fit progress: (7, 1.3673200866699218, {'server_test_acc': 0.7086}, 1146.987841340946)
INFO flwr 2023-07-26 13:00:02,881 | server.py:163 | evaluate_round 7: no clients selected, cancel
Cluster score for round 8 = 1666.8819580078125
INFO flwr 2023-07-26 13:00:11,287 | fed_df.py:230 | Number of selected crops : 8811
DEBUG flwr 2023-07-26 13:00:13,832 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=4138165)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:01:35,235 | server.py:229 | fit_round 8 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=4138156)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4138150)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=4138154)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=4138152)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=4138156)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=4138159)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=4138165)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=4138155)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=4138164)[0m Fitting Client 11
Warm start at round 8
Performing server side distillation training...
[2m[36m(launch_and_fit pid=4138150)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4138159)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4138155)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4138164)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4138154)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4138152)[0m malloc_consolidate(): invalid chunk size
E0726 13:02:09.563495284  192116 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.036095778895542024, val accuracy : 0.73086, best val accuracy : 0.7408
Average local training loss : 3.817969635128975
Average local training accuracy : 0.9073736111111109
INFO flwr 2023-07-26 13:02:46,609 | server.py:116 | fit progress: (8, 1.196687142944336, {'server_test_acc': 0.7242}, 1310.716947993962)
INFO flwr 2023-07-26 13:02:46,610 | server.py:163 | evaluate_round 8: no clients selected, cancel
Cluster score for round 9 = 2623.531982421875
INFO flwr 2023-07-26 13:02:54,878 | fed_df.py:230 | Number of selected crops : 8355
DEBUG flwr 2023-07-26 13:02:57,376 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=272533)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:04:18,595 | server.py:229 | fit_round 9 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=272536)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=272541)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=272533)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=272536)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=272537)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=272538)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=272542)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=272539)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=272541)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=272540)[0m Fitting Client 6
Warm start at round 9
Performing server side distillation training...
[2m[36m(launch_and_fit pid=272537)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=272542)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=272542)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=272538)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=272539)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=272540)[0m malloc_consolidate(): invalid chunk size
E0726 13:04:21.433627400  197075 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.03371138712950051, val accuracy : 0.73166, best val accuracy : 0.744
Average local training loss : 3.6220256652683016
Average local training accuracy : 0.9208666666666666
INFO flwr 2023-07-26 13:05:32,792 | server.py:116 | fit progress: (9, 1.1117068725585937, {'server_test_acc': 0.7306}, 1476.8989889599616)
INFO flwr 2023-07-26 13:05:32,792 | server.py:163 | evaluate_round 9: no clients selected, cancel
Cluster score for round 10 = 3043.8681640625
INFO flwr 2023-07-26 13:05:41,165 | fed_df.py:230 | Number of selected crops : 7903
DEBUG flwr 2023-07-26 13:05:43,551 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=560988)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=560989)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=560980)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=560981)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:07:06,438 | server.py:229 | fit_round 10 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=560976)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=560978)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=560976)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=560978)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=560981)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=560988)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=560979)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=560980)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=560989)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=560990)[0m Fitting Client 3
Warm start at round 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=560979)[0m malloc_consolidate(): invalid chunk size
E0726 13:07:07.956445245  451696 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
[2m[36m(launch_and_fit pid=560990)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.036142347130924464, val accuracy : 0.74066, best val accuracy : 0.7548
Average local training loss : 3.619158590957522
Average local training accuracy : 0.9211958333333333
INFO flwr 2023-07-26 13:08:22,842 | server.py:116 | fit progress: (10, 1.1110872802734375, {'server_test_acc': 0.7434}, 1646.9491049069911)
INFO flwr 2023-07-26 13:08:22,842 | server.py:163 | evaluate_round 10: no clients selected, cancel
Cluster score for round 11 = 2797.63916015625
INFO flwr 2023-07-26 13:08:31,159 | fed_df.py:230 | Number of selected crops : 7650
DEBUG flwr 2023-07-26 13:08:33,601 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=853109)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=853111)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:09:54,754 | server.py:229 | fit_round 11 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=853109)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=853111)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=853115)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=853116)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=853113)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=853110)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=853108)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=853114)[0m Fitting Client 2
Warm start at round 11
Performing server side distillation training...
[2m[36m(launch_and_fit pid=853116)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=853110)[0m corrupted size vs. prev_size in fastbins
E0726 13:09:55.331988633  743293 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
[2m[36m(launch_and_fit pid=853113)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=853108)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=853115)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=853114)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.03875400485470891, val accuracy : 0.7376799999999999, best val accuracy : 0.747
Average local training loss : 3.51655020006001
Average local training accuracy : 0.9282805555555556
INFO flwr 2023-07-26 13:11:15,080 | server.py:116 | fit progress: (11, 1.0620575592041015, {'server_test_acc': 0.7404}, 1819.1871838700026)
INFO flwr 2023-07-26 13:11:15,080 | server.py:163 | evaluate_round 11: no clients selected, cancel
Cluster score for round 12 = 3088.6103515625
INFO flwr 2023-07-26 13:11:23,358 | fed_df.py:230 | Number of selected crops : 7175
DEBUG flwr 2023-07-26 13:11:25,886 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1145516)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1145511)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1145517)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:12:47,279 | server.py:229 | fit_round 12 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1145518)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1145511)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1145517)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1145520)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1145519)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1145521)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1145522)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1145518)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1145516)[0m Fitting Client 0
Warm start at round 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1145522)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1145519)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1145520)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1145521)[0m malloc_consolidate(): invalid chunk size
E0726 13:12:49.022129059 1034443 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.03369568101502955, val accuracy : 0.72462, best val accuracy : 0.7474
Average local training loss : 3.4702884312719107
Average local training accuracy : 0.9336111111111112
INFO flwr 2023-07-26 13:14:06,349 | server.py:116 | fit progress: (12, 1.1520332641601563, {'server_test_acc': 0.7317}, 1990.4565091360128)
INFO flwr 2023-07-26 13:14:06,349 | server.py:163 | evaluate_round 12: no clients selected, cancel
Cluster score for round 13 = 2586.4052734375
INFO flwr 2023-07-26 13:14:14,634 | fed_df.py:230 | Number of selected crops : 7306
DEBUG flwr 2023-07-26 13:14:16,938 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1439073)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1439072)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:15:38,444 | server.py:229 | fit_round 13 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1439067)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1439072)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1439070)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1439076)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1439074)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1439073)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1439075)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1439071)[0m Fitting Client 6
Warm start at round 13
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1439075)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1439067)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1439070)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1439076)[0m malloc_consolidate(): invalid chunk size
E0726 13:15:39.816005696 1329573 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
[2m[36m(launch_and_fit pid=1439071)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1439074)[0m malloc_consolidate(): invalid chunk size
E0726 13:16:24.468724837 1694376 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.03266468431428075, val accuracy : 0.74954, best val accuracy : 0.766
Average local training loss : 3.3983486771583555
Average local training accuracy : 0.9394902777777778
INFO flwr 2023-07-26 13:16:57,635 | server.py:116 | fit progress: (13, 1.0121248077392577, {'server_test_acc': 0.7585}, 2161.7425746509107)
INFO flwr 2023-07-26 13:16:57,635 | server.py:163 | evaluate_round 13: no clients selected, cancel
Cluster score for round 14 = 2522.11865234375
INFO flwr 2023-07-26 13:17:05,975 | fed_df.py:230 | Number of selected crops : 7612
DEBUG flwr 2023-07-26 13:17:08,284 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1764467)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1764466)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1764393)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:18:29,128 | server.py:229 | fit_round 14 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1764333)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1764394)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1764393)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1764331)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1764467)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1764255)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1764429)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1764466)[0m Fitting Client 18
Warm start at round 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1764255)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1764394)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1764429)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1764333)[0m malloc_consolidate(): invalid chunk size
E0726 13:18:30.490705876 1967047 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
[2m[36m(launch_and_fit pid=1764331)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.03838251357898116, val accuracy : 0.76164, best val accuracy : 0.7694
Average local training loss : 3.3803472066298133
Average local training accuracy : 0.93975
INFO flwr 2023-07-26 13:19:47,797 | server.py:116 | fit progress: (14, 0.9924256256103515, {'server_test_acc': 0.7605}, 2331.904094264959)
INFO flwr 2023-07-26 13:19:47,797 | server.py:163 | evaluate_round 14: no clients selected, cancel
Cluster score for round 15 = 2979.825439453125
INFO flwr 2023-07-26 13:19:56,212 | fed_df.py:230 | Number of selected crops : 7150
DEBUG flwr 2023-07-26 13:19:58,478 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2081209)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:21:18,605 | server.py:229 | fit_round 15 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2081214)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2081215)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2081212)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2081214)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2081215)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2081210)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2081207)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2081209)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2081208)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2081213)[0m Fitting Client 8
Warm start at round 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2081210)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2081207)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2081213)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2081212)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=2081208)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.03191177812963724, val accuracy : 0.76478, best val accuracy : 0.7764
Average local training loss : 3.342473990656435
Average local training accuracy : 0.9432527777777778
INFO flwr 2023-07-26 13:22:41,148 | server.py:116 | fit progress: (15, 0.9565743835449219, {'server_test_acc': 0.7664}, 2505.255047564977)
INFO flwr 2023-07-26 13:22:41,148 | server.py:163 | evaluate_round 15: no clients selected, cancel
Cluster score for round 16 = 2719.135986328125
E0726 13:22:48.933909102 1967718 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
INFO flwr 2023-07-26 13:22:49,612 | fed_df.py:230 | Number of selected crops : 7221
DEBUG flwr 2023-07-26 13:22:51,889 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2388060)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2388058)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2388263)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:24:12,233 | server.py:229 | fit_round 16 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2388162)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2388163)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2388058)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2388060)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2388162)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2388063)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2388263)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2388297)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2388163)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2388262)[0m Fitting Client 17
Warm start at round 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2388297)[0m malloc_consolidate(): invalid chunk size
E0726 13:24:13.103719332 2566467 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2388063)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2388262)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.04438856012560427, val accuracy : 0.7481799999999998, best val accuracy : 0.7598
Average local training loss : 3.282385817356407
Average local training accuracy : 0.9463875
INFO flwr 2023-07-26 13:25:31,316 | server.py:116 | fit progress: (16, 1.0291248931884767, {'server_test_acc': 0.7539}, 2675.42318756599)
INFO flwr 2023-07-26 13:25:31,316 | server.py:163 | evaluate_round 16: no clients selected, cancel
Cluster score for round 17 = 2541.578125
INFO flwr 2023-07-26 13:25:39,900 | fed_df.py:230 | Number of selected crops : 6775
DEBUG flwr 2023-07-26 13:25:42,107 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2687854)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2687845)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2687857)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2688014)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:27:02,313 | server.py:229 | fit_round 17 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2687854)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2687845)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2687856)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2688015)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2688016)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2687855)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2687857)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2688014)[0m Fitting Client 19
Warm start at round 17
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2687856)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2687855)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2688015)[0m corrupted size vs. prev_size in fastbins
E0726 13:27:03.541817460 2566709 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2688016)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.036480549367144705, val accuracy : 0.75668, best val accuracy : 0.7694
Average local training loss : 3.294468121789395
Average local training accuracy : 0.9444555555555554
INFO flwr 2023-07-26 13:28:24,358 | server.py:116 | fit progress: (17, 0.9751102905273438, {'server_test_acc': 0.764}, 2848.4651656550122)
INFO flwr 2023-07-26 13:28:24,358 | server.py:163 | evaluate_round 17: no clients selected, cancel
Cluster score for round 18 = 1345.1343994140625
INFO flwr 2023-07-26 13:28:32,773 | fed_df.py:230 | Number of selected crops : 7325
DEBUG flwr 2023-07-26 13:28:35,076 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2993455)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2993457)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2993454)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:29:54,734 | server.py:229 | fit_round 18 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2993459)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2993457)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2993455)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2993459)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2993454)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2993458)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2993634)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2993453)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2993518)[0m Fitting Client 4
Warm start at round 18
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2993518)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2993453)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2993634)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2993458)[0m malloc_consolidate(): invalid chunk size
E0726 13:29:57.086481989 2864899 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.03714242647215724, val accuracy : 0.7405, best val accuracy : 0.7522
Average local training loss : 3.242884928174317
Average local training accuracy : 0.9483041666666668
INFO flwr 2023-07-26 13:31:14,197 | server.py:116 | fit progress: (18, 1.1712428680419922, {'server_test_acc': 0.746}, 3018.304780344013)
INFO flwr 2023-07-26 13:31:14,198 | server.py:163 | evaluate_round 18: no clients selected, cancel
Cluster score for round 19 = 397.7655334472656
INFO flwr 2023-07-26 13:31:22,647 | fed_df.py:230 | Number of selected crops : 7669
DEBUG flwr 2023-07-26 13:31:25,309 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3290154)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3290424)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3290459)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:32:44,970 | server.py:229 | fit_round 19 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3290154)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3290424)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3290418)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3290459)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3290556)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3290557)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3290558)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3290559)[0m Fitting Client 6
Warm start at round 19
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3290418)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3290559)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3290556)[0m double free or corruption (fasttop)
E0726 13:32:46.350882633 3487599 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3290558)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3290557)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.04378849113732576, val accuracy : 0.7526, best val accuracy : 0.7598
Average local training loss : 3.2537830412387843
Average local training accuracy : 0.9479708333333332
INFO flwr 2023-07-26 13:34:04,276 | server.py:116 | fit progress: (19, 1.1777126586914062, {'server_test_acc': 0.7508}, 3188.383135283948)
INFO flwr 2023-07-26 13:34:04,276 | server.py:163 | evaluate_round 19: no clients selected, cancel
Cluster score for round 20 = 396.20196533203125
INFO flwr 2023-07-26 13:34:12,736 | fed_df.py:230 | Number of selected crops : 7515
DEBUG flwr 2023-07-26 13:34:15,399 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3629769)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:35:35,741 | server.py:229 | fit_round 20 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3630185)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3630187)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3629769)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3630052)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3630184)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3630186)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3630185)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3630188)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3630051)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3630187)[0m Fitting Client 3
Warm start at round 20
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3630052)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3630188)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3630184)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3630051)[0m double free or corruption (fasttop)
E0726 13:35:37.543817919 3810297 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.054847323931753636, val accuracy : 0.76122, best val accuracy : 0.7656
Average local training loss : 3.2397899536415933
Average local training accuracy : 0.9492486111111111
INFO flwr 2023-07-26 13:36:55,535 | server.py:116 | fit progress: (20, 1.1118118927001952, {'server_test_acc': 0.7613}, 3359.6420473098988)
INFO flwr 2023-07-26 13:36:55,535 | server.py:163 | evaluate_round 20: no clients selected, cancel
Cluster score for round 21 = 468.5947265625
INFO flwr 2023-07-26 13:37:04,147 | fed_df.py:230 | Number of selected crops : 7169
DEBUG flwr 2023-07-26 13:37:06,804 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3929854)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3929805)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3929860)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:38:27,371 | server.py:229 | fit_round 21 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3929992)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3929805)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3929806)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3929854)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3929993)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3929860)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3929992)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3929856)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3929808)[0m Fitting Client 5
Warm start at round 21
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3929856)[0m double free or corruption (fasttop)
E0726 13:38:28.230992659 4110406 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3929993)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3929806)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3929808)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.04831700348854065, val accuracy : 0.7541800000000001, best val accuracy : 0.7624
Average local training loss : 3.214533487893641
Average local training accuracy : 0.9508625
INFO flwr 2023-07-26 13:39:46,086 | server.py:116 | fit progress: (21, 1.0435012145996094, {'server_test_acc': 0.7542}, 3530.1939079879085)
INFO flwr 2023-07-26 13:39:46,087 | server.py:163 | evaluate_round 21: no clients selected, cancel
Cluster score for round 22 = 588.9392700195312
INFO flwr 2023-07-26 13:39:54,430 | fed_df.py:230 | Number of selected crops : 7439
DEBUG flwr 2023-07-26 13:39:56,984 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=30764)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:41:17,334 | server.py:229 | fit_round 22 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=31037)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=31035)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=30764)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=31037)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=31039)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=31033)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=31036)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=31030)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=31035)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=31038)[0m Fitting Client 19
Warm start at round 22
Performing server side distillation training...
[2m[36m(launch_and_fit pid=31039)[0m corrupted size vs. prev_size in fastbins
E0726 13:41:18.219619048 4110787 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=31033)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=31038)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=31036)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=31030)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.0392161024287343, val accuracy : 0.7555800000000001, best val accuracy : 0.7662
Average local training loss : 3.1694399949163197
Average local training accuracy : 0.9535791666666666
INFO flwr 2023-07-26 13:42:36,361 | server.py:116 | fit progress: (22, 1.1090626220703126, {'server_test_acc': 0.7547}, 3700.4685419870075)
INFO flwr 2023-07-26 13:42:36,361 | server.py:163 | evaluate_round 22: no clients selected, cancel
Cluster score for round 23 = 380.10357666015625
INFO flwr 2023-07-26 13:42:44,705 | fed_df.py:230 | Number of selected crops : 7045
DEBUG flwr 2023-07-26 13:42:47,392 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=328709)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=328727)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=328724)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=328718)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:44:07,766 | server.py:229 | fit_round 23 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=328709)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=328718)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=328710)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=328724)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=328726)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=328727)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=328725)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=328722)[0m Fitting Client 11
Warm start at round 23
Performing server side distillation training...
[2m[36m(launch_and_fit pid=328726)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=328710)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=328722)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=328725)[0m double free or corruption (fasttop)
E0726 13:44:11.339103163  520402 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.044117570765316486, val accuracy : 0.7626999999999999, best val accuracy : 0.7672
Average local training loss : 3.151476531289518
Average local training accuracy : 0.9562125
INFO flwr 2023-07-26 13:45:29,395 | server.py:116 | fit progress: (23, 1.0776874938964844, {'server_test_acc': 0.7597}, 3873.502753947978)
INFO flwr 2023-07-26 13:45:29,396 | server.py:163 | evaluate_round 23: no clients selected, cancel
Cluster score for round 24 = 410.044189453125
INFO flwr 2023-07-26 13:45:37,876 | fed_df.py:230 | Number of selected crops : 7210
DEBUG flwr 2023-07-26 13:45:40,505 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=634188)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:47:00,472 | server.py:229 | fit_round 24 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=634068)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=634188)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=634189)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=634051)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=634191)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=634187)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=634192)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=634190)[0m Fitting Client 19
Warm start at round 24
Performing server side distillation training...
[2m[36m(launch_and_fit pid=634187)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=634191)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=634068)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=634189)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=634190)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=634192)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=634051)[0m double free or corruption (fasttop)
E0726 13:47:26.399680012  852086 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.042761086327955125, val accuracy : 0.7647600000000001, best val accuracy : 0.7712
Average local training loss : 3.1669012881815437
Average local training accuracy : 0.9535861111111111
INFO flwr 2023-07-26 13:48:25,900 | server.py:116 | fit progress: (24, 1.0533525299072266, {'server_test_acc': 0.7577}, 4050.0075017400086)
INFO flwr 2023-07-26 13:48:25,900 | server.py:163 | evaluate_round 24: no clients selected, cancel
Cluster score for round 25 = 342.2686767578125
INFO flwr 2023-07-26 13:48:34,521 | fed_df.py:230 | Number of selected crops : 7379
DEBUG flwr 2023-07-26 13:48:37,264 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=981004)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=981247)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=981174)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=981146)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:49:58,014 | server.py:229 | fit_round 25 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=981175)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=981004)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=981247)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=981146)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=981175)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=981176)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=981174)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=980980)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=981246)[0m Fitting Client 9
Warm start at round 25
Performing server side distillation training...
[2m[36m(launch_and_fit pid=981176)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=980980)[0m malloc_consolidate(): invalid chunk size
E0726 13:49:58.822723595  857454 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=981246)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.04229774670675397, val accuracy : 0.7701199999999999, best val accuracy : 0.7772
Average local training loss : 3.20637241974473
Average local training accuracy : 0.9497986111111111
INFO flwr 2023-07-26 13:51:23,840 | server.py:116 | fit progress: (25, 1.0623422088623047, {'server_test_acc': 0.772}, 4227.947855333914)
INFO flwr 2023-07-26 13:51:23,841 | server.py:163 | evaluate_round 25: no clients selected, cancel
Cluster score for round 26 = 312.69781494140625
INFO flwr 2023-07-26 13:51:32,389 | fed_df.py:230 | Number of selected crops : 7680
DEBUG flwr 2023-07-26 13:51:35,052 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1288973)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1288972)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:52:54,727 | server.py:229 | fit_round 26 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1288968)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1288972)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1289107)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1288974)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1288973)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1289109)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1289110)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1289108)[0m Fitting Client 1
Warm start at round 26
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1289110)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1289109)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1289107)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1288968)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1288974)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1289108)[0m malloc_consolidate(): invalid chunk size
E0726 13:52:57.172075491 1171966 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.04503645307198167, val accuracy : 0.74906, best val accuracy : 0.7546
Average local training loss : 3.1600618017837405
Average local training accuracy : 0.9530833333333333
INFO flwr 2023-07-26 13:54:16,218 | server.py:116 | fit progress: (26, 1.1259086334228516, {'server_test_acc': 0.7496}, 4400.325251653907)
INFO flwr 2023-07-26 13:54:16,218 | server.py:163 | evaluate_round 26: no clients selected, cancel
Cluster score for round 27 = 338.75732421875
INFO flwr 2023-07-26 13:54:24,684 | fed_df.py:230 | Number of selected crops : 7082
DEBUG flwr 2023-07-26 13:54:27,260 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1592723)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1592725)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1592727)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:55:48,368 | server.py:229 | fit_round 27 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1592730)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1592723)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1592725)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1592727)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1592730)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1592728)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1592731)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1592726)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1592729)[0m Fitting Client 15
Warm start at round 27
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1592728)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1592729)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1592731)[0m malloc_consolidate(): invalid chunk size
E0726 13:55:49.823644240 1779896 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1592726)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.043103251595050095, val accuracy : 0.7734, best val accuracy : 0.7758
Average local training loss : 3.162764993309975
Average local training accuracy : 0.9539972222222223
INFO flwr 2023-07-26 13:57:11,815 | server.py:116 | fit progress: (27, 1.013187139892578, {'server_test_acc': 0.7648}, 4575.921978069004)
INFO flwr 2023-07-26 13:57:11,815 | server.py:163 | evaluate_round 27: no clients selected, cancel
Cluster score for round 28 = 503.40350341796875
INFO flwr 2023-07-26 13:57:20,502 | fed_df.py:230 | Number of selected crops : 7297
DEBUG flwr 2023-07-26 13:57:23,086 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1896783)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1897055)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1897052)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:58:44,257 | server.py:229 | fit_round 28 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1896953)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1896783)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1896952)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1896955)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1896954)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1896953)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1897052)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1897055)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1897054)[0m Fitting Client 15
Warm start at round 28
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1896952)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1896954)[0m malloc_consolidate(): invalid chunk size
E0726 13:58:45.384459206 1780433 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1896955)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1897054)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.03466384297795594, val accuracy : 0.7687800000000001, best val accuracy : 0.7732
Average local training loss : 3.082714798487723
Average local training accuracy : 0.9603513888888887
INFO flwr 2023-07-26 14:00:05,502 | server.py:116 | fit progress: (28, 1.0461394287109376, {'server_test_acc': 0.7722}, 4749.609439544962)
INFO flwr 2023-07-26 14:00:05,502 | server.py:163 | evaluate_round 28: no clients selected, cancel
Cluster score for round 29 = 262.1628723144531
INFO flwr 2023-07-26 14:00:14,148 | fed_df.py:230 | Number of selected crops : 7535
DEBUG flwr 2023-07-26 14:00:16,852 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2200416)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:01:42,290 | server.py:229 | fit_round 29 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2200419)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2200411)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2200414)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2200412)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2200415)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2200416)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2200419)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2200417)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2200418)[0m Fitting Client 15
Warm start at round 29
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2200412)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2200415)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2200411)[0m malloc_consolidate(): invalid chunk size
E0726 14:01:43.344238589 2087647 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2200417)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2200418)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2200414)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.05536228937655687, val accuracy : 0.7764400000000001, best val accuracy : 0.7788
Average local training loss : 3.1592495895922186
Average local training accuracy : 0.9534944444444445
INFO flwr 2023-07-26 14:03:02,313 | server.py:116 | fit progress: (29, 1.0280183990478515, {'server_test_acc': 0.7754}, 4926.420716764987)
INFO flwr 2023-07-26 14:03:02,314 | server.py:163 | evaluate_round 29: no clients selected, cancel
Cluster score for round 30 = 377.2061462402344
INFO flwr 2023-07-26 14:03:11,122 | fed_df.py:230 | Number of selected crops : 6885
DEBUG flwr 2023-07-26 14:03:13,762 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2510726)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:04:33,557 | server.py:229 | fit_round 30 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2510726)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2510737)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2510805)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2510804)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2510976)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2510864)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2510802)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2510803)[0m Fitting Client 19
Warm start at round 30
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2510864)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2510737)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2510803)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2510804)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2510976)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2510802)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2510805)[0m corrupted size vs. prev_size in fastbins
E0726 14:04:36.762564812 2722024 chttp2_transport.cc:1079]             ipv4:145.136.62.24:38714: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.05708420836925507, val accuracy : 0.76806, best val accuracy : 0.7742
Average local training loss : 3.1585881320759657
Average local training accuracy : 0.9528680555555555
INFO flwr 2023-07-26 14:05:57,493 | server.py:116 | fit progress: (30, 1.03133896484375, {'server_test_acc': 0.7656}, 5101.600271808915)
INFO flwr 2023-07-26 14:05:57,493 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-07-26 14:05:57,493 | server.py:144 | FL finished in 5101.6006482339
INFO flwr 2023-07-26 14:05:57,493 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-07-26 14:05:57,494 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-07-26 14:05:57,494 | app.py:204 | app_fit: losses_centralized [(0, 2.3034546997070313), (1, 2.0440285034179686), (2, 1.3911231353759765), (3, 1.4474539428710937), (4, 1.4467563018798828), (5, 1.5184411865234375), (6, 1.4637144775390625), (7, 1.3673200866699218), (8, 1.196687142944336), (9, 1.1117068725585937), (10, 1.1110872802734375), (11, 1.0620575592041015), (12, 1.1520332641601563), (13, 1.0121248077392577), (14, 0.9924256256103515), (15, 0.9565743835449219), (16, 1.0291248931884767), (17, 0.9751102905273438), (18, 1.1712428680419922), (19, 1.1777126586914062), (20, 1.1118118927001952), (21, 1.0435012145996094), (22, 1.1090626220703126), (23, 1.0776874938964844), (24, 1.0533525299072266), (25, 1.0623422088623047), (26, 1.1259086334228516), (27, 1.013187139892578), (28, 1.0461394287109376), (29, 1.0280183990478515), (30, 1.03133896484375)]
INFO flwr 2023-07-26 14:05:57,495 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.1285), (1, 0.4033), (2, 0.5575), (3, 0.6101), (4, 0.6632), (5, 0.6756), (6, 0.7057), (7, 0.7086), (8, 0.7242), (9, 0.7306), (10, 0.7434), (11, 0.7404), (12, 0.7317), (13, 0.7585), (14, 0.7605), (15, 0.7664), (16, 0.7539), (17, 0.764), (18, 0.746), (19, 0.7508), (20, 0.7613), (21, 0.7542), (22, 0.7547), (23, 0.7597), (24, 0.7577), (25, 0.772), (26, 0.7496), (27, 0.7648), (28, 0.7722), (29, 0.7754), (30, 0.7656)]}
corrupted size vs. prev_size in fastbins
srun: error: gcn24: task 0: Aborted
srun: Terminating StepId=3152571.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3152571
Cluster: snellius
User/Group: sunnys/sunnys
State: COMPLETED (exit code 0)
Nodes: 1
Cores per node: 18
CPU Utilized: 02:58:30
CPU Efficiency: 11.12% of 1-02:44:42 core-walltime
Job Wall-clock time: 01:29:09
Memory Utilized: 56.84 GB
Memory Efficiency: 47.36% of 120.00 GB
