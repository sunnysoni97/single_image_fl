-----BEGIN-----
-----SETTINGS-----
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:cifar10
PARTITION_ALPHA:10.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:40
LOCAL_LR:0.05
DISTILL_BATCH_SIZE:512
SERVER_LR:0.005
SERVER_STEPS:500
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
SEED:1227
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:ameyoko.jpg
DISTILL_DATASET:cifar100
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:10000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:5
KMEANS_N_CLUSTER:50
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
CONFIDENCE_THRESHOLD:0.9
CONFIDENCE_MIN_CROPS:2500
CLIPPING_FACTOR:2.5
FEDPROX_FACTOR:1.0
FEDPROX_ADAPTIVE:False
USE_CLIPPING:True
USE_ENTROPY:True
USE_KMEANS:True
USE_FEDPROX:True
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=100000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/ameyoko.jpg', targetpath='/scratch-local/sunnys.3152535/1690367597_167518598', seed=1227, img_per_thread=5555)
will save 100000 patches in /scratch-local/sunnys.3152535/1690367597_167518598/single_img_crops/crops
100000 took 0.68min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-07-26 12:34:13,200 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-07-26 12:34:13,200 | simulate.py:55 | Reading args from argument parser
Downloading https://www.cs.toronto.edu/~kriz/cifar-10-python.tar.gz to /scratch-local/sunnys.3152535/1690367597_167518598/cifar-10-python.tar.gz
Extracting /scratch-local/sunnys.3152535/1690367597_167518598/cifar-10-python.tar.gz to /scratch-local/sunnys.3152535/1690367597_167518598
Generating unified cifar10 dataset
Class histogram for 0-th partition (alpha=10.0, 10 classes): [364 338 239 145 185 263 222 248 152 344]
INFO flwr 2023-07-26 12:34:42,955 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-07-26 12:34:46,079	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8265 [39m[22m
INFO flwr 2023-07-26 12:34:47,386 | app.py:179 | Flower VCE: Ray initialized with resources: {'object_store_memory': 61847529062.0, 'accelerator_type:A100': 1.0, 'node:145.136.62.31': 1.0, 'CPU': 18.0, 'GPU': 1.0, 'memory': 103079215104.0}
INFO flwr 2023-07-26 12:34:47,386 | server.py:86 | Initializing global parameters
INFO flwr 2023-07-26 12:34:47,386 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-07-26 12:34:47,386 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-07-26 12:34:57,219 | server.py:91 | initial parameters (loss, other metrics): 2.4661781799316405, {'server_test_acc': 0.0915}
INFO flwr 2023-07-26 12:34:57,219 | server.py:101 | FL starting
Cluster score for round 1 = 33546.30859375
INFO flwr 2023-07-26 12:35:05,275 | fed_df.py:230 | Number of selected crops : 10000
DEBUG flwr 2023-07-26 12:35:08,124 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1421392)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1421389)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:36:35,719 | server.py:229 | fit_round 1 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1421392)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1421389)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1421391)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1421393)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1421395)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1421390)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1421396)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1421394)[0m Fitting Client 9
Warm start at round 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1421394)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1421390)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1421391)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1421396)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1421393)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1421395)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.3620775591135025, val accuracy : 0.40994, best val accuracy : 0.4494
Average local training loss : 8.57423577234149
Average local training accuracy : 0.4104291666666667
INFO flwr 2023-07-26 12:37:46,517 | server.py:116 | fit progress: (1, 1.7007087310791016, {'server_test_acc': 0.4473}, 169.29816054704133)
INFO flwr 2023-07-26 12:37:46,517 | server.py:163 | evaluate_round 1: no clients selected, cancel
Cluster score for round 2 = 95980.703125
INFO flwr 2023-07-26 12:37:55,162 | fed_df.py:230 | Number of selected crops : 7906
DEBUG flwr 2023-07-26 12:37:57,505 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1701871)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:39:21,057 | server.py:229 | fit_round 2 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1701871)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1701942)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1701941)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1701940)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1701944)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1702013)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1702014)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1701943)[0m Fitting Client 17
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1701944)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1701943)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1701940)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1702013)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1701941)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1702014)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1701942)[0m malloc_consolidate(): invalid chunk size
E0726 12:39:23.795460172 1404551 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.05943723214417696, val accuracy : 0.5298200000000002, best val accuracy : 0.554
Average local training loss : 6.983293536677956
Average local training accuracy : 0.5704097222222222
INFO flwr 2023-07-26 12:40:51,596 | server.py:116 | fit progress: (2, 1.3844980834960938, {'server_test_acc': 0.5405}, 354.3766783849569)
INFO flwr 2023-07-26 12:40:51,596 | server.py:163 | evaluate_round 2: no clients selected, cancel
Cluster score for round 3 = 88783.9453125
INFO flwr 2023-07-26 12:41:00,555 | fed_df.py:230 | Number of selected crops : 8921
DEBUG flwr 2023-07-26 12:41:03,136 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2002985)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2003055)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2002987)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2002984)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2002983)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2003057)[0m malloc(): unsorted double linked list corrupted
DEBUG flwr 2023-07-26 12:42:26,346 | server.py:229 | fit_round 3 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2002987)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2002983)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2002984)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2003056)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2002986)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2002985)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2003057)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2003055)[0m Fitting Client 4
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2002986)[0m malloc_consolidate(): invalid chunk size
E0726 12:42:27.605533028 2174784 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
[2m[36m(launch_and_fit pid=2003056)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.06871617652475834, val accuracy : 0.5322600000000001, best val accuracy : 0.553
Average local training loss : 6.482563292607665
Average local training accuracy : 0.6258694444444444
INFO flwr 2023-07-26 12:43:49,639 | server.py:116 | fit progress: (3, 1.4629045501708984, {'server_test_acc': 0.5521}, 532.4200192569988)
INFO flwr 2023-07-26 12:43:49,639 | server.py:163 | evaluate_round 3: no clients selected, cancel
Cluster score for round 4 = 70221.6875
INFO flwr 2023-07-26 12:43:58,647 | fed_df.py:230 | Number of selected crops : 8593
DEBUG flwr 2023-07-26 12:44:01,386 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2291996)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2292072)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2292001)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:45:22,693 | server.py:229 | fit_round 4 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2292074)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2292142)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2291996)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2292001)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2292072)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2292073)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2292074)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2292142)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2292144)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2292143)[0m Fitting Client 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2292144)[0m double free or corruption (fasttop)
E0726 12:45:24.520365243 2175943 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
[2m[36m(launch_and_fit pid=2292073)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2292143)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.03194677471742034, val accuracy : 0.55684, best val accuracy : 0.5714
Average local training loss : 6.3868518661707645
Average local training accuracy : 0.6368666666666667
INFO flwr 2023-07-26 12:46:50,754 | server.py:116 | fit progress: (4, 1.407759686279297, {'server_test_acc': 0.5691}, 713.5351762069622)
INFO flwr 2023-07-26 12:46:50,754 | server.py:163 | evaluate_round 4: no clients selected, cancel
Cluster score for round 5 = 68889.125
INFO flwr 2023-07-26 12:46:59,765 | fed_df.py:230 | Number of selected crops : 9006
DEBUG flwr 2023-07-26 12:47:02,447 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2583271)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2583290)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2583287)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2583289)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:48:24,739 | server.py:229 | fit_round 5 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2583293)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2583271)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2583289)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2583287)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2583291)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2583288)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2583293)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2583292)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2583290)[0m Fitting Client 8
Warm start at round 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2583292)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2583288)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2583291)[0m malloc_consolidate(): invalid chunk size
E0726 12:48:28.447529176 2753625 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.035509424299001696, val accuracy : 0.60078, best val accuracy : 0.6114
Average local training loss : 5.980606631562114
Average local training accuracy : 0.6765416666666667
INFO flwr 2023-07-26 12:49:49,332 | server.py:116 | fit progress: (5, 1.369479638671875, {'server_test_acc': 0.6105}, 892.112732314039)
INFO flwr 2023-07-26 12:49:49,332 | server.py:163 | evaluate_round 5: no clients selected, cancel
Cluster score for round 6 = 22946.7421875
INFO flwr 2023-07-26 12:49:58,492 | fed_df.py:230 | Number of selected crops : 8701
DEBUG flwr 2023-07-26 12:50:01,092 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2896163)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2896158)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2896116)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2896249)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:51:21,567 | server.py:229 | fit_round 6 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2896116)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2896158)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2896163)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2896249)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2896248)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2896250)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2896164)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2896251)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2896250)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2896251)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2896164)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2896248)[0m double free or corruption (fasttop)
E0726 12:51:23.468372905 3078657 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.010750114583410323, val accuracy : 0.6252799999999998, best val accuracy : 0.6374
Average local training loss : 4.981767254695296
Average local training accuracy : 0.7892861111111111
INFO flwr 2023-07-26 12:52:50,647 | server.py:116 | fit progress: (6, 1.381250228881836, {'server_test_acc': 0.6411}, 1073.4284472319996)
INFO flwr 2023-07-26 12:52:50,648 | server.py:163 | evaluate_round 6: no clients selected, cancel
Cluster score for round 7 = 17225.0625
INFO flwr 2023-07-26 12:52:59,766 | fed_df.py:230 | Number of selected crops : 9546
DEBUG flwr 2023-07-26 12:53:02,487 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 12:54:23,010 | server.py:229 | fit_round 7 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3205381)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3205258)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3205379)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3205377)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3205380)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3205378)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3205381)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3205383)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3205382)[0m Fitting Client 2
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3205377)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3205378)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3205258)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3205380)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3205383)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3205379)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3205382)[0m double free or corruption (fasttop)
E0726 12:54:26.447235019 3371425 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.009446911817416548, val accuracy : 0.6393799999999998, best val accuracy : 0.644
Average local training loss : 4.897809924185276
Average local training accuracy : 0.7968555555555557
INFO flwr 2023-07-26 12:55:47,303 | server.py:116 | fit progress: (7, 1.386314727783203, {'server_test_acc': 0.6358}, 1250.0845531850355)
INFO flwr 2023-07-26 12:55:47,304 | server.py:163 | evaluate_round 7: no clients selected, cancel
Cluster score for round 8 = 17219.935546875
INFO flwr 2023-07-26 12:55:56,300 | fed_df.py:230 | Number of selected crops : 9421
DEBUG flwr 2023-07-26 12:55:58,972 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3489952)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3489959)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3489914)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:57:19,464 | server.py:229 | fit_round 8 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3489954)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3489958)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3489914)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3489952)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3489955)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3489954)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3489956)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3489959)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3489957)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3489958)[0m Fitting Client 19
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3489955)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3489957)[0m corrupted size vs. prev_size in fastbins
E0726 12:57:20.914508191 3373401 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
[2m[36m(launch_and_fit pid=3489956)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.010181214259006083, val accuracy : 0.63748, best val accuracy : 0.6444
Average local training loss : 4.783488109521568
Average local training accuracy : 0.8072666666666666
INFO flwr 2023-07-26 12:58:43,119 | server.py:116 | fit progress: (8, 1.3968448822021484, {'server_test_acc': 0.6478}, 1425.9001875719987)
INFO flwr 2023-07-26 12:58:43,119 | server.py:163 | evaluate_round 8: no clients selected, cancel
Cluster score for round 9 = 17109.54296875
INFO flwr 2023-07-26 12:58:52,135 | fed_df.py:230 | Number of selected crops : 9336
DEBUG flwr 2023-07-26 12:58:54,850 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3773544)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3773546)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:00:15,784 | server.py:229 | fit_round 9 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3773546)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3773544)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3773683)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3773615)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3773543)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3773684)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3773685)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3773686)[0m Fitting Client 11
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3773615)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3773543)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3773684)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3773685)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3773686)[0m malloc_consolidate(): invalid chunk size
E0726 13:00:16.922687196 3652151 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
[2m[36m(launch_and_fit pid=3773683)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.009972365704365075, val accuracy : 0.63762, best val accuracy : 0.6462
Average local training loss : 4.871434658579528
Average local training accuracy : 0.8015680555555557
INFO flwr 2023-07-26 13:01:39,472 | server.py:116 | fit progress: (9, 1.3942526977539063, {'server_test_acc': 0.6449}, 1602.2530310399598)
INFO flwr 2023-07-26 13:01:39,472 | server.py:163 | evaluate_round 9: no clients selected, cancel
Cluster score for round 10 = 16133.634765625
INFO flwr 2023-07-26 13:01:48,571 | fed_df.py:230 | Number of selected crops : 9293
DEBUG flwr 2023-07-26 13:01:51,245 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=4057271)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4057270)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4057409)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4057410)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4057485)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:03:12,155 | server.py:229 | fit_round 10 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=4057270)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=4057271)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=4057409)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=4057411)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=4057485)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=4057484)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=4057410)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=4057486)[0m Fitting Client 14
Warm start at round 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=4057484)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4057486)[0m malloc_consolidate(): invalid chunk size
E0726 13:03:13.634394953 1405402 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
[2m[36m(launch_and_fit pid=4057411)[0m double free or corruption (fasttop)
E0726 13:03:50.578753185   23902 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.021396311903372406, val accuracy : 0.67062, best val accuracy : 0.6802
Average local training loss : 4.849735502526165
Average local training accuracy : 0.804901388888889
INFO flwr 2023-07-26 13:04:35,969 | server.py:116 | fit progress: (10, 1.4831926940917968, {'server_test_acc': 0.6801}, 1778.7497424889589)
INFO flwr 2023-07-26 13:04:35,969 | server.py:163 | evaluate_round 10: no clients selected, cancel
Cluster score for round 11 = 2918.224609375
INFO flwr 2023-07-26 13:04:44,972 | fed_df.py:230 | Number of selected crops : 9764
DEBUG flwr 2023-07-26 13:04:47,958 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=151511)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=151512)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:06:10,346 | server.py:229 | fit_round 11 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=151510)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=151488)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=151408)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=151512)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=151433)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=151513)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=151511)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=151489)[0m Fitting Client 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=151408)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=151510)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=151489)[0m malloc_consolidate(): invalid chunk size
E0726 13:06:11.977143456   85795 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
[2m[36m(launch_and_fit pid=151513)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=151433)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=151488)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.013220022831112146, val accuracy : 0.69576, best val accuracy : 0.7012
Average local training loss : 4.2560293361544606
Average local training accuracy : 0.8638874999999999
INFO flwr 2023-07-26 13:07:30,304 | server.py:116 | fit progress: (11, 1.391114389038086, {'server_test_acc': 0.6959}, 1953.0853722799802)
INFO flwr 2023-07-26 13:07:30,305 | server.py:163 | evaluate_round 11: no clients selected, cancel
Cluster score for round 12 = 4532.6689453125
INFO flwr 2023-07-26 13:07:39,470 | fed_df.py:230 | Number of selected crops : 9272
DEBUG flwr 2023-07-26 13:07:42,136 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=476630)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:09:03,060 | server.py:229 | fit_round 12 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=476777)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=476707)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=476559)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=476561)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=476630)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=476706)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=476707)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=476777)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=476776)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=476775)[0m Fitting Client 7
Performing server side distillation training...
[2m[36m(launch_and_fit pid=476706)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=476561)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=476559)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=476775)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=476776)[0m malloc_consolidate(): invalid chunk size
E0726 13:09:06.400749971  325304 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.008798043066635728, val accuracy : 0.6848400000000001, best val accuracy : 0.6934
Average local training loss : 4.2061154006049035
Average local training accuracy : 0.8674208333333333
INFO flwr 2023-07-26 13:10:27,202 | server.py:116 | fit progress: (12, 1.3481973449707032, {'server_test_acc': 0.6857}, 2129.9826717759715)
INFO flwr 2023-07-26 13:10:27,202 | server.py:163 | evaluate_round 12: no clients selected, cancel
Cluster score for round 13 = 5336.56640625
INFO flwr 2023-07-26 13:10:36,287 | fed_df.py:230 | Number of selected crops : 9465
DEBUG flwr 2023-07-26 13:10:39,006 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=764190)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=764191)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=764119)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=764260)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:12:00,115 | server.py:229 | fit_round 13 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=764192)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=764119)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=764121)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=764190)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=764189)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=764260)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=764192)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=764191)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=764261)[0m Fitting Client 8
Performing server side distillation training...
[2m[36m(launch_and_fit pid=764261)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=764121)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=764189)[0m double free or corruption (fasttop)
E0726 13:12:02.073561549  920585 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.00938378015626222, val accuracy : 0.68578, best val accuracy : 0.6902
Average local training loss : 4.288978366367519
Average local training accuracy : 0.8619736111111111
INFO flwr 2023-07-26 13:13:24,239 | server.py:116 | fit progress: (13, 1.315948355102539, {'server_test_acc': 0.6938}, 2307.0201457629446)
INFO flwr 2023-07-26 13:13:24,239 | server.py:163 | evaluate_round 13: no clients selected, cancel
Cluster score for round 14 = 6967.8681640625
INFO flwr 2023-07-26 13:13:33,330 | fed_df.py:230 | Number of selected crops : 9410
DEBUG flwr 2023-07-26 13:13:36,010 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1049687)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:14:56,742 | server.py:229 | fit_round 14 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1049616)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1049546)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1049616)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1049688)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1049686)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1049687)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1049756)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1049758)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1049757)[0m Fitting Client 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1049686)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1049546)[0m malloc(): unsorted double linked list corrupted
[2m[36m(launch_and_fit pid=1049688)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1049757)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1049758)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1049756)[0m malloc_consolidate(): invalid chunk size
E0726 13:14:59.758430959  921490 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.009628423026762903, val accuracy : 0.6836000000000001, best val accuracy : 0.6874
Average local training loss : 4.200131040252745
Average local training accuracy : 0.8692625
INFO flwr 2023-07-26 13:16:21,575 | server.py:116 | fit progress: (14, 1.2683532470703125, {'server_test_acc': 0.6878}, 2484.3562001780374)
INFO flwr 2023-07-26 13:16:21,575 | server.py:163 | evaluate_round 14: no clients selected, cancel
Cluster score for round 15 = 8466.783203125
INFO flwr 2023-07-26 13:16:30,627 | fed_df.py:230 | Number of selected crops : 9118
DEBUG flwr 2023-07-26 13:16:33,269 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1336343)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:17:54,665 | server.py:229 | fit_round 15 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1336480)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1336482)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1336555)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1336343)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1336480)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1336482)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1336483)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1336552)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1336553)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1336554)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1336555)[0m Fitting Client 17
Warm start at round 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1336554)[0m double free or corruption (fasttop)
E0726 13:17:56.017293920 1489861 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
[2m[36m(launch_and_fit pid=1336483)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1336552)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1336553)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.022895983011461795, val accuracy : 0.7139800000000001, best val accuracy : 0.723
Average local training loss : 4.299766729772091
Average local training accuracy : 0.8607097222222222
INFO flwr 2023-07-26 13:19:20,995 | server.py:116 | fit progress: (15, 1.2824762603759765, {'server_test_acc': 0.7173}, 2663.776149309939)
INFO flwr 2023-07-26 13:19:20,995 | server.py:163 | evaluate_round 15: no clients selected, cancel
Cluster score for round 16 = 2685.21533203125
INFO flwr 2023-07-26 13:19:30,163 | fed_df.py:230 | Number of selected crops : 9185
DEBUG flwr 2023-07-26 13:19:32,816 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1627804)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:20:53,769 | server.py:229 | fit_round 16 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1627842)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1627805)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1627804)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1627842)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1627843)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1627950)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1627841)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1627951)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1627952)[0m Fitting Client 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1627950)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1627805)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1627841)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1627951)[0m malloc_consolidate(): invalid chunk size
E0726 13:20:55.428146472 1491470 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
[2m[36m(launch_and_fit pid=1627952)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1627843)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.008665761622134597, val accuracy : 0.71962, best val accuracy : 0.724
Average local training loss : 3.9704676566645505
Average local training accuracy : 0.8913680555555555
INFO flwr 2023-07-26 13:22:20,439 | server.py:116 | fit progress: (16, 1.1805229278564453, {'server_test_acc': 0.723}, 2843.2201770480024)
INFO flwr 2023-07-26 13:22:20,439 | server.py:163 | evaluate_round 16: no clients selected, cancel
Cluster score for round 17 = 4223.509765625
INFO flwr 2023-07-26 13:22:29,533 | fed_df.py:230 | Number of selected crops : 9356
DEBUG flwr 2023-07-26 13:22:32,261 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1958201)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1958305)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:23:53,696 | server.py:229 | fit_round 17 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1958236)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1958165)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1958201)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1958236)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1958164)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1958374)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1958304)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1958373)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1958305)[0m Fitting Client 2
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1958373)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1958304)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1958164)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1958165)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1958374)[0m malloc_consolidate(): invalid chunk size
E0726 13:23:59.812449483 1790956 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.011821721335873009, val accuracy : 0.72704, best val accuracy : 0.7312
Average local training loss : 3.9215541888028387
Average local training accuracy : 0.8964180555555556
INFO flwr 2023-07-26 13:25:19,182 | server.py:116 | fit progress: (17, 1.1614331726074218, {'server_test_acc': 0.7235}, 3021.9631369319977)
INFO flwr 2023-07-26 13:25:19,182 | server.py:163 | evaluate_round 17: no clients selected, cancel
Cluster score for round 18 = 5416.0205078125
INFO flwr 2023-07-26 13:25:28,210 | fed_df.py:230 | Number of selected crops : 9084
DEBUG flwr 2023-07-26 13:25:30,950 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2245093)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2245103)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:26:52,032 | server.py:229 | fit_round 18 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2245109)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2245093)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2245102)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2245104)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2245103)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2245107)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2245108)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2245109)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2245105)[0m Fitting Client 9
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2245102)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2245105)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2245104)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2245107)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2245108)[0m malloc_consolidate(): invalid chunk size
E0726 13:26:53.843547466 2395605 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.007805130357854068, val accuracy : 0.73512, best val accuracy : 0.7416
Average local training loss : 4.00745181273669
Average local training accuracy : 0.890425
INFO flwr 2023-07-26 13:28:18,450 | server.py:116 | fit progress: (18, 1.1361739105224609, {'server_test_acc': 0.7294}, 3201.2305779600283)
INFO flwr 2023-07-26 13:28:18,450 | server.py:163 | evaluate_round 18: no clients selected, cancel
Cluster score for round 19 = 6197.20361328125
INFO flwr 2023-07-26 13:28:27,578 | fed_df.py:230 | Number of selected crops : 9109
DEBUG flwr 2023-07-26 13:28:30,292 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2532921)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2533064)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2532996)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2533140)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2533141)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2533139)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2533071)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:29:51,915 | server.py:229 | fit_round 19 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2532921)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2532996)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2533071)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2533064)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2533139)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2533141)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2533140)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2533142)[0m Fitting Client 19
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2533142)[0m malloc_consolidate(): invalid chunk size
E0726 13:29:55.060416668 2396297 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.006358998024836183, val accuracy : 0.7258, best val accuracy : 0.7306
Average local training loss : 3.9516114508733153
Average local training accuracy : 0.8932347222222223
INFO flwr 2023-07-26 13:31:19,257 | server.py:116 | fit progress: (19, 1.1658727630615235, {'server_test_acc': 0.7238}, 3382.0381241219584)
INFO flwr 2023-07-26 13:31:19,257 | server.py:163 | evaluate_round 19: no clients selected, cancel
Cluster score for round 20 = 6212.9326171875
INFO flwr 2023-07-26 13:31:28,377 | fed_df.py:230 | Number of selected crops : 9033
DEBUG flwr 2023-07-26 13:31:31,092 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2822017)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2822015)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2821947)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2821945)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2822019)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:32:52,880 | server.py:229 | fit_round 20 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2821945)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2821947)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2822015)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2822018)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2822017)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2821946)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2822016)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2822019)[0m Fitting Client 16
Warm start at round 20
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2822018)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2821946)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2822016)[0m double free or corruption (fasttop)
E0726 13:32:54.441454156 2686058 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.01946509614493698, val accuracy : 0.7409600000000001, best val accuracy : 0.7494
Average local training loss : 3.9427295871078973
Average local training accuracy : 0.8936694444444445
INFO flwr 2023-07-26 13:34:20,733 | server.py:116 | fit progress: (20, 1.1804596160888672, {'server_test_acc': 0.7407}, 3563.5137823949335)
INFO flwr 2023-07-26 13:34:20,733 | server.py:163 | evaluate_round 20: no clients selected, cancel
Cluster score for round 21 = 2930.134765625
INFO flwr 2023-07-26 13:34:29,883 | fed_df.py:230 | Number of selected crops : 8925
DEBUG flwr 2023-07-26 13:34:32,526 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3111234)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3111377)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3111374)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3111304)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:35:53,962 | server.py:229 | fit_round 21 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3111234)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3111304)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3111374)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3111339)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3111375)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3111373)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3111377)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3111376)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3111375)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3111376)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3111373)[0m malloc_consolidate(): invalid chunk size
E0726 13:35:55.683323538 2973092 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3111339)[0m corrupted size vs. prev_size in fastbins
Distillation training stopped at step number : 500
Average fusion training loss : 0.010160440362989902, val accuracy : 0.7424600000000001, best val accuracy : 0.7468
Average local training loss : 3.844583043642342
Average local training accuracy : 0.9051250000000001
INFO flwr 2023-07-26 13:37:21,289 | server.py:116 | fit progress: (21, 1.076494989013672, {'server_test_acc': 0.7373}, 3744.0695875269594)
INFO flwr 2023-07-26 13:37:21,289 | server.py:163 | evaluate_round 21: no clients selected, cancel
Cluster score for round 22 = 5208.302734375
INFO flwr 2023-07-26 13:37:30,454 | fed_df.py:230 | Number of selected crops : 8421
DEBUG flwr 2023-07-26 13:37:32,957 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3445744)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3445751)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:38:54,504 | server.py:229 | fit_round 22 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3445745)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3445747)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3445752)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3445744)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3445745)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3445751)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3445752)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3445747)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3445750)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3445749)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3445754)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3445750)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3445749)[0m malloc_consolidate(): invalid chunk size
E0726 13:38:55.991252020 3596095 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3445754)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.005745071578770876, val accuracy : 0.74736, best val accuracy : 0.7534
Average local training loss : 3.842439281009137
Average local training accuracy : 0.9060152777777777
INFO flwr 2023-07-26 13:40:24,962 | server.py:116 | fit progress: (22, 1.0465463531494141, {'server_test_acc': 0.7461}, 3927.7433529599803)
INFO flwr 2023-07-26 13:40:24,963 | server.py:163 | evaluate_round 22: no clients selected, cancel
Cluster score for round 23 = 7256.47314453125
INFO flwr 2023-07-26 13:40:34,171 | fed_df.py:230 | Number of selected crops : 8704
DEBUG flwr 2023-07-26 13:40:36,783 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3739556)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3739626)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3739555)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3739627)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:41:58,493 | server.py:229 | fit_round 23 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3739556)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3739553)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3739555)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3739625)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3739627)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3739695)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3739626)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3739624)[0m Fitting Client 18
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3739625)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3739553)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3739624)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3739695)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.005550784416962415, val accuracy : 0.74466, best val accuracy : 0.7484
Average local training loss : 3.8330409158021213
Average local training accuracy : 0.9062486111111111
INFO flwr 2023-07-26 13:43:28,552 | server.py:116 | fit progress: (23, 1.011892770385742, {'server_test_acc': 0.7438}, 4111.333076130948)
INFO flwr 2023-07-26 13:43:28,552 | server.py:163 | evaluate_round 23: no clients selected, cancel
Cluster score for round 24 = 7767.8203125
INFO flwr 2023-07-26 13:43:37,815 | fed_df.py:230 | Number of selected crops : 8663
DEBUG flwr 2023-07-26 13:43:40,380 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=4033727)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:45:01,347 | server.py:229 | fit_round 24 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=4033818)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4033729)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=4033727)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=4033816)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=4033731)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=4033820)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=4033814)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=4033818)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=4033819)[0m Fitting Client 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=4033816)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4033729)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4033820)[0m double free or corruption (fasttop)
E0726 13:45:02.809370033 4141172 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 13:45:02.809501807 4141172 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 13:45:02.809522904 4141172 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 13:45:02.809536955 4141172 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=4033731)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4033819)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.009475605558604001, val accuracy : 0.73824, best val accuracy : 0.7406
Average local training loss : 3.8780693309381604
Average local training accuracy : 0.9021430555555554
INFO flwr 2023-07-26 13:46:31,887 | server.py:116 | fit progress: (24, 1.038970230102539, {'server_test_acc': 0.7329}, 4294.66782679304)
INFO flwr 2023-07-26 13:46:31,887 | server.py:163 | evaluate_round 24: no clients selected, cancel
Cluster score for round 25 = 8067.62109375
INFO flwr 2023-07-26 13:46:41,235 | fed_df.py:230 | Number of selected crops : 8266
DEBUG flwr 2023-07-26 13:46:43,731 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=135563)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=135562)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=135713)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:48:04,892 | server.py:229 | fit_round 25 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=135566)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=135566)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=135714)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=135713)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=135634)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=135715)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=135564)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=135563)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=135562)[0m Fitting Client 14
Warm start at round 25
Performing server side distillation training...
[2m[36m(launch_and_fit pid=135714)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=135634)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=135564)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=135715)[0m malloc_consolidate(): invalid chunk size
E0726 13:48:07.757416864  299153 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.03231941504590213, val accuracy : 0.71622, best val accuracy : 0.7446
Average local training loss : 3.7998002469539642
Average local training accuracy : 0.9077875
INFO flwr 2023-07-26 13:49:34,169 | server.py:116 | fit progress: (25, 1.136354248046875, {'server_test_acc': 0.7427}, 4476.950231406023)
INFO flwr 2023-07-26 13:49:34,169 | server.py:163 | evaluate_round 25: no clients selected, cancel
Cluster score for round 26 = 2560.66845703125
INFO flwr 2023-07-26 13:49:43,348 | fed_df.py:230 | Number of selected crops : 8868
DEBUG flwr 2023-07-26 13:49:45,996 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=429385)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:51:07,245 | server.py:229 | fit_round 26 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=429383)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=429385)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=429523)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=429595)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=429525)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=429594)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=429524)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=429593)[0m Fitting Client 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=429594)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=429593)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=429524)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=429383)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=429595)[0m malloc_consolidate(): invalid chunk size
E0726 13:51:08.603253744  301377 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=429523)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=429525)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.01220597799681127, val accuracy : 0.7581399999999999, best val accuracy : 0.7646
Average local training loss : 3.6480881806463
Average local training accuracy : 0.9214541666666667
INFO flwr 2023-07-26 13:52:33,164 | server.py:116 | fit progress: (26, 1.0284673156738282, {'server_test_acc': 0.7531}, 4655.944793581963)
INFO flwr 2023-07-26 13:52:33,164 | server.py:163 | evaluate_round 26: no clients selected, cancel
Cluster score for round 27 = 3794.052978515625
INFO flwr 2023-07-26 13:52:42,544 | fed_df.py:230 | Number of selected crops : 8263
DEBUG flwr 2023-07-26 13:52:45,035 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=744693)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=744727)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=744692)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:54:06,834 | server.py:229 | fit_round 27 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=744698)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=744721)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=744692)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=744693)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=744697)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=744698)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=744727)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=744721)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=744612)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=744696)[0m Fitting Client 9
Performing server side distillation training...
[2m[36m(launch_and_fit pid=744697)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=744612)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=744696)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.00731607431313023, val accuracy : 0.7585, best val accuracy : 0.7626
Average local training loss : 3.6898639023303987
Average local training accuracy : 0.9164208333333334
INFO flwr 2023-07-26 13:55:36,786 | server.py:116 | fit progress: (27, 1.0033129333496094, {'server_test_acc': 0.7608}, 4839.56723566202)
INFO flwr 2023-07-26 13:55:36,786 | server.py:163 | evaluate_round 27: no clients selected, cancel
E0726 13:55:39.177423206 1046719 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Cluster score for round 28 = 4674.5908203125
INFO flwr 2023-07-26 13:55:45,884 | fed_df.py:230 | Number of selected crops : 8695
DEBUG flwr 2023-07-26 13:55:48,475 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1055844)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:57:09,809 | server.py:229 | fit_round 28 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1055844)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1055913)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1055912)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1055914)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1055984)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1055843)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1055915)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1055916)[0m Fitting Client 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1055914)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1055984)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1055843)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1055913)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1055916)[0m malloc_consolidate(): invalid chunk size
E0726 13:57:11.376144679 1048173 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1055912)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1055915)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.008911736681126058, val accuracy : 0.75928, best val accuracy : 0.763
Average local training loss : 3.674464482814074
Average local training accuracy : 0.9168986111111112
INFO flwr 2023-07-26 13:58:40,045 | server.py:116 | fit progress: (28, 0.9517324890136719, {'server_test_acc': 0.7546}, 5022.825825896929)
INFO flwr 2023-07-26 13:58:40,045 | server.py:163 | evaluate_round 28: no clients selected, cancel
Cluster score for round 29 = 5755.56298828125
INFO flwr 2023-07-26 13:58:49,257 | fed_df.py:230 | Number of selected crops : 8358
DEBUG flwr 2023-07-26 13:58:51,782 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1351029)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1351043)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1351032)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:00:14,216 | server.py:229 | fit_round 29 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1351027)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1351029)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1351032)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1351034)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1351035)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1351041)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1351042)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1351043)[0m Fitting Client 19
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1351035)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1351027)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1351034)[0m malloc_consolidate(): invalid chunk size
E0726 14:00:15.551306906 1224103 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1351042)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1351041)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.008111312991008162, val accuracy : 0.74976, best val accuracy : 0.754
Average local training loss : 3.5911227766424414
Average local training accuracy : 0.9232111111111111
INFO flwr 2023-07-26 14:01:43,733 | server.py:116 | fit progress: (29, 0.9555849884033203, {'server_test_acc': 0.7448}, 5206.514045733027)
INFO flwr 2023-07-26 14:01:43,733 | server.py:163 | evaluate_round 29: no clients selected, cancel
Cluster score for round 30 = 7129.1015625
INFO flwr 2023-07-26 14:01:52,982 | fed_df.py:230 | Number of selected crops : 8018
DEBUG flwr 2023-07-26 14:01:55,436 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1647229)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1647083)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:03:21,929 | server.py:229 | fit_round 30 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1647155)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1647082)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1647083)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1647155)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1647230)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1647231)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1647084)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1647080)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1647229)[0m Fitting Client 14
Warm start at round 30
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1647082)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1647084)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1647230)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1647080)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1647231)[0m double free or corruption (fasttop)
E0726 14:03:25.468821917 1522797 chttp2_transport.cc:1079]             ipv4:145.136.62.31:61453: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.02314778846781701, val accuracy : 0.7523799999999999, best val accuracy : 0.7622
Average local training loss : 3.7731709944084284
Average local training accuracy : 0.908088888888889
INFO flwr 2023-07-26 14:04:54,932 | server.py:116 | fit progress: (30, 1.135661050415039, {'server_test_acc': 0.761}, 5397.713455711957)
INFO flwr 2023-07-26 14:04:54,933 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-07-26 14:04:54,933 | server.py:144 | FL finished in 5397.713944004965
INFO flwr 2023-07-26 14:04:54,933 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-07-26 14:04:54,934 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-07-26 14:04:54,934 | app.py:204 | app_fit: losses_centralized [(0, 2.4661781799316405), (1, 1.7007087310791016), (2, 1.3844980834960938), (3, 1.4629045501708984), (4, 1.407759686279297), (5, 1.369479638671875), (6, 1.381250228881836), (7, 1.386314727783203), (8, 1.3968448822021484), (9, 1.3942526977539063), (10, 1.4831926940917968), (11, 1.391114389038086), (12, 1.3481973449707032), (13, 1.315948355102539), (14, 1.2683532470703125), (15, 1.2824762603759765), (16, 1.1805229278564453), (17, 1.1614331726074218), (18, 1.1361739105224609), (19, 1.1658727630615235), (20, 1.1804596160888672), (21, 1.076494989013672), (22, 1.0465463531494141), (23, 1.011892770385742), (24, 1.038970230102539), (25, 1.136354248046875), (26, 1.0284673156738282), (27, 1.0033129333496094), (28, 0.9517324890136719), (29, 0.9555849884033203), (30, 1.135661050415039)]
INFO flwr 2023-07-26 14:04:54,934 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.0915), (1, 0.4473), (2, 0.5405), (3, 0.5521), (4, 0.5691), (5, 0.6105), (6, 0.6411), (7, 0.6358), (8, 0.6478), (9, 0.6449), (10, 0.6801), (11, 0.6959), (12, 0.6857), (13, 0.6938), (14, 0.6878), (15, 0.7173), (16, 0.723), (17, 0.7235), (18, 0.7294), (19, 0.7238), (20, 0.7407), (21, 0.7373), (22, 0.7461), (23, 0.7438), (24, 0.7329), (25, 0.7427), (26, 0.7531), (27, 0.7608), (28, 0.7546), (29, 0.7448), (30, 0.761)]}
double free or corruption (fasttop)
srun: error: gcn31: task 0: Aborted
srun: Terminating StepId=3152535.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3152535
Cluster: snellius
User/Group: sunnys/sunnys
State: COMPLETED (exit code 0)
Nodes: 1
Cores per node: 18
CPU Utilized: 03:09:12
CPU Efficiency: 11.19% of 1-04:10:12 core-walltime
Job Wall-clock time: 01:33:54
Memory Utilized: 61.44 GB
Memory Efficiency: 51.20% of 120.00 GB
