-----BEGIN-----
-----SETTINGS-----
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:pathmnist
PARTITION_ALPHA:10.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:40
LOCAL_LR:0.05
DISTILL_BATCH_SIZE:512
SERVER_LR:0.005
SERVER_STEPS:500
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
SEED:127
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:colonpath_sample.jpg
DISTILL_DATASET:cifar100
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:10000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:5
KMEANS_N_CLUSTER:50
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
CONFIDENCE_THRESHOLD:0.9
CONFIDENCE_MIN_CROPS:2500
CLIPPING_FACTOR:2.5
FEDPROX_FACTOR:1.0
FEDPROX_ADAPTIVE:False
USE_CLIPPING:True
USE_ENTROPY:True
USE_KMEANS:True
USE_FEDPROX:False
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=100000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/colonpath_sample.jpg', targetpath='/scratch-local/sunnys.3152538/1690367600_719992439', seed=127, img_per_thread=5555)
will save 100000 patches in /scratch-local/sunnys.3152538/1690367600_719992439/single_img_crops/crops
100000 took 0.62min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-07-26 12:34:13,343 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-07-26 12:34:13,343 | simulate.py:55 | Reading args from argument parser
Downloading https://zenodo.org/record/6496656/files/pathmnist.npz?download=1 to /scratch-local/sunnys.3152538/1690367600_719992439/pathmnist.npz
Generating unified pathmnist dataset
Class histogram for 0-th partition (alpha=10.0, 9 classes): [308 626 295 736 482 616 473 575 389]
INFO flwr 2023-07-26 12:36:38,122 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-07-26 12:36:41,209	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8265 [39m[22m
INFO flwr 2023-07-26 12:36:42,301 | app.py:179 | Flower VCE: Ray initialized with resources: {'GPU': 1.0, 'object_store_memory': 61847529062.0, 'memory': 103079215104.0, 'accelerator_type:A100': 1.0, 'CPU': 18.0, 'node:145.136.62.34': 1.0}
INFO flwr 2023-07-26 12:36:42,302 | server.py:86 | Initializing global parameters
INFO flwr 2023-07-26 12:36:42,302 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-07-26 12:36:42,302 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-07-26 12:36:52,103 | server.py:91 | initial parameters (loss, other metrics): 2.202056367815703, {'server_test_acc': 0.06044568245125348}
INFO flwr 2023-07-26 12:36:52,103 | server.py:101 | FL starting
Cluster score for round 1 = 813.187744140625
INFO flwr 2023-07-26 12:37:00,309 | fed_df.py:230 | Number of selected crops : 10000
DEBUG flwr 2023-07-26 12:37:03,214 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3676635)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3676628)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:38:38,380 | server.py:229 | fit_round 1 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3676632)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3676633)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3676630)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3676633)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3676628)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3676629)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3676632)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3676631)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3676634)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3676635)[0m Fitting Client 13
Warm start at round 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3676631)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3676630)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3676634)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3676629)[0m malloc_consolidate(): invalid chunk size
E0726 12:38:41.426480584 3846642 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
E0726 12:38:41.429400084 3846642 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
E0726 12:38:41.429413755 3846642 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
E0726 12:38:41.429426770 3846642 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.3600125527381897, val accuracy : 0.41919742107603375, best val accuracy : 0.4986660738105825
Average local training loss : 8.05560861621052
Average local training accuracy : 0.7273572530864197
INFO flwr 2023-07-26 12:39:50,673 | server.py:116 | fit progress: (1, 4.871880602504549, {'server_test_acc': 0.32493036211699167}, 178.56941781495698)
INFO flwr 2023-07-26 12:39:50,673 | server.py:163 | evaluate_round 1: no clients selected, cancel
Cluster score for round 2 = 104648.140625
INFO flwr 2023-07-26 12:39:59,512 | fed_df.py:230 | Number of selected crops : 5665
DEBUG flwr 2023-07-26 12:40:01,462 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3956997)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3957034)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3957037)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3956993)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:41:31,463 | server.py:229 | fit_round 2 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3957035)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3956993)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3957033)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3957034)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3957037)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3956998)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3957036)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3956997)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3957035)[0m Fitting Client 11
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3956998)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3957033)[0m malloc_consolidate(): invalid chunk size
E0726 12:41:33.122412592 3846852 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
E0726 12:42:42.856452419 4131753 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.09004607801884412, val accuracy : 0.35782570031124944, best val accuracy : 0.4294130724766563
Average local training loss : 7.113796355389058
Average local training accuracy : 0.7855
INFO flwr 2023-07-26 12:43:19,122 | server.py:116 | fit progress: (2, 2.55708212493854, {'server_test_acc': 0.403899721448468}, 387.0189361840021)
INFO flwr 2023-07-26 12:43:19,122 | server.py:163 | evaluate_round 2: no clients selected, cancel
Cluster score for round 3 = 188932.5625
INFO flwr 2023-07-26 12:43:28,138 | fed_df.py:230 | Number of selected crops : 5439
DEBUG flwr 2023-07-26 12:43:30,038 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=94019)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=93948)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=93950)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:44:59,295 | server.py:229 | fit_round 3 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=94018)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=94022)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=93946)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=93948)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=93950)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=94019)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=94018)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=94021)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=94020)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=94022)[0m Fitting Client 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=93946)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=94021)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=94020)[0m double free or corruption (fasttop)
E0726 12:45:01.312238292   35788 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.08646313911676407, val accuracy : 0.3623165851489551, best val accuracy : 0.40584704313028014
Average local training loss : 6.99285399708897
Average local training accuracy : 0.7926913580246915
INFO flwr 2023-07-26 12:46:55,302 | server.py:116 | fit progress: (3, 3.1691297164534458, {'server_test_acc': 0.3402506963788301}, 603.1990966229932)
INFO flwr 2023-07-26 12:46:55,303 | server.py:163 | evaluate_round 3: no clients selected, cancel
Cluster score for round 4 = 238302.59375
INFO flwr 2023-07-26 12:47:04,288 | fed_df.py:230 | Number of selected crops : 5379
DEBUG flwr 2023-07-26 12:47:06,179 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=454779)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=454694)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=454706)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=454692)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=454790)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 12:48:36,039 | server.py:229 | fit_round 4 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=454694)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=454778)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=454706)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=454792)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=454779)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=454790)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=454692)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=454791)[0m Fitting Client 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=454792)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=454778)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=454791)[0m double free or corruption (fasttop)
E0726 12:49:08.353041229  669527 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.17991752433776856, val accuracy : 0.4146509559804358, best val accuracy : 0.5021120497999111
Average local training loss : 6.908985842950642
Average local training accuracy : 0.7966288580246914
INFO flwr 2023-07-26 12:50:32,521 | server.py:116 | fit progress: (4, 4.454591330313085, {'server_test_acc': 0.39303621169916436}, 820.4175530900247)
INFO flwr 2023-07-26 12:50:32,521 | server.py:163 | evaluate_round 4: no clients selected, cancel
Cluster score for round 5 = 225754.28125
INFO flwr 2023-07-26 12:50:41,629 | fed_df.py:230 | Number of selected crops : 4769
DEBUG flwr 2023-07-26 12:50:43,411 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=811133)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=811063)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=811061)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=811062)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=811132)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:52:13,078 | server.py:229 | fit_round 5 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=811061)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=810991)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=811062)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=811060)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=811063)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=811133)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=811132)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=811131)[0m Fitting Client 16
Warm start at round 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=810991)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=811060)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=811131)[0m malloc_consolidate(): invalid chunk size
E0726 12:52:14.245667090  958144 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.20888994109630585, val accuracy : 0.3258003557136505, best val accuracy : 0.40862605602489993
Average local training loss : 6.514885708689689
Average local training accuracy : 0.8206766975308641
INFO flwr 2023-07-26 12:54:18,015 | server.py:116 | fit progress: (5, 4.768978269252936, {'server_test_acc': 0.3098885793871866}, 1045.9115977369947)
INFO flwr 2023-07-26 12:54:18,015 | server.py:163 | evaluate_round 5: no clients selected, cancel
Cluster score for round 6 = 94851.96875
INFO flwr 2023-07-26 12:54:26,966 | fed_df.py:230 | Number of selected crops : 5466
DEBUG flwr 2023-07-26 12:54:28,904 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 12:55:57,454 | server.py:229 | fit_round 6 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1159821)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1159912)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1159914)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1159915)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1159916)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1159917)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1159911)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1159913)[0m Fitting Client 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1159821)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1159915)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1159914)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1159917)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1159916)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1159912)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1159911)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1159913)[0m double free or corruption (fasttop)
E0726 12:57:34.661685513 1460704 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.3454836379289627, val accuracy : 0.21252779012894618, best val accuracy : 0.24599822143174743
Average local training loss : 6.134156865626575
Average local training accuracy : 0.8496180555555556
INFO flwr 2023-07-26 12:57:54,664 | server.py:116 | fit progress: (6, 4.1439130607753745, {'server_test_acc': 0.16183844011142062}, 1262.5602677379502)
INFO flwr 2023-07-26 12:57:54,664 | server.py:163 | evaluate_round 6: no clients selected, cancel
Cluster score for round 7 = 65588.5546875
INFO flwr 2023-07-26 12:58:03,651 | fed_df.py:230 | Number of selected crops : 3818
DEBUG flwr 2023-07-26 12:58:05,184 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1496516)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1496439)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 12:59:34,028 | server.py:229 | fit_round 7 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1496439)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1496447)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1496517)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1496441)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1496445)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1496444)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1496516)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1496443)[0m Fitting Client 18
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1496443)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1496447)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1496441)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1496445)[0m malloc_consolidate(): invalid chunk size
E0726 12:59:35.783677684 1639431 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
E0726 12:59:35.783777732 1639431 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
[2m[36m(launch_and_fit pid=1496444)[0m double free or corruption (fasttop)
E0726 13:00:50.848998117 1639573 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.20492070597410203, val accuracy : 0.350811471765229, best val accuracy : 0.45286794130724767
Average local training loss : 5.753394713252784
Average local training accuracy : 0.8711342592592592
INFO flwr 2023-07-26 13:02:00,083 | server.py:116 | fit progress: (7, 5.088599016938701, {'server_test_acc': 0.4863509749303621}, 1507.979948326014)
INFO flwr 2023-07-26 13:02:00,083 | server.py:163 | evaluate_round 7: no clients selected, cancel
Cluster score for round 8 = 88419.140625
INFO flwr 2023-07-26 13:02:09,123 | fed_df.py:230 | Number of selected crops : 5176
DEBUG flwr 2023-07-26 13:02:11,029 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1896535)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1896542)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:03:40,216 | server.py:229 | fit_round 8 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1896541)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1896535)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1896624)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1896618)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1896543)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1896544)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1896542)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1896617)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1896541)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1896618)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1896543)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1896544)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1896617)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1896624)[0m double free or corruption (fasttop)
E0726 13:03:45.494894511 2063638 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.0718353242278099, val accuracy : 0.4625055580257893, best val accuracy : 0.4836594041796354
Average local training loss : 5.945740905590356
Average local training accuracy : 0.860804012345679
INFO flwr 2023-07-26 13:05:36,934 | server.py:116 | fit progress: (8, 2.0974969624808906, {'server_test_acc': 0.47298050139275766}, 1724.8310495410115)
INFO flwr 2023-07-26 13:05:36,935 | server.py:163 | evaluate_round 8: no clients selected, cancel
Cluster score for round 9 = 100020.28125
INFO flwr 2023-07-26 13:05:45,992 | fed_df.py:230 | Number of selected crops : 5727
DEBUG flwr 2023-07-26 13:05:47,981 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2259714)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2259713)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:07:17,497 | server.py:229 | fit_round 9 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2259643)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2259715)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2259641)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2259641)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2259714)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2259712)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2259716)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2259715)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2259713)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2259711)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2259711)[0m 
[2m[36m(launch_and_fit pid=2259643)[0m Fitting Client 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2259711)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2259712)[0m malloc_consolidate(): invalid chunk size
E0726 13:07:18.891367714 2064283 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
[2m[36m(launch_and_fit pid=2259716)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.12243501181900501, val accuracy : 0.35046687416629607, best val accuracy : 0.43319253001333924
Average local training loss : 5.693067125603556
Average local training accuracy : 0.8743317901234567
INFO flwr 2023-07-26 13:09:04,459 | server.py:116 | fit progress: (9, 2.6588361572754415, {'server_test_acc': 0.2541782729805014}, 1932.3556520950515)
INFO flwr 2023-07-26 13:09:04,459 | server.py:163 | evaluate_round 9: no clients selected, cancel
Cluster score for round 10 = 74024.7421875
INFO flwr 2023-07-26 13:09:13,779 | fed_df.py:230 | Number of selected crops : 5142
DEBUG flwr 2023-07-26 13:09:15,667 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2581709)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2581983)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2581963)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:10:45,584 | server.py:229 | fit_round 10 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2581709)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2581963)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2581983)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2581985)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2581960)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2581982)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2581961)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2581984)[0m Fitting Client 3
Warm start at round 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2581982)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2581984)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2581961)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2581960)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2581985)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.2080658446997404, val accuracy : 0.41405068919519783, best val accuracy : 0.44853268119164075
Average local training loss : 6.231298227980733
Average local training accuracy : 0.8434104938271606
INFO flwr 2023-07-26 13:12:40,765 | server.py:116 | fit progress: (10, 9.293770820383907, {'server_test_acc': 0.3363509749303621}, 2148.6618904089555)
INFO flwr 2023-07-26 13:12:40,765 | server.py:163 | evaluate_round 10: no clients selected, cancel
Cluster score for round 11 = 84754.4375
INFO flwr 2023-07-26 13:12:49,983 | fed_df.py:230 | Number of selected crops : 5149
DEBUG flwr 2023-07-26 13:12:51,863 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2912826)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2912824)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:14:21,146 | server.py:229 | fit_round 11 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2912823)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2912825)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2912826)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2912824)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2912820)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2912822)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2912827)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2912821)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2912822)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2912827)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2912820)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2912821)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2912825)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2912823)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.06213656631857157, val accuracy : 0.39156291685193423, best val accuracy : 0.4444197421076034
Average local training loss : 5.087668925337494
Average local training accuracy : 0.9123742283950618
INFO flwr 2023-07-26 13:16:14,176 | server.py:116 | fit progress: (11, 14.293413037908442, {'server_test_acc': 0.31559888579387185}, 2362.0729740329552)
INFO flwr 2023-07-26 13:16:14,176 | server.py:163 | evaluate_round 11: no clients selected, cancel
Cluster score for round 12 = 184732.1875
INFO flwr 2023-07-26 13:16:23,464 | fed_df.py:230 | Number of selected crops : 4793
DEBUG flwr 2023-07-26 13:16:25,277 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3243192)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3243202)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:17:54,954 | server.py:229 | fit_round 12 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3243192)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3243202)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3243204)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3243203)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3243193)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3243185)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3243194)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3243205)[0m Fitting Client 3
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3243194)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3243204)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3243185)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3243203)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3243205)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3243193)[0m malloc_consolidate(): invalid chunk size
E0726 13:18:00.667851140 3262882 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.032675084827467796, val accuracy : 0.3448310360160071, best val accuracy : 0.40884837705646954
Average local training loss : 5.195320265926421
Average local training accuracy : 0.906557098765432
INFO flwr 2023-07-26 13:19:55,373 | server.py:116 | fit progress: (12, 6.299180622153959, {'server_test_acc': 0.25877437325905295}, 2583.269309661002)
INFO flwr 2023-07-26 13:19:55,373 | server.py:163 | evaluate_round 12: no clients selected, cancel
Cluster score for round 13 = 136022.6875
INFO flwr 2023-07-26 13:20:04,447 | fed_df.py:230 | Number of selected crops : 5227
DEBUG flwr 2023-07-26 13:20:06,409 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3611906)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:21:34,585 | server.py:229 | fit_round 13 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3611906)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3612038)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3612039)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3612029)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3612028)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3612037)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3612030)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3612031)[0m Fitting Client 17
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3612031)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3612039)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3612038)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3612030)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3612029)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3612028)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3612037)[0m malloc_consolidate(): invalid chunk size
E0726 13:21:36.388256733 3802246 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.20801725256443024, val accuracy : 0.31237216540684754, best val accuracy : 0.38861716318363715
Average local training loss : 5.362171450443566
Average local training accuracy : 0.8979961419753086
INFO flwr 2023-07-26 13:23:27,464 | server.py:116 | fit progress: (13, 6.1312385962866145, {'server_test_acc': 0.32785515320334263}, 2795.361190999043)
INFO flwr 2023-07-26 13:23:27,465 | server.py:163 | evaluate_round 13: no clients selected, cancel
Cluster score for round 14 = 106623.4375
INFO flwr 2023-07-26 13:23:36,514 | fed_df.py:230 | Number of selected crops : 3668
DEBUG flwr 2023-07-26 13:23:38,036 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3947988)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3948026)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:25:06,830 | server.py:229 | fit_round 14 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3948025)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3947988)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3948023)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3948024)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3948026)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3948144)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3947987)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3948145)[0m Fitting Client 2
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3948023)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3948144)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3948024)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3948025)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3947987)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3948145)[0m malloc_consolidate(): invalid chunk size
E0726 13:25:10.595056023 3802515 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.09821755368262529, val accuracy : 0.36126056024899955, best val accuracy : 0.39951089373054693
Average local training loss : 5.193572176713496
Average local training accuracy : 0.9081489197530864
INFO flwr 2023-07-26 13:27:29,262 | server.py:116 | fit progress: (14, 5.849148492627157, {'server_test_acc': 0.304874651810585}, 3037.158339609974)
INFO flwr 2023-07-26 13:27:29,262 | server.py:163 | evaluate_round 14: no clients selected, cancel
Cluster score for round 15 = 155696.34375
INFO flwr 2023-07-26 13:27:38,536 | fed_df.py:230 | Number of selected crops : 2945
DEBUG flwr 2023-07-26 13:27:39,906 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=140768)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=140772)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=140766)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 13:29:07,986 | server.py:229 | fit_round 15 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=140768)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=140766)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=140772)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=140775)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=140774)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=140773)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=140764)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=140771)[0m Fitting Client 14
Warm start at round 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=140771)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=140764)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=140774)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=140775)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=140773)[0m malloc_consolidate(): invalid chunk size
E0726 13:29:15.796296839  321687 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
E0726 13:31:31.340215762  515896 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.095435183621943, val accuracy : 0.4201756336149399, best val accuracy : 0.48743886171631834
Average local training loss : 5.369871212914586
Average local training accuracy : 0.897744598765432
INFO flwr 2023-07-26 13:32:18,248 | server.py:116 | fit progress: (15, 10.462643942128981, {'server_test_acc': 0.38760445682451256}, 3326.1447508350248)
INFO flwr 2023-07-26 13:32:18,248 | server.py:163 | evaluate_round 15: no clients selected, cancel
Cluster score for round 16 = 117304.25
INFO flwr 2023-07-26 13:32:27,361 | fed_df.py:230 | Number of selected crops : 5054
DEBUG flwr 2023-07-26 13:32:29,191 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=622403)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=622307)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:33:57,793 | server.py:229 | fit_round 16 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=622307)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=622359)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=622389)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=622310)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=622397)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=622402)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=622403)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=622396)[0m Fitting Client 3
Performing server side distillation training...
[2m[36m(launch_and_fit pid=622389)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=622396)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=622359)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=622402)[0m malloc_consolidate(): invalid chunk size
E0726 13:33:59.664289272  520241 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=622397)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.30048686477541925, val accuracy : 0.34819919964428636, best val accuracy : 0.3839484215206759
Average local training loss : 4.605971071869135
Average local training accuracy : 0.9421759259259259
INFO flwr 2023-07-26 13:36:03,256 | server.py:116 | fit progress: (16, 13.485730421443504, {'server_test_acc': 0.2544568245125348}, 3551.152454450028)
INFO flwr 2023-07-26 13:36:03,256 | server.py:163 | evaluate_round 16: no clients selected, cancel
Cluster score for round 17 = 196171.453125
INFO flwr 2023-07-26 13:36:12,439 | fed_df.py:230 | Number of selected crops : 3134
DEBUG flwr 2023-07-26 13:36:13,837 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=992506)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=992503)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=992576)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:37:42,554 | server.py:229 | fit_round 17 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=992506)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=992503)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=992576)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=992575)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=992504)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=992578)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=992646)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=992577)[0m Fitting Client 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=992504)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=992646)[0m malloc_consolidate(): invalid chunk size
E0726 13:37:43.859708946  781856 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=992578)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=992577)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=992575)[0m double free or corruption (fasttop)
E0726 13:39:06.619400951 1143850 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.18796083602309227, val accuracy : 0.33065807025344596, best val accuracy : 0.42396620720320144
Average local training loss : 4.762338435743004
Average local training accuracy : 0.9330987654320988
INFO flwr 2023-07-26 13:40:25,009 | server.py:116 | fit progress: (17, 6.581828598192475, {'server_test_acc': 0.37089136490250696}, 3812.906154543045)
INFO flwr 2023-07-26 13:40:25,010 | server.py:163 | evaluate_round 17: no clients selected, cancel
Cluster score for round 18 = 106910.5625
INFO flwr 2023-07-26 13:40:34,094 | fed_df.py:230 | Number of selected crops : 4857
DEBUG flwr 2023-07-26 13:40:35,943 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1395501)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1395502)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1395431)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:42:04,111 | server.py:229 | fit_round 18 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1395429)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1395430)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1395500)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1395501)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1395431)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1395502)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1395503)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1395499)[0m Fitting Client 0
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1395429)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1395500)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1395499)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1395430)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1395503)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.044022650077939034, val accuracy : 0.46737438861716313, best val accuracy : 0.5006669630947087
Average local training loss : 4.75661043189466
Average local training accuracy : 0.9332608024691359
INFO flwr 2023-07-26 13:44:06,859 | server.py:116 | fit progress: (18, 9.838231675936983, {'server_test_acc': 0.45389972144846796}, 4034.7562376400456)
INFO flwr 2023-07-26 13:44:06,860 | server.py:163 | evaluate_round 18: no clients selected, cancel
Cluster score for round 19 = 126869.125
INFO flwr 2023-07-26 13:44:16,165 | fed_df.py:230 | Number of selected crops : 4665
DEBUG flwr 2023-07-26 13:44:17,955 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1725299)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1725438)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1725439)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:45:46,606 | server.py:229 | fit_round 19 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1725299)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1725298)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1725304)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1725439)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1725438)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1725297)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1725440)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1725437)[0m Fitting Client 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1725297)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1725437)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1725298)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1725440)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1725304)[0m malloc_consolidate(): invalid chunk size
E0726 13:45:49.781159818 1903397 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.16007040178775786, val accuracy : 0.43242552245442417, best val accuracy : 0.47487772343263673
Average local training loss : 4.788895413931459
Average local training accuracy : 0.9320733024691357
INFO flwr 2023-07-26 13:47:49,648 | server.py:116 | fit progress: (19, 4.822946432108335, {'server_test_acc': 0.36559888579387184}, 4257.544794579968)
INFO flwr 2023-07-26 13:47:49,648 | server.py:163 | evaluate_round 19: no clients selected, cancel
Cluster score for round 20 = 101520.734375
INFO flwr 2023-07-26 13:47:58,905 | fed_df.py:230 | Number of selected crops : 2760
DEBUG flwr 2023-07-26 13:48:00,280 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2096959)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2097237)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2097238)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2097245)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2097233)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2097239)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:49:29,929 | server.py:229 | fit_round 20 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2096959)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2097237)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2097238)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2097239)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2097233)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2097245)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2097240)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2097009)[0m Fitting Client 14
Warm start at round 20
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2097240)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2097009)[0m malloc_consolidate(): invalid chunk size
E0726 13:49:33.525223461 2278047 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 13:49:33.525324083 2278047 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.12567268708348275, val accuracy : 0.4060915962650067, best val accuracy : 0.43963983992885725
Average local training loss : 4.861876978445798
Average local training accuracy : 0.9272175925925925
INFO flwr 2023-07-26 13:52:32,467 | server.py:116 | fit progress: (20, 6.954879171004866, {'server_test_acc': 0.30250696378830083}, 4540.364031970967)
INFO flwr 2023-07-26 13:52:32,468 | server.py:163 | evaluate_round 20: no clients selected, cancel
Cluster score for round 21 = 55395.9609375
INFO flwr 2023-07-26 13:52:41,643 | fed_df.py:230 | Number of selected crops : 5152
DEBUG flwr 2023-07-26 13:52:43,534 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2566546)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2566562)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2566547)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2566560)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2566564)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2566563)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:54:12,995 | server.py:229 | fit_round 21 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2566546)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2566562)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2566564)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2566545)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2566547)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2566561)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2566560)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2566563)[0m Fitting Client 2
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2566545)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2566561)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.148700011536479, val accuracy : 0.4332481102712317, best val accuracy : 0.49121831925300136
Average local training loss : 4.454974516946822
Average local training accuracy : 0.9513456790123457
INFO flwr 2023-07-26 13:56:07,454 | server.py:116 | fit progress: (21, 5.654620786364032, {'server_test_acc': 0.3525069637883008}, 4755.35047645506)
INFO flwr 2023-07-26 13:56:07,454 | server.py:163 | evaluate_round 21: no clients selected, cancel
Cluster score for round 22 = 101654.1640625
INFO flwr 2023-07-26 13:56:16,604 | fed_df.py:230 | Number of selected crops : 4895
DEBUG flwr 2023-07-26 13:56:18,435 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2883851)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2883806)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 13:57:47,691 | server.py:229 | fit_round 22 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2883806)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2883803)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2883837)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2883843)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2883851)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2883846)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2883850)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2883845)[0m Fitting Client 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2883803)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2883845)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2883846)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2883837)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2883843)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2883850)[0m malloc_consolidate(): invalid chunk size
E0726 13:57:50.633970378 2722401 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 13:59:14.310686450 3055559 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.11783825978636742, val accuracy : 0.5555580257892397, best val accuracy : 0.5748110271231659
Average local training loss : 4.457526455912738
Average local training accuracy : 0.9516249999999999
INFO flwr 2023-07-26 13:59:49,691 | server.py:116 | fit progress: (22, 5.883461901736458, {'server_test_acc': 0.48245125348189416}, 4977.587424334022)
INFO flwr 2023-07-26 13:59:49,691 | server.py:163 | evaluate_round 22: no clients selected, cancel
Cluster score for round 23 = 107260.3125
INFO flwr 2023-07-26 13:59:58,932 | fed_df.py:230 | Number of selected crops : 4624
DEBUG flwr 2023-07-26 14:00:00,754 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3223556)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3223691)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3223689)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3223555)[0m corrupted size vs. prev_size in fastbins
DEBUG flwr 2023-07-26 14:01:31,225 | server.py:229 | fit_round 23 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3223556)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3223690)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3223692)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3223689)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3223691)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3223555)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3223693)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3223694)[0m Fitting Client 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3223694)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3223693)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3223692)[0m double free or corruption (fasttop)
E0726 14:01:32.812713990 3402825 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3223690)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.05654464298859239, val accuracy : 0.5144397510004447, best val accuracy : 0.5775900400177857
Average local training loss : 4.544983760733158
Average local training accuracy : 0.9461442901234567
INFO flwr 2023-07-26 14:03:32,977 | server.py:116 | fit progress: (23, 9.165093500036383, {'server_test_acc': 0.49428969359331476}, 5200.873691239045)
INFO flwr 2023-07-26 14:03:32,977 | server.py:163 | evaluate_round 23: no clients selected, cancel
Cluster score for round 24 = 200743.421875
INFO flwr 2023-07-26 14:03:42,543 | fed_df.py:230 | Number of selected crops : 4530
DEBUG flwr 2023-07-26 14:03:44,345 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3586541)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3586540)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:05:13,277 | server.py:229 | fit_round 24 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3586541)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3586537)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3586616)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3586540)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3586612)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3586615)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3586611)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3586605)[0m Fitting Client 11
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3586612)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3586615)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3586605)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3586611)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3586616)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3586537)[0m double free or corruption (fasttop)
E0726 14:05:16.602430189 3776232 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.2621201802492142, val accuracy : 0.3805802578923966, best val accuracy : 0.4867718986216096
Average local training loss : 4.535544569790363
Average local training accuracy : 0.947016975308642
INFO flwr 2023-07-26 14:07:26,975 | server.py:116 | fit progress: (24, 10.539852401605888, {'server_test_acc': 0.4402506963788301}, 5434.872122772038)
INFO flwr 2023-07-26 14:07:26,976 | server.py:163 | evaluate_round 24: no clients selected, cancel
Cluster score for round 25 = 247682.78125
INFO flwr 2023-07-26 14:07:36,609 | fed_df.py:230 | Number of selected crops : 4236
DEBUG flwr 2023-07-26 14:07:38,325 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3975627)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 14:09:06,677 | server.py:229 | fit_round 25 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3975897)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3975651)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3975627)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3975672)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3975798)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3975896)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3975897)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3975626)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3975629)[0m Fitting Client 16
Warm start at round 25
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3975651)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3975798)[0m malloc_consolidate(): invalid chunk size
E0726 14:09:07.923608460 3778196 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3975629)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3975626)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3975896)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3975672)[0m malloc_consolidate(): invalid chunk size
E0726 14:10:46.146121078 4144275 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.17782532489299774, val accuracy : 0.2997999110715874, best val accuracy : 0.3722765673632726
Average local training loss : 4.716556267254055
Average local training accuracy : 0.9370470679012346
INFO flwr 2023-07-26 14:11:20,484 | server.py:116 | fit progress: (25, 8.852686847484875, {'server_test_acc': 0.2214484679665738}, 5668.380474078003)
INFO flwr 2023-07-26 14:11:20,484 | server.py:163 | evaluate_round 25: no clients selected, cancel
Cluster score for round 26 = 96979.5703125
INFO flwr 2023-07-26 14:11:29,729 | fed_df.py:230 | Number of selected crops : 5088
DEBUG flwr 2023-07-26 14:11:31,598 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=154531)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 14:13:01,078 | server.py:229 | fit_round 26 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=154531)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=154523)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=154618)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=154612)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=154613)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=154619)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=154620)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=154614)[0m Fitting Client 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=154614)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=154618)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=154523)[0m double free or corruption (fasttop)
E0726 14:13:02.130945376  308846 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=154613)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=154620)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=154612)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=154619)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.06478597215563059, val accuracy : 0.4245553579368607, best val accuracy : 0.4427523343708315
Average local training loss : 4.1937993466854095
Average local training accuracy : 0.9661736111111111
INFO flwr 2023-07-26 14:15:05,310 | server.py:116 | fit progress: (26, 11.462745123520534, {'server_test_acc': 0.3746518105849582}, 5893.207187489024)
INFO flwr 2023-07-26 14:15:05,311 | server.py:163 | evaluate_round 26: no clients selected, cancel
Cluster score for round 27 = 80865.71875
INFO flwr 2023-07-26 14:15:14,818 | fed_df.py:230 | Number of selected crops : 4793
DEBUG flwr 2023-07-26 14:15:16,635 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=501996)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=501937)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=501956)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=501980)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:16:46,869 | server.py:229 | fit_round 27 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=501972)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=501956)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=501972)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=501996)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=501997)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=501995)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=501937)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=501980)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=501994)[0m Fitting Client 0
Performing server side distillation training...
[2m[36m(launch_and_fit pid=501995)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=501997)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=501994)[0m double free or corruption (fasttop)
E0726 14:18:00.272901813  309618 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.14164611293375493, val accuracy : 0.41388394842152065, best val accuracy : 0.447865718096932
Average local training loss : 4.333501378167421
Average local training accuracy : 0.9587006172839507
INFO flwr 2023-07-26 14:18:50,770 | server.py:116 | fit progress: (27, 5.255123891272585, {'server_test_acc': 0.27938718662952644}, 6118.666962041054)
INFO flwr 2023-07-26 14:18:50,770 | server.py:163 | evaluate_round 27: no clients selected, cancel
Cluster score for round 28 = 94385.421875
INFO flwr 2023-07-26 14:19:00,054 | fed_df.py:230 | Number of selected crops : 3841
DEBUG flwr 2023-07-26 14:19:01,625 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=868301)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=868395)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=868396)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=868402)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=868476)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=868388)[0m corrupted size vs. prev_size in fastbins
DEBUG flwr 2023-07-26 14:20:31,179 | server.py:229 | fit_round 28 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=868301)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=868396)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=868395)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=868476)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=868402)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=868401)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=868302)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=868388)[0m Fitting Client 11
Performing server side distillation training...
[2m[36m(launch_and_fit pid=868401)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=868302)[0m malloc_consolidate(): invalid chunk size
E0726 14:20:33.797819151  759795 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.03173014165274799, val accuracy : 0.3918963983992886, best val accuracy : 0.4443085815918186
Average local training loss : 4.312918549031019
Average local training accuracy : 0.959965277777778
INFO flwr 2023-07-26 14:22:58,532 | server.py:116 | fit progress: (28, 7.329264647183644, {'server_test_acc': 0.38050139275766015}, 6366.428369460045)
INFO flwr 2023-07-26 14:22:58,532 | server.py:163 | evaluate_round 28: no clients selected, cancel
Cluster score for round 29 = 88624.1171875
INFO flwr 2023-07-26 14:23:07,611 | fed_df.py:230 | Number of selected crops : 4357
DEBUG flwr 2023-07-26 14:23:09,392 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1272915)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:24:37,300 | server.py:229 | fit_round 29 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1272987)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1272915)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1272985)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1273059)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1273056)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1272989)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1273057)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1272987)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1273058)[0m Fitting Client 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1273056)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1272989)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1273059)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1273057)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1272985)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1273058)[0m malloc_consolidate(): invalid chunk size
E0726 14:24:47.652873327 1433013 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.05942736653983593, val accuracy : 0.44037349933303693, best val accuracy : 0.48110271231658513
Average local training loss : 4.312036196701229
Average local training accuracy : 0.9601743827160494
INFO flwr 2023-07-26 14:26:53,622 | server.py:116 | fit progress: (29, 3.9668885974830905, {'server_test_acc': 0.3692200557103064}, 6601.518318169983)
INFO flwr 2023-07-26 14:26:53,622 | server.py:163 | evaluate_round 29: no clients selected, cancel
Cluster score for round 30 = 77880.890625
INFO flwr 2023-07-26 14:27:02,731 | fed_df.py:230 | Number of selected crops : 4084
DEBUG flwr 2023-07-26 14:27:04,389 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1633806)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1633735)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 14:28:33,157 | server.py:229 | fit_round 30 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1633807)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1633806)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1633807)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1633808)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1633878)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1633805)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1633735)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1633876)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1633877)[0m Fitting Client 3
Warm start at round 30
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1633877)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1633808)[0m malloc_consolidate(): invalid chunk size
E0726 14:28:33.944398746 1434265 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1633876)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1633805)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1633878)[0m malloc_consolidate(): invalid chunk size
E0726 14:30:59.879089910 1998709 chttp2_transport.cc:1079]             ipv4:145.136.62.34:63008: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.07342988753691315, val accuracy : 0.48314806580702535, best val accuracy : 0.510226767452201
Average local training loss : 4.332722361385823
Average local training accuracy : 0.9591527777777777
INFO flwr 2023-07-26 14:31:01,231 | server.py:116 | fit progress: (30, 3.1559579659305244, {'server_test_acc': 0.5175487465181059}, 6849.127567552961)
INFO flwr 2023-07-26 14:31:01,231 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-07-26 14:31:01,231 | server.py:144 | FL finished in 6849.127950377064
INFO flwr 2023-07-26 14:31:01,231 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-07-26 14:31:01,232 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-07-26 14:31:01,233 | app.py:204 | app_fit: losses_centralized [(0, 2.202056367815703), (1, 4.871880602504549), (2, 2.55708212493854), (3, 3.1691297164534458), (4, 4.454591330313085), (5, 4.768978269252936), (6, 4.1439130607753745), (7, 5.088599016938701), (8, 2.0974969624808906), (9, 2.6588361572754415), (10, 9.293770820383907), (11, 14.293413037908442), (12, 6.299180622153959), (13, 6.1312385962866145), (14, 5.849148492627157), (15, 10.462643942128981), (16, 13.485730421443504), (17, 6.581828598192475), (18, 9.838231675936983), (19, 4.822946432108335), (20, 6.954879171004866), (21, 5.654620786364032), (22, 5.883461901736458), (23, 9.165093500036383), (24, 10.539852401605888), (25, 8.852686847484875), (26, 11.462745123520534), (27, 5.255123891272585), (28, 7.329264647183644), (29, 3.9668885974830905), (30, 3.1559579659305244)]
INFO flwr 2023-07-26 14:31:01,233 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.06044568245125348), (1, 0.32493036211699167), (2, 0.403899721448468), (3, 0.3402506963788301), (4, 0.39303621169916436), (5, 0.3098885793871866), (6, 0.16183844011142062), (7, 0.4863509749303621), (8, 0.47298050139275766), (9, 0.2541782729805014), (10, 0.3363509749303621), (11, 0.31559888579387185), (12, 0.25877437325905295), (13, 0.32785515320334263), (14, 0.304874651810585), (15, 0.38760445682451256), (16, 0.2544568245125348), (17, 0.37089136490250696), (18, 0.45389972144846796), (19, 0.36559888579387184), (20, 0.30250696378830083), (21, 0.3525069637883008), (22, 0.48245125348189416), (23, 0.49428969359331476), (24, 0.4402506963788301), (25, 0.2214484679665738), (26, 0.3746518105849582), (27, 0.27938718662952644), (28, 0.38050139275766015), (29, 0.3692200557103064), (30, 0.5175487465181059)]}
double free or corruption (fasttop)
srun: error: gcn34: task 0: Aborted
srun: Terminating StepId=3152538.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3152538
Cluster: snellius
User/Group: sunnys/sunnys
State: COMPLETED (exit code 0)
Nodes: 1
Cores per node: 18
CPU Utilized: 04:08:30
CPU Efficiency: 11.54% of 1-11:53:42 core-walltime
Job Wall-clock time: 01:59:39
Memory Utilized: 54.01 GB
Memory Efficiency: 45.01% of 120.00 GB
