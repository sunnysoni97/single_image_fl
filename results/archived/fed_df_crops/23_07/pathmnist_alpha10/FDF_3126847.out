-----BEGIN-----
-----SETTINGS-----
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:pathmnist
PARTITION_ALPHA:10.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:40
LOCAL_LR:0.05
DISTILL_BATCH_SIZE:512
SERVER_LR:0.005
SERVER_STEPS:500
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
SEED:42
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:colonpath_sample.jpg
DISTILL_DATASET:cifar100
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:20000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:5
KMEANS_N_CLUSTER:20
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
CONFIDENCE_THRESHOLD:0.9
CLIPPING_FACTOR:2.5
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=100000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/colonpath_sample.jpg', targetpath='/scratch-local/sunnys.3126847/1690124549_327455122', seed=42, img_per_thread=5555)
will save 100000 patches in /scratch-local/sunnys.3126847/1690124549_327455122/single_img_crops/crops
100000 took 0.40min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-07-23 17:03:11,913 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-07-23 17:03:11,913 | simulate.py:55 | Reading args from argument parser
Downloading https://zenodo.org/record/6496656/files/pathmnist.npz?download=1 to /scratch-local/sunnys.3126847/1690124549_327455122/pathmnist.npz
Generating unified pathmnist dataset
Class histogram for 0-th partition (alpha=10.0, 9 classes): [490 604 231 501 464 620 475 540 575]
INFO flwr 2023-07-23 17:08:18,021 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-07-23 17:08:20,797	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8265 [39m[22m
INFO flwr 2023-07-23 17:08:21,845 | app.py:179 | Flower VCE: Ray initialized with resources: {'GPU': 1.0, 'memory': 103079215104.0, 'CPU': 18.0, 'object_store_memory': 61847529062.0, 'accelerator_type:A100': 1.0, 'node:145.136.62.5': 1.0}
INFO flwr 2023-07-23 17:08:21,845 | server.py:86 | Initializing global parameters
INFO flwr 2023-07-23 17:08:21,846 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-07-23 17:08:21,846 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-07-23 17:08:30,341 | server.py:91 | initial parameters (loss, other metrics): 2.1845225108367154, {'server_test_acc': 0.11030640668523677}
INFO flwr 2023-07-23 17:08:30,341 | server.py:101 | FL starting
Cluster score for round 1 = 1282.5341796875
INFO flwr 2023-07-23 17:08:38,178 | fed_df.py:194 | Number of selected crops : 20000
DEBUG flwr 2023-07-23 17:08:42,718 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2988545)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2988533)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2988544)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:10:14,680 | server.py:229 | fit_round 1 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2988534)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2988532)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2988531)[0m malloc_consolidate(): invalid chunk size
[W] [17:08:38.384071] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2988532)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2988534)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2988543)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2988531)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2988533)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2988544)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2988546)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2988545)[0m Fitting Client 8
Warm start at round 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2988546)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2988543)[0m double free or corruption (fasttop)
E0723 17:10:16.860528690 3082849 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
E0723 17:10:16.860644757 3082849 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.43019218891859057, val accuracy : 0.39001778568252554, best val accuracy : 0.4309693196976434
Average local training loss : 8.530387510359287
Average local training accuracy : 0.7004436728395063
INFO flwr 2023-07-23 17:11:05,251 | server.py:116 | fit progress: (1, 1.9538942201555938, {'server_test_acc': 0.4337047353760446}, 154.90904290397884)
INFO flwr 2023-07-23 17:11:05,251 | server.py:163 | evaluate_round 1: no clients selected, cancel
Cluster score for round 2 = 128979.921875
INFO flwr 2023-07-23 17:11:13,807 | fed_df.py:194 | Number of selected crops : 8196
DEBUG flwr 2023-07-23 17:11:16,233 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3116821)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3116818)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3116820)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:12:45,516 | server.py:229 | fit_round 2 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3116822)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3116821)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3116816)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3116814)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3116818)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3116820)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3116819)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3116822)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3116823)[0m Fitting Client 13
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3116814)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3116823)[0m double free or corruption (fasttop)
E0723 17:12:46.564148151 3083240 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
[2m[36m(launch_and_fit pid=3116819)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3116816)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.3638230693042278, val accuracy : 0.23174744330813693, best val accuracy : 0.3060248999555358
Average local training loss : 6.943478017672897
Average local training accuracy : 0.7948611111111112
INFO flwr 2023-07-23 17:14:11,285 | server.py:116 | fit progress: (2, 2.424188552261395, {'server_test_acc': 0.2527855153203343}, 340.9431284830207)
INFO flwr 2023-07-23 17:14:11,285 | server.py:163 | evaluate_round 2: no clients selected, cancel
Cluster score for round 3 = 169094.375
INFO flwr 2023-07-23 17:14:20,813 | fed_df.py:194 | Number of selected crops : 11009
DEBUG flwr 2023-07-23 17:14:23,739 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3365087)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3365016)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:15:52,579 | server.py:229 | fit_round 3 received 8 results and 0 failures
[W] [17:14:20.939330] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3365016)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3365088)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3365087)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3365090)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3365164)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3365218)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3365089)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3365230)[0m Fitting Client 4
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3365090)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3365164)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3365218)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3365089)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3365088)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3365230)[0m double free or corruption (fasttop)
E0723 17:15:54.404300468 3521931 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.16161215083301067, val accuracy : 0.42849044019564253, best val accuracy : 0.45675855935971543
Average local training loss : 6.964588320814074
Average local training accuracy : 0.7933858024691358
INFO flwr 2023-07-23 17:17:07,144 | server.py:116 | fit progress: (3, 1.9330441628990067, {'server_test_acc': 0.4069637883008356}, 516.8019850850105)
INFO flwr 2023-07-23 17:17:07,144 | server.py:163 | evaluate_round 3: no clients selected, cancel
Cluster score for round 4 = 192819.28125
INFO flwr 2023-07-23 17:17:16,107 | fed_df.py:194 | Number of selected crops : 11502
DEBUG flwr 2023-07-23 17:17:19,130 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3660470)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3660705)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3660691)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:18:49,084 | server.py:229 | fit_round 4 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3660687)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3660704)[0m malloc_consolidate(): invalid chunk size
[W] [17:17:16.234743] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3660470)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3660687)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3660691)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3660469)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3660690)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3660705)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3660704)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3660689)[0m Fitting Client 17
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3660469)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3660690)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3660689)[0m malloc_consolidate(): invalid chunk size
E0723 17:18:52.519481961 3864345 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.4149623512625694, val accuracy : 0.3141173855046687, best val accuracy : 0.3467096487327701
Average local training loss : 7.034194348193705
Average local training accuracy : 0.7891936728395063
INFO flwr 2023-07-23 17:20:01,099 | server.py:116 | fit progress: (4, 5.295968160921484, {'server_test_acc': 0.2477715877437326}, 690.7569485090207)
INFO flwr 2023-07-23 17:20:01,099 | server.py:163 | evaluate_round 4: no clients selected, cancel
Cluster score for round 5 = 384244.09375
INFO flwr 2023-07-23 17:20:10,199 | fed_df.py:194 | Number of selected crops : 10581
DEBUG flwr 2023-07-23 17:20:13,007 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3994531)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:21:42,230 | server.py:229 | fit_round 5 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3994672)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3994671)[0m malloc_consolidate(): invalid chunk size
[W] [17:20:10.318640] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3994531)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3994534)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3994603)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3994672)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3994671)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3994532)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3994535)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3994533)[0m Fitting Client 12
Warm start at round 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3994534)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3994532)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3994535)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3994533)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3994603)[0m malloc_consolidate(): invalid chunk size
E0723 17:21:45.442726411 3865192 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.36080529588460925, val accuracy : 0.3684748777234327, best val accuracy : 0.43052467763450425
Average local training loss : 7.218603207729758
Average local training accuracy : 0.7781998456790123
INFO flwr 2023-07-23 17:22:58,292 | server.py:116 | fit progress: (5, 7.414308691423251, {'server_test_acc': 0.34415041782729805}, 867.9506952830125)
INFO flwr 2023-07-23 17:22:58,293 | server.py:163 | evaluate_round 5: no clients selected, cancel
Cluster score for round 6 = 573556.375
INFO flwr 2023-07-23 17:23:07,318 | fed_df.py:194 | Number of selected crops : 8566
DEBUG flwr 2023-07-23 17:23:09,766 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=88011)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=88012)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=88004)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:24:41,136 | server.py:229 | fit_round 6 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=88004)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=88006)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=88010)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=88009)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=88008)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=88012)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=88013)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=88011)[0m Fitting Client 2
Performing server side distillation training...
[2m[36m(launch_and_fit pid=88010)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=88013)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=88009)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=88006)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=88008)[0m malloc_consolidate(): invalid chunk size
E0723 17:24:43.769158758 4170543 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.07690986481308937, val accuracy : 0.36164962205424633, best val accuracy : 0.4371943085815918
Average local training loss : 6.276937161758542
Average local training accuracy : 0.8380578703703704
INFO flwr 2023-07-23 17:26:05,160 | server.py:116 | fit progress: (6, 8.41776342577921, {'server_test_acc': 0.2381615598885794}, 1054.8185685789795)
INFO flwr 2023-07-23 17:26:05,160 | server.py:163 | evaluate_round 6: no clients selected, cancel
Cluster score for round 7 = 646995.1875
INFO flwr 2023-07-23 17:26:14,470 | fed_df.py:194 | Number of selected crops : 9930
DEBUG flwr 2023-07-23 17:26:17,190 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=391597)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=391734)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:27:47,249 | server.py:229 | fit_round 7 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=391733)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=391329)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=391595)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=391597)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=391618)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=391734)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=391732)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=391596)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=391733)[0m Fitting Client 9
Performing server side distillation training...
[2m[36m(launch_and_fit pid=391595)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=391329)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=391732)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=391618)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=391596)[0m malloc_consolidate(): invalid chunk size
E0723 17:27:50.097270313  579818 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.257118580698967, val accuracy : 0.2984882169853268, best val accuracy : 0.3510449088483771
Average local training loss : 6.16122875083238
Average local training accuracy : 0.8466859567901235
INFO flwr 2023-07-23 17:29:05,314 | server.py:116 | fit progress: (7, 13.17209691974778, {'server_test_acc': 0.25974930362116994}, 1234.9722787620267)
INFO flwr 2023-07-23 17:29:05,314 | server.py:163 | evaluate_round 7: no clients selected, cancel
Cluster score for round 8 = 1056796.375
INFO flwr 2023-07-23 17:29:14,426 | fed_df.py:194 | Number of selected crops : 3147
DEBUG flwr 2023-07-23 17:29:15,815 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=700199)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=700214)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:30:44,917 | server.py:229 | fit_round 8 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=700213)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=700199)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=700196)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=700212)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=700195)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=700214)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=700215)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=700210)[0m Fitting Client 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=700196)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=700212)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=700213)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=700210)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=700215)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=700195)[0m malloc_consolidate(): invalid chunk size
E0723 17:30:49.863062783  869552 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
E0723 17:32:05.276239034  870381 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.2569383100569248, val accuracy : 0.3800689195197866, best val accuracy : 0.424188528234771
Average local training loss : 6.40926337428391
Average local training accuracy : 0.8323734567901234
INFO flwr 2023-07-23 17:33:21,378 | server.py:116 | fit progress: (8, 5.184247883448694, {'server_test_acc': 0.24261838440111422}, 1491.0362620810047)
INFO flwr 2023-07-23 17:33:21,378 | server.py:163 | evaluate_round 8: no clients selected, cancel
Cluster score for round 9 = 247143.09375
INFO flwr 2023-07-23 17:33:30,291 | fed_df.py:194 | Number of selected crops : 3000
DEBUG flwr 2023-07-23 17:33:31,792 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1155885)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1155873)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1155880)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1155875)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1155883)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:35:03,077 | server.py:229 | fit_round 9 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1155875)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1155873)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1155884)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1155879)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1155883)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1155885)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1155880)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1155874)[0m Fitting Client 3
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1155874)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1155879)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1155884)[0m double free or corruption (fasttop)
E0723 17:37:50.444896608 1000817 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.2297648852467537, val accuracy : 0.43305913739439744, best val accuracy : 0.4459759893285905
Average local training loss : 6.528567843139172
Average local training accuracy : 0.8243279320987655
INFO flwr 2023-07-23 17:38:00,725 | server.py:116 | fit progress: (9, 4.517553575457304, {'server_test_acc': 0.29331476323119776}, 1770.3837442399818)
INFO flwr 2023-07-23 17:38:00,726 | server.py:163 | evaluate_round 9: no clients selected, cancel
Cluster score for round 10 = 215028.40625
INFO flwr 2023-07-23 17:38:09,898 | fed_df.py:194 | Number of selected crops : 9552
DEBUG flwr 2023-07-23 17:38:12,561 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1630550)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:39:42,584 | server.py:229 | fit_round 10 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1630550)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1630551)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1630676)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1630673)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1630549)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1630675)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1630677)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1630674)[0m Fitting Client 10
Warm start at round 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1630549)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1630675)[0m double free or corruption (fasttop)
E0723 17:39:44.050938529 1606294 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
[2m[36m(launch_and_fit pid=1630674)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1630551)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1630676)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1630677)[0m malloc_consolidate(): invalid chunk size
E0723 17:40:20.952263050 1861756 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.35763602817058565, val accuracy : 0.22432192085371278, best val accuracy : 0.2683414851044909
Average local training loss : 6.350734423846006
Average local training accuracy : 0.8351604938271606
INFO flwr 2023-07-23 17:41:01,163 | server.py:116 | fit progress: (10, 30.564743467028094, {'server_test_acc': 0.20779944289693594}, 1950.8218066149857)
INFO flwr 2023-07-23 17:41:01,164 | server.py:163 | evaluate_round 10: no clients selected, cancel
Cluster score for round 11 = 287104.25
INFO flwr 2023-07-23 17:41:10,070 | fed_df.py:194 | Number of selected crops : 9647
DEBUG flwr 2023-07-23 17:41:12,710 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1916937)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:42:44,254 | server.py:229 | fit_round 11 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1916931)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1916938)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1916931)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1916938)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1916937)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1916939)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1916936)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1916940)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1916942)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1916941)[0m Fitting Client 0
Performing server side distillation training...
E0723 17:42:45.237127614 2108555 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
[2m[36m(launch_and_fit pid=1916939)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1916940)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1916936)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1916941)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1916942)[0m double free or corruption (fasttop)
E0723 17:43:16.478743738 2109556 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.12589472964406012, val accuracy : 0.19646509559804357, best val accuracy : 0.24644286349488662
Average local training loss : 5.470999483950435
Average local training accuracy : 0.8895416666666667
INFO flwr 2023-07-23 17:44:04,527 | server.py:116 | fit progress: (11, 8.420048267927674, {'server_test_acc': 0.15557103064066852}, 2134.185328554013)
INFO flwr 2023-07-23 17:44:04,527 | server.py:163 | evaluate_round 11: no clients selected, cancel
Cluster score for round 12 = 253599.78125
INFO flwr 2023-07-23 17:44:13,900 | fed_df.py:194 | Number of selected crops : 5542
DEBUG flwr 2023-07-23 17:44:15,830 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2221446)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2221581)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:45:45,882 | server.py:229 | fit_round 12 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2221444)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2221446)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2221444)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2221581)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2221717)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2221582)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2221580)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2221579)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2221700)[0m Fitting Client 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2221717)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2221582)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2221700)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2221579)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2221580)[0m double free or corruption (fasttop)
E0723 17:45:48.897336338 2149137 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
E0723 17:46:42.086041788 2408159 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.19305456876754762, val accuracy : 0.3848821698532681, best val accuracy : 0.40373499333036905
Average local training loss : 5.389903129916639
Average local training accuracy : 0.895871913580247
INFO flwr 2023-07-23 17:47:38,099 | server.py:116 | fit progress: (12, 3.9315219305351916, {'server_test_acc': 0.2551532033426184}, 2347.7578863570234)
INFO flwr 2023-07-23 17:47:38,100 | server.py:163 | evaluate_round 12: no clients selected, cancel
Cluster score for round 13 = 160209.5625
INFO flwr 2023-07-23 17:47:47,191 | fed_df.py:194 | Number of selected crops : 9380
DEBUG flwr 2023-07-23 17:47:49,799 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2599210)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2599247)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:49:18,857 | server.py:229 | fit_round 13 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2599161)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2599175)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2599245)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2599315)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2599247)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2599244)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2599246)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2599210)[0m Fitting Client 4
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2599161)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2599244)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2599175)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2599315)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2599245)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2599246)[0m malloc_consolidate(): invalid chunk size
E0723 17:49:23.947696892 2473533 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.4468053811192513, val accuracy : 0.3490884837705647, best val accuracy : 0.3746109381947532
Average local training loss : 5.500005146302282
Average local training accuracy : 0.8891967592592592
INFO flwr 2023-07-23 17:50:40,682 | server.py:116 | fit progress: (13, 9.867939314138258, {'server_test_acc': 0.3235376044568245}, 2530.3402379470062)
INFO flwr 2023-07-23 17:50:40,682 | server.py:163 | evaluate_round 13: no clients selected, cancel
Cluster score for round 14 = 302354.40625
INFO flwr 2023-07-23 17:50:49,685 | fed_df.py:194 | Number of selected crops : 3257
DEBUG flwr 2023-07-23 17:50:51,130 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2938620)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2938554)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:52:20,690 | server.py:229 | fit_round 14 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2938584)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2938554)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2938528)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2938619)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2938620)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2938618)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2938548)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2938547)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2938584)[0m Fitting Client 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2938528)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2938619)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2938618)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2938548)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=2938547)[0m malloc_consolidate(): invalid chunk size
E0723 17:52:23.285933366 2795221 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.26823949003219605, val accuracy : 0.4065695864828813, best val accuracy : 0.4426411738550467
Average local training loss : 5.381429765932262
Average local training accuracy : 0.8955023148148149
INFO flwr 2023-07-23 17:54:59,076 | server.py:116 | fit progress: (14, 6.158190313355172, {'server_test_acc': 0.3479108635097493}, 2788.734382953029)
INFO flwr 2023-07-23 17:54:59,076 | server.py:163 | evaluate_round 14: no clients selected, cancel
Cluster score for round 15 = 121068.0078125
INFO flwr 2023-07-23 17:55:08,351 | fed_df.py:194 | Number of selected crops : 10254
DEBUG flwr 2023-07-23 17:55:11,171 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-23 17:56:41,248 | server.py:229 | fit_round 15 received 8 results and 0 failures
[W] [17:55:08.468302] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3371657)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3371680)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3371679)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3371662)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3371663)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3371833)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3372043)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3372044)[0m Fitting Client 11
Warm start at round 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3371657)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3372043)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3372044)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3371663)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3371833)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3371662)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3371679)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3371680)[0m malloc_consolidate(): invalid chunk size
E0723 17:56:46.535460835 3520726 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.20252017951011658, val accuracy : 0.3605602489995554, best val accuracy : 0.43341485104490884
Average local training loss : 5.490322941262274
Average local training accuracy : 0.8899251543209876
INFO flwr 2023-07-23 17:58:00,564 | server.py:116 | fit progress: (15, 13.137271024656163, {'server_test_acc': 0.38440111420612816}, 2970.222107929003)
INFO flwr 2023-07-23 17:58:00,564 | server.py:163 | evaluate_round 15: no clients selected, cancel
Cluster score for round 16 = 97522.453125
INFO flwr 2023-07-23 17:58:09,725 | fed_df.py:194 | Number of selected crops : 10303
DEBUG flwr 2023-07-23 17:58:12,523 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3669001)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3669069)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3669070)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:59:41,777 | server.py:229 | fit_round 16 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3669071)[0m double free or corruption (fasttop)
[W] [17:58:09.839318] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3669001)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3669071)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3669069)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3669070)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3669081)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3669173)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3669175)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3669174)[0m Fitting Client 8
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3669173)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3669174)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3669175)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3669081)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.16395957121253013, val accuracy : 0.5304802134281903, best val accuracy : 0.60482436638506
Average local training loss : 4.691548911295832
Average local training accuracy : 0.9363256172839507
INFO flwr 2023-07-23 18:00:59,552 | server.py:116 | fit progress: (16, 4.428742583548458, {'server_test_acc': 0.45389972144846796}, 3149.2103925889824)
INFO flwr 2023-07-23 18:00:59,552 | server.py:163 | evaluate_round 16: no clients selected, cancel
Cluster score for round 17 = 168650.203125
INFO flwr 2023-07-23 18:01:08,872 | fed_df.py:194 | Number of selected crops : 9937
DEBUG flwr 2023-07-23 18:01:11,594 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3960056)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:02:40,534 | server.py:229 | fit_round 17 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3960068)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3960056)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3960054)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3960053)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3960070)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3960069)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3960055)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3960071)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3960068)[0m Fitting Client 17
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3960053)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3960071)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3960069)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3960070)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3960054)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3960055)[0m malloc_consolidate(): invalid chunk size
E0723 18:02:44.302978092 3522740 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.19455259561538696, val accuracy : 0.5311027123165851, best val accuracy : 0.5915962650066696
Average local training loss : 4.764893010538071
Average local training accuracy : 0.9327932098765432
INFO flwr 2023-07-23 18:03:59,541 | server.py:116 | fit progress: (17, 3.936582461705115, {'server_test_acc': 0.47479108635097494}, 3329.199867621006)
INFO flwr 2023-07-23 18:03:59,542 | server.py:163 | evaluate_round 17: no clients selected, cancel
Cluster score for round 18 = 123347.2421875
INFO flwr 2023-07-23 18:04:08,897 | fed_df.py:194 | Number of selected crops : 9513
DEBUG flwr 2023-07-23 18:04:11,551 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=88921)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=89854)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=89238)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=89869)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 18:05:41,436 | server.py:229 | fit_round 18 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=89867)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=88921)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=89238)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=89273)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=89868)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=89869)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=89867)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=89854)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=89866)[0m Fitting Client 3
Performing server side distillation training...
[2m[36m(launch_and_fit pid=89866)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=89868)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=89273)[0m malloc_consolidate(): invalid chunk size
E0723 18:05:44.523811800  295734 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.31255411326885224, val accuracy : 0.3541574032903513, best val accuracy : 0.424188528234771
Average local training loss : 4.937621336150915
Average local training accuracy : 0.9221628086419754
INFO flwr 2023-07-23 18:07:01,486 | server.py:116 | fit progress: (18, 3.440798403492877, {'server_test_acc': 0.24596100278551533}, 3511.144859221007)
INFO flwr 2023-07-23 18:07:01,487 | server.py:163 | evaluate_round 18: no clients selected, cancel
Cluster score for round 19 = 54897.01953125
INFO flwr 2023-07-23 18:07:10,683 | fed_df.py:194 | Number of selected crops : 9197
DEBUG flwr 2023-07-23 18:07:13,286 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=393861)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=393862)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=393215)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 18:08:43,731 | server.py:229 | fit_round 19 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=393644)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=393741)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=393215)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=393743)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=393644)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=393741)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=393861)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=393860)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=393862)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=393863)[0m Fitting Client 11
Performing server side distillation training...
E0723 18:08:44.856463656  589502 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=393863)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=393743)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=393860)[0m malloc_consolidate(): invalid chunk size
E0723 18:08:55.087964256  602419 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.15150896602869035, val accuracy : 0.5142730102267674, best val accuracy : 0.5731436193863939
Average local training loss : 5.008999570645392
Average local training accuracy : 0.9186898148148148
INFO flwr 2023-07-23 18:10:06,573 | server.py:116 | fit progress: (19, 3.7542387045857635, {'server_test_acc': 0.5506963788300836}, 3696.231210731028)
INFO flwr 2023-07-23 18:10:06,573 | server.py:163 | evaluate_round 19: no clients selected, cancel
Cluster score for round 20 = 170058.875
INFO flwr 2023-07-23 18:10:15,758 | fed_df.py:194 | Number of selected crops : 9694
DEBUG flwr 2023-07-23 18:10:18,475 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=716234)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=716233)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=716485)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:11:48,223 | server.py:229 | fit_round 20 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=716488)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=716487)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=716233)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=716234)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=716231)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=716488)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=716485)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=716487)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=716490)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=716489)[0m Fitting Client 8
Warm start at round 20
Performing server side distillation training...
[2m[36m(launch_and_fit pid=716489)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=716231)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=716490)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.4726845991611481, val accuracy : 0.2770564695420187, best val accuracy : 0.38550466874166295
Average local training loss : 4.994375897198916
Average local training accuracy : 0.9194652777777779
INFO flwr 2023-07-23 18:13:09,671 | server.py:116 | fit progress: (20, 15.26929762688852, {'server_test_acc': 0.27701949860724234}, 3879.3296529399813)
INFO flwr 2023-07-23 18:13:09,672 | server.py:163 | evaluate_round 20: no clients selected, cancel
Cluster score for round 21 = 124931.703125
INFO flwr 2023-07-23 18:13:18,944 | fed_df.py:194 | Number of selected crops : 9827
DEBUG flwr 2023-07-23 18:13:21,633 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1033961)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1033804)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:14:50,830 | server.py:229 | fit_round 21 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1033799)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1033804)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1033796)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1033803)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1033960)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1033958)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1033957)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1033961)[0m Fitting Client 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1033799)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1033803)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1033796)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1033958)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1033960)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1033957)[0m malloc_consolidate(): invalid chunk size
E0723 18:14:52.846245371 1174730 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.18091838715970515, val accuracy : 0.4891285015562473, best val accuracy : 0.5590262338817252
Average local training loss : 4.478971336223185
Average local training accuracy : 0.9495362654320988
INFO flwr 2023-07-23 18:16:17,404 | server.py:116 | fit progress: (21, 5.593729078670066, {'server_test_acc': 0.46963788300835657}, 4067.0628048049984)
INFO flwr 2023-07-23 18:16:17,405 | server.py:163 | evaluate_round 21: no clients selected, cancel
Cluster score for round 22 = 159822.578125
INFO flwr 2023-07-23 18:16:26,450 | fed_df.py:194 | Number of selected crops : 9494
DEBUG flwr 2023-07-23 18:16:29,094 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1330968)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1330967)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1331105)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:17:58,026 | server.py:229 | fit_round 22 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1330917)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1330968)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1330966)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1331037)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1331107)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1331106)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1330967)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1331105)[0m Fitting Client 19
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1330917)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1330917)[0m malloc_consolidate(): invalid chunk size
E0723 18:17:58.963828697 1485240 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1330966)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1331107)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1331037)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.14710560707747936, val accuracy : 0.5826256113828367, best val accuracy : 0.6262783459315251
Average local training loss : 4.4219242358580235
Average local training accuracy : 0.9529575617283951
INFO flwr 2023-07-23 18:19:19,216 | server.py:116 | fit progress: (22, 3.615480565095014, {'server_test_acc': 0.6959610027855153}, 4248.874743674009)
INFO flwr 2023-07-23 18:19:19,217 | server.py:163 | evaluate_round 22: no clients selected, cancel
Cluster score for round 23 = 149993.421875
INFO flwr 2023-07-23 18:19:28,215 | fed_df.py:194 | Number of selected crops : 9277
DEBUG flwr 2023-07-23 18:19:31,094 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1655825)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1655947)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1655921)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:21:01,125 | server.py:229 | fit_round 23 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1655926)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1655825)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1655919)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1655926)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1655920)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1655921)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1655947)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1655945)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1655948)[0m Fitting Client 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1655920)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1655945)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1655919)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1655948)[0m double free or corruption (fasttop)
E0723 18:21:03.012431962 1485348 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.16715855750441552, val accuracy : 0.6219430858159183, best val accuracy : 0.6950867052023122
Average local training loss : 4.59937260588631
Average local training accuracy : 0.9427314814814816
INFO flwr 2023-07-23 18:22:19,586 | server.py:116 | fit progress: (23, 2.200775836636429, {'server_test_acc': 0.6445682451253482}, 4429.2441124520265)
INFO flwr 2023-07-23 18:22:19,586 | server.py:163 | evaluate_round 23: no clients selected, cancel
Cluster score for round 24 = 115290.28125
INFO flwr 2023-07-23 18:22:28,535 | fed_df.py:194 | Number of selected crops : 9672
DEBUG flwr 2023-07-23 18:22:31,580 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1957854)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1957859)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:24:01,837 | server.py:229 | fit_round 24 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1957854)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1957858)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1957860)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1957862)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1957931)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1958100)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1957861)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1957859)[0m Fitting Client 17
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1957862)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1957860)[0m malloc_consolidate(): invalid chunk size
E0723 18:24:03.040116854 1853041 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1957861)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1957931)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1958100)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1957858)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.12430725707113743, val accuracy : 0.7082481102712317, best val accuracy : 0.8010226767452201
Average local training loss : 4.620198592357337
Average local training accuracy : 0.9417307098765432
INFO flwr 2023-07-23 18:25:22,650 | server.py:116 | fit progress: (24, 4.809035583857375, {'server_test_acc': 0.7008356545961003}, 4612.308801943029)
INFO flwr 2023-07-23 18:25:22,651 | server.py:163 | evaluate_round 24: no clients selected, cancel
Cluster score for round 25 = 137668.234375
INFO flwr 2023-07-23 18:25:32,184 | fed_df.py:194 | Number of selected crops : 7033
DEBUG flwr 2023-07-23 18:25:34,396 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2264779)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2264699)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2264488)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:27:03,881 | server.py:229 | fit_round 25 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2264714)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2264777)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2264488)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2264699)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2264779)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2264374)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2264797)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2264778)[0m Fitting Client 12
Warm start at round 25
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2264778)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2264797)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2264374)[0m double free or corruption (fasttop)
E0723 18:27:05.285313608 2151837 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2264777)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2264714)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.16430993339419364, val accuracy : 0.6372387727879057, best val accuracy : 0.6919742107603379
Average local training loss : 4.4775120945647355
Average local training accuracy : 0.9497654320987653
INFO flwr 2023-07-23 18:28:40,149 | server.py:116 | fit progress: (25, 2.1722403311131724, {'server_test_acc': 0.658774373259053}, 4809.807752400986)
INFO flwr 2023-07-23 18:28:40,150 | server.py:163 | evaluate_round 25: no clients selected, cancel
Cluster score for round 26 = 89771.8125
INFO flwr 2023-07-23 18:28:49,246 | fed_df.py:194 | Number of selected crops : 9285
DEBUG flwr 2023-07-23 18:28:51,986 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2612320)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2612325)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2612326)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2612395)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:30:21,589 | server.py:229 | fit_round 26 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2612324)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2612320)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2612324)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2612325)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2612323)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2612395)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2612396)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2612326)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2612394)[0m Fitting Client 0
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2612396)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2612323)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2612394)[0m double free or corruption (fasttop)
E0723 18:30:24.206128716 2741545 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0723 18:31:34.073773205 2741934 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.122981074988842, val accuracy : 0.7451645175633616, best val accuracy : 0.7652289906625167
Average local training loss : 4.323078297730535
Average local training accuracy : 0.9588804012345679
INFO flwr 2023-07-23 18:31:37,860 | server.py:116 | fit progress: (26, 5.211890806129052, {'server_test_acc': 0.7027855153203343}, 4987.518802012026)
INFO flwr 2023-07-23 18:31:37,861 | server.py:163 | evaluate_round 26: no clients selected, cancel
Cluster score for round 27 = 241084.140625
INFO flwr 2023-07-23 18:31:46,802 | fed_df.py:194 | Number of selected crops : 8844
DEBUG flwr 2023-07-23 18:31:49,372 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2794755)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2794758)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=2794759)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2794761)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:33:26,051 | server.py:229 | fit_round 27 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2794756)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2794756)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2794743)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2794755)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2794758)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2794759)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2794760)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2794761)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2794757)[0m Fitting Client 17
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2794757)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2794743)[0m double free or corruption (fasttop)
E0723 18:33:27.506007542 2887988 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2794760)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.40403181773424146, val accuracy : 0.4752890173410405, best val accuracy : 0.48755002223210314
Average local training loss : 4.3383924758061765
Average local training accuracy : 0.9578827160493828
INFO flwr 2023-07-23 18:34:44,950 | server.py:116 | fit progress: (27, 4.206165934273128, {'server_test_acc': 0.3413649025069638}, 5174.608145242033)
INFO flwr 2023-07-23 18:34:44,950 | server.py:163 | evaluate_round 27: no clients selected, cancel
Cluster score for round 28 = 114986.734375
INFO flwr 2023-07-23 18:34:53,910 | fed_df.py:194 | Number of selected crops : 10002
DEBUG flwr 2023-07-23 18:34:56,704 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2944350)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2944325)[0m corrupted size vs. prev_size in fastbins
DEBUG flwr 2023-07-23 18:36:25,237 | server.py:229 | fit_round 28 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2944426)[0m corrupted size vs. prev_size in fastbins
[W] [18:34:54.022468] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2944350)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2944427)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2944416)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2944415)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2944498)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2944499)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2944325)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2944426)[0m Fitting Client 8
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2944415)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2944499)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2944416)[0m malloc_consolidate(): invalid chunk size
E0723 18:36:26.533029484 3071513 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2944427)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2944498)[0m malloc_consolidate(): invalid chunk size
E0723 18:37:14.785553873 3102529 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.15335574808716773, val accuracy : 0.712894619831036, best val accuracy : 0.7598932859048466
Average local training loss : 4.430359325930476
Average local training accuracy : 0.9528001543209877
INFO flwr 2023-07-23 18:37:39,729 | server.py:116 | fit progress: (28, 2.9249838625820233, {'server_test_acc': 0.7388579387186629}, 5349.387049163983)
INFO flwr 2023-07-23 18:37:39,729 | server.py:163 | evaluate_round 28: no clients selected, cancel
Cluster score for round 29 = 128391.1953125
INFO flwr 2023-07-23 18:37:48,775 | fed_df.py:194 | Number of selected crops : 7536
DEBUG flwr 2023-07-23 18:37:51,041 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3121567)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3121559)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3121563)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 18:39:20,363 | server.py:229 | fit_round 29 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3121563)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3121565)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3121564)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3121560)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3121567)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3121566)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3121561)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3121559)[0m Fitting Client 13
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3121565)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3121561)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3121566)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3121564)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3121560)[0m malloc_consolidate(): invalid chunk size
E0723 18:39:22.177955680 3103086 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.11058829535543918, val accuracy : 0.6771231658514896, best val accuracy : 0.6901956425077812
Average local training loss : 4.337157426029443
Average local training accuracy : 0.9583317901234568
INFO flwr 2023-07-23 18:40:46,548 | server.py:116 | fit progress: (29, 4.965274976023725, {'server_test_acc': 0.6802228412256267}, 5536.206638064003)
INFO flwr 2023-07-23 18:40:46,549 | server.py:163 | evaluate_round 29: no clients selected, cancel
Cluster score for round 30 = 204350.84375
INFO flwr 2023-07-23 18:40:55,476 | fed_df.py:194 | Number of selected crops : 7887
DEBUG flwr 2023-07-23 18:40:57,787 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3275684)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:42:26,850 | server.py:229 | fit_round 30 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3275677)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3275677)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3275678)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3275679)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3275681)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3275682)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3275684)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3275683)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3275680)[0m Fitting Client 19
Warm start at round 30
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3275678)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3275680)[0m malloc_consolidate(): invalid chunk size
E0723 18:42:27.776823751 3215069 chttp2_transport.cc:1079]             ipv4:145.136.62.5:61593: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3275682)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3275683)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3275679)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.1375323890298605, val accuracy : 0.57017563361494, best val accuracy : 0.6625166740773677
Average local training loss : 4.324581451993436
Average local training accuracy : 0.958633487654321
INFO flwr 2023-07-23 18:43:49,873 | server.py:116 | fit progress: (30, 7.770712503682936, {'server_test_acc': 0.6153203342618384}, 5719.531739471015)
INFO flwr 2023-07-23 18:43:49,874 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-07-23 18:43:49,874 | server.py:144 | FL finished in 5719.532122590987
INFO flwr 2023-07-23 18:43:49,874 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-07-23 18:43:49,875 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-07-23 18:43:49,875 | app.py:204 | app_fit: losses_centralized [(0, 2.1845225108367154), (1, 1.9538942201555938), (2, 2.424188552261395), (3, 1.9330441628990067), (4, 5.295968160921484), (5, 7.414308691423251), (6, 8.41776342577921), (7, 13.17209691974778), (8, 5.184247883448694), (9, 4.517553575457304), (10, 30.564743467028094), (11, 8.420048267927674), (12, 3.9315219305351916), (13, 9.867939314138258), (14, 6.158190313355172), (15, 13.137271024656163), (16, 4.428742583548458), (17, 3.936582461705115), (18, 3.440798403492877), (19, 3.7542387045857635), (20, 15.26929762688852), (21, 5.593729078670066), (22, 3.615480565095014), (23, 2.200775836636429), (24, 4.809035583857375), (25, 2.1722403311131724), (26, 5.211890806129052), (27, 4.206165934273128), (28, 2.9249838625820233), (29, 4.965274976023725), (30, 7.770712503682936)]
INFO flwr 2023-07-23 18:43:49,875 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.11030640668523677), (1, 0.4337047353760446), (2, 0.2527855153203343), (3, 0.4069637883008356), (4, 0.2477715877437326), (5, 0.34415041782729805), (6, 0.2381615598885794), (7, 0.25974930362116994), (8, 0.24261838440111422), (9, 0.29331476323119776), (10, 0.20779944289693594), (11, 0.15557103064066852), (12, 0.2551532033426184), (13, 0.3235376044568245), (14, 0.3479108635097493), (15, 0.38440111420612816), (16, 0.45389972144846796), (17, 0.47479108635097494), (18, 0.24596100278551533), (19, 0.5506963788300836), (20, 0.27701949860724234), (21, 0.46963788300835657), (22, 0.6959610027855153), (23, 0.6445682451253482), (24, 0.7008356545961003), (25, 0.658774373259053), (26, 0.7027855153203343), (27, 0.3413649025069638), (28, 0.7388579387186629), (29, 0.6802228412256267), (30, 0.6153203342618384)]}
double free or corruption (fasttop)
srun: error: gcn5: task 0: Aborted
srun: Terminating StepId=3126847.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3126847
Cluster: snellius
User/Group: sunnys/sunnys
State: RUNNING
Nodes: 1
Cores per node: 18
CPU Utilized: 03:26:56
CPU Efficiency: 11.19% of 1-06:49:12 core-walltime
Job Wall-clock time: 01:42:44
Memory Utilized: 58.63 GB
Memory Efficiency: 48.86% of 120.00 GB
WARNING: Efficiency statistics may be misleading for RUNNING jobs.
