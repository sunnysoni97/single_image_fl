-----BEGIN-----
-----SETTINGS-----
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:pathmnist
PARTITION_ALPHA:10.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:40
LOCAL_LR:0.05
DISTILL_BATCH_SIZE:512
SERVER_LR:0.005
SERVER_STEPS:500
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
SEED:42
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:colonpath_sample.jpg
DISTILL_DATASET:cifar100
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:20000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:5
KMEANS_N_CLUSTER:20
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
CONFIDENCE_THRESHOLD:0.7
CLIPPING_FACTOR:2.5
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=100000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/colonpath_sample.jpg', targetpath='/scratch-local/sunnys.3126845/1690124551_477407018', seed=42, img_per_thread=5555)
will save 100000 patches in /scratch-local/sunnys.3126845/1690124551_477407018/single_img_crops/crops
100000 took 0.60min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-07-23 17:03:22,932 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-07-23 17:03:22,932 | simulate.py:55 | Reading args from argument parser
Downloading https://zenodo.org/record/6496656/files/pathmnist.npz?download=1 to /scratch-local/sunnys.3126845/1690124551_477407018/pathmnist.npz
Generating unified pathmnist dataset
Class histogram for 0-th partition (alpha=10.0, 9 classes): [490 604 231 501 464 620 475 540 575]
INFO flwr 2023-07-23 17:04:42,688 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-07-23 17:04:45,742	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8266 [39m[22m
INFO flwr 2023-07-23 17:04:46,788 | app.py:179 | Flower VCE: Ray initialized with resources: {'node:145.136.62.26': 1.0, 'GPU': 1.0, 'memory': 103079215104.0, 'object_store_memory': 61847529062.0, 'CPU': 18.0, 'accelerator_type:A100': 1.0}
INFO flwr 2023-07-23 17:04:46,788 | server.py:86 | Initializing global parameters
INFO flwr 2023-07-23 17:04:46,788 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-07-23 17:04:46,788 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-07-23 17:04:52,645 | server.py:91 | initial parameters (loss, other metrics): 2.1845225108367154, {'server_test_acc': 0.11030640668523677}
INFO flwr 2023-07-23 17:04:52,645 | server.py:101 | FL starting
Cluster score for round 1 = 1282.537841796875
INFO flwr 2023-07-23 17:05:00,285 | fed_df.py:194 | Number of selected crops : 20000
DEBUG flwr 2023-07-23 17:05:04,798 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3978251)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3978102)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3978388)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:06:41,538 | server.py:229 | fit_round 1 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3978319)[0m malloc_consolidate(): invalid chunk size
[W] [17:05:00.498427] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3978103)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3978171)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3978102)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3978251)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3978388)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3978319)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3978250)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3978341)[0m Fitting Client 13
Warm start at round 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3978250)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3978171)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3978341)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3978103)[0m malloc_consolidate(): invalid chunk size
E0723 17:06:45.002973154 3955800 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.43546763134002686, val accuracy : 0.3736883059137394, best val accuracy : 0.41885282347710096
Average local training loss : 8.427227239869534
Average local training accuracy : 0.7048773148148149
INFO flwr 2023-07-23 17:07:33,270 | server.py:116 | fit progress: (1, 4.996596302893169, {'server_test_acc': 0.3434540389972145}, 160.62422590900678)
INFO flwr 2023-07-23 17:07:33,270 | server.py:163 | evaluate_round 1: no clients selected, cancel
Cluster score for round 2 = 110143.65625
INFO flwr 2023-07-23 17:07:41,654 | fed_df.py:194 | Number of selected crops : 10507
DEBUG flwr 2023-07-23 17:07:44,459 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=215375)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=215236)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=215237)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:09:16,788 | server.py:229 | fit_round 2 received 8 results and 0 failures
[W] [17:07:41.771865] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=215307)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=215305)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=215306)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=215376)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=215237)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=215377)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=215236)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=215375)[0m Fitting Client 19
Performing server side distillation training...
[2m[36m(launch_and_fit pid=215377)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=215306)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=215307)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=215305)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=215376)[0m malloc_consolidate(): invalid chunk size
E0723 17:09:18.674094650   55204 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.15972650100290775, val accuracy : 0.3716540684748777, best val accuracy : 0.4082925744775456
Average local training loss : 6.991503837145864
Average local training accuracy : 0.7924737654320988
INFO flwr 2023-07-23 17:10:24,921 | server.py:116 | fit progress: (2, 3.1159554205233007, {'server_test_acc': 0.3403899721448468}, 332.27549915300915)
INFO flwr 2023-07-23 17:10:24,921 | server.py:163 | evaluate_round 2: no clients selected, cancel
Cluster score for round 3 = 496070.75
INFO flwr 2023-07-23 17:10:33,501 | fed_df.py:194 | Number of selected crops : 6685
DEBUG flwr 2023-07-23 17:10:35,806 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=610386)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=610456)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=610526)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:12:06,998 | server.py:229 | fit_round 3 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=610528)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=610456)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=610454)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=610386)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=610457)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=610526)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=610528)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=610527)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=610458)[0m Fitting Client 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=610454)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=610457)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=610527)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=610458)[0m malloc_consolidate(): invalid chunk size
E0723 17:12:11.883976837  463491 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.05252898041531444, val accuracy : 0.3723654957759005, best val accuracy : 0.401067140951534
Average local training loss : 7.085967509634792
Average local training accuracy : 0.7890617283950617
INFO flwr 2023-07-23 17:13:29,636 | server.py:116 | fit progress: (3, 2.412819778421131, {'server_test_acc': 0.4190807799442897}, 516.9905954530113)
INFO flwr 2023-07-23 17:13:29,636 | server.py:163 | evaluate_round 3: no clients selected, cancel
Cluster score for round 4 = 553932.375
INFO flwr 2023-07-23 17:13:38,235 | fed_df.py:194 | Number of selected crops : 4951
DEBUG flwr 2023-07-23 17:13:40,014 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1073169)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:15:08,893 | server.py:229 | fit_round 4 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1073169)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1073167)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1073166)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1073165)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1073171)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1073170)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1073168)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1073172)[0m Fitting Client 9
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1073165)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1073170)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1073168)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1073167)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1073166)[0m malloc_consolidate(): invalid chunk size
E0723 17:15:11.798774714 1299950 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
[2m[36m(launch_and_fit pid=1073171)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1073172)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.20378658851981163, val accuracy : 0.39710982658959537, best val accuracy : 0.4294130724766563
Average local training loss : 7.169613233208656
Average local training accuracy : 0.7818055555555555
INFO flwr 2023-07-23 17:17:00,175 | server.py:116 | fit progress: (4, 2.4518425747544654, {'server_test_acc': 0.34192200557103064}, 727.5290616399725)
INFO flwr 2023-07-23 17:17:00,175 | server.py:163 | evaluate_round 4: no clients selected, cancel
Cluster score for round 5 = 340342.34375
INFO flwr 2023-07-23 17:17:08,677 | fed_df.py:194 | Number of selected crops : 3500
DEBUG flwr 2023-07-23 17:17:10,196 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1579164)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1579233)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1579095)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1579163)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:18:38,091 | server.py:229 | fit_round 5 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1579233)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1579164)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1579094)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1579095)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1579025)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1579163)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1579165)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1579234)[0m Fitting Client 17
Warm start at round 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1579094)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1579165)[0m malloc_consolidate(): invalid chunk size
E0723 17:18:39.537932727 1787735 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
[2m[36m(launch_and_fit pid=1579234)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1579025)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.3318294131755829, val accuracy : 0.3025566918630503, best val accuracy : 0.3501556247220987
Average local training loss : 6.897296697087587
Average local training accuracy : 0.7987669753086419
INFO flwr 2023-07-23 17:21:02,960 | server.py:116 | fit progress: (5, 3.4461655454715316, {'server_test_acc': 0.23370473537604458}, 970.3149940429721)
INFO flwr 2023-07-23 17:21:02,961 | server.py:163 | evaluate_round 5: no clients selected, cancel
Cluster score for round 6 = 125539.96875
INFO flwr 2023-07-23 17:21:11,404 | fed_df.py:194 | Number of selected crops : 4299
DEBUG flwr 2023-07-23 17:21:13,113 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2162748)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:22:41,855 | server.py:229 | fit_round 6 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2162676)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2162679)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2162674)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2162749)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2162676)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2162748)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2162678)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2162677)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2162747)[0m Fitting Client 9
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2162679)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2162747)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2162749)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2162678)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2162674)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2162677)[0m malloc_consolidate(): invalid chunk size
E0723 17:22:46.545635493 1788942 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.16158323177695275, val accuracy : 0.5002223210315695, best val accuracy : 0.5444642063139173
Average local training loss : 6.014753837510944
Average local training accuracy : 0.8554506172839506
INFO flwr 2023-07-23 17:24:39,624 | server.py:116 | fit progress: (6, 2.080281684790481, {'server_test_acc': 0.5681058495821727}, 1186.9788621459738)
INFO flwr 2023-07-23 17:24:39,625 | server.py:163 | evaluate_round 6: no clients selected, cancel
Cluster score for round 7 = 152960.78125
INFO flwr 2023-07-23 17:24:48,303 | fed_df.py:194 | Number of selected crops : 3025
DEBUG flwr 2023-07-23 17:24:49,882 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2714638)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2714637)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2714639)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:26:20,916 | server.py:229 | fit_round 7 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2714632)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2714636)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2714632)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2714637)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2714634)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2714638)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2714639)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2714633)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2714635)[0m Fitting Client 7
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2714636)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2714633)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2714634)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2714635)[0m malloc_consolidate(): invalid chunk size
E0723 17:28:14.305901821 3182677 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.21916624811291693, val accuracy : 0.5357158737216541, best val accuracy : 0.5473543797243219
Average local training loss : 6.003071269951761
Average local training accuracy : 0.8576427469135803
INFO flwr 2023-07-23 17:29:09,650 | server.py:116 | fit progress: (7, 2.4202225701058477, {'server_test_acc': 0.4292479108635098}, 1457.0048628450022)
INFO flwr 2023-07-23 17:29:09,651 | server.py:163 | evaluate_round 7: no clients selected, cancel
Cluster score for round 8 = 139033.640625
INFO flwr 2023-07-23 17:29:18,531 | fed_df.py:194 | Number of selected crops : 5540
DEBUG flwr 2023-07-23 17:29:20,478 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3379734)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3379737)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3379665)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3379735)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:30:50,106 | server.py:229 | fit_round 8 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3379564)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3379664)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3379666)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3379734)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3379736)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3379735)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3379665)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3379737)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3379666)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3379736)[0m double free or corruption (fasttop)
E0723 17:30:51.059135548 3183920 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
[2m[36m(launch_and_fit pid=3379664)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3379564)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.09756488642841578, val accuracy : 0.51535126722988, best val accuracy : 0.5324588706091596
Average local training loss : 6.285262224636972
Average local training accuracy : 0.8407777777777777
INFO flwr 2023-07-23 17:32:31,646 | server.py:116 | fit progress: (8, 3.7153721487953804, {'server_test_acc': 0.4405292479108635}, 1659.0004347370123)
INFO flwr 2023-07-23 17:32:31,646 | server.py:163 | evaluate_round 8: no clients selected, cancel
Cluster score for round 9 = 173435.828125
INFO flwr 2023-07-23 17:32:40,605 | fed_df.py:194 | Number of selected crops : 9682
DEBUG flwr 2023-07-23 17:32:43,240 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3824123)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3824529)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3824121)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3824528)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:34:15,182 | server.py:229 | fit_round 9 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3824121)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3824123)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3824120)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3824122)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3824529)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3824528)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3824526)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3824527)[0m Fitting Client 0
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3824122)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3824120)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3824527)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3824526)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.1885130513012409, val accuracy : 0.4642285460204535, best val accuracy : 0.5012227656736328
Average local training loss : 6.056971154920758
Average local training accuracy : 0.8542554012345679
INFO flwr 2023-07-23 17:35:26,221 | server.py:116 | fit progress: (9, 3.420054068073921, {'server_test_acc': 0.4949860724233983}, 1833.575472572993)
INFO flwr 2023-07-23 17:35:26,221 | server.py:163 | evaluate_round 9: no clients selected, cancel
Cluster score for round 10 = 223051.96875
INFO flwr 2023-07-23 17:35:34,772 | fed_df.py:194 | Number of selected crops : 7087
DEBUG flwr 2023-07-23 17:35:37,008 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=53022)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=53522)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=53015)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=53521)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=53092)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=53093)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:37:07,717 | server.py:229 | fit_round 10 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=53022)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=53015)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=53092)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=53522)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=53521)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=53093)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=53090)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=53523)[0m Fitting Client 0
Warm start at round 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=53523)[0m double free or corruption (fasttop)
E0723 17:37:08.490921385 4096635 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
[2m[36m(launch_and_fit pid=53090)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.07401865594089031, val accuracy : 0.35533570475767007, best val accuracy : 0.42374388617163183
Average local training loss : 6.161166182160378
Average local training accuracy : 0.8491435185185184
INFO flwr 2023-07-23 17:38:35,781 | server.py:116 | fit progress: (10, 2.166339159941607, {'server_test_acc': 0.32047353760445685}, 2023.1355912269792)
INFO flwr 2023-07-23 17:38:35,781 | server.py:163 | evaluate_round 10: no clients selected, cancel
Cluster score for round 11 = 126443.2890625
INFO flwr 2023-07-23 17:38:44,363 | fed_df.py:194 | Number of selected crops : 10769
DEBUG flwr 2023-07-23 17:38:47,299 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=568540)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=568745)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=568562)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=568610)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:40:17,000 | server.py:229 | fit_round 11 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=568748)[0m malloc_consolidate(): invalid chunk size
[W] [17:38:44.573893] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=568562)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=568610)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=568748)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=568746)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=568745)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=568540)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=568777)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=568541)[0m Fitting Client 18
Performing server side distillation training...
[2m[36m(launch_and_fit pid=568541)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=568777)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=568746)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.14725519068539142, val accuracy : 0.3893841707425522, best val accuracy : 0.45909293019119607
Average local training loss : 5.020089011732489
Average local training accuracy : 0.9168927469135802
INFO flwr 2023-07-23 17:41:29,455 | server.py:116 | fit progress: (11, 2.7035259897662405, {'server_test_acc': 0.4142061281337047}, 2196.8097701519728)
INFO flwr 2023-07-23 17:41:29,455 | server.py:163 | evaluate_round 11: no clients selected, cancel
Cluster score for round 12 = 205453.59375
INFO flwr 2023-07-23 17:41:38,123 | fed_df.py:194 | Number of selected crops : 9328
DEBUG flwr 2023-07-23 17:41:40,749 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=962325)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=962190)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=962397)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=962393)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:43:10,531 | server.py:229 | fit_round 12 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=962324)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=962325)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=962323)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=962190)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=962189)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=962397)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=962393)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=962324)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=962394)[0m Fitting Client 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=962189)[0m malloc(): unsorted double linked list corrupted
[2m[36m(launch_and_fit pid=962323)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=962394)[0m malloc_consolidate(): invalid chunk size
E0723 17:44:20.130865738 1349113 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.20086322590708733, val accuracy : 0.2802356602934638, best val accuracy : 0.35248999555357935
Average local training loss : 5.243561903014779
Average local training accuracy : 0.903807098765432
INFO flwr 2023-07-23 17:44:23,084 | server.py:116 | fit progress: (12, 2.6060356349998197, {'server_test_acc': 0.28286908077994427}, 2370.438722644991)
INFO flwr 2023-07-23 17:44:23,084 | server.py:163 | evaluate_round 12: no clients selected, cancel
Cluster score for round 13 = 244477.84375
INFO flwr 2023-07-23 17:44:31,649 | fed_df.py:194 | Number of selected crops : 7396
DEBUG flwr 2023-07-23 17:44:33,921 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1382440)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1382443)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1382535)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:46:02,766 | server.py:229 | fit_round 13 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1382443)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1382441)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1382440)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1382539)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1382536)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1382538)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1382537)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1382535)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1382537)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1382539)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1382538)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1382441)[0m malloc_consolidate(): invalid chunk size
E0723 17:46:04.576863953 1357625 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
[2m[36m(launch_and_fit pid=1382536)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.4440119340419769, val accuracy : 0.2571587372165407, best val accuracy : 0.31336149399733215
Average local training loss : 5.14184805015102
Average local training accuracy : 0.9099583333333333
INFO flwr 2023-07-23 17:47:31,152 | server.py:116 | fit progress: (13, 3.2290168937534345, {'server_test_acc': 0.26128133704735373}, 2558.5065159919905)
INFO flwr 2023-07-23 17:47:31,152 | server.py:163 | evaluate_round 13: no clients selected, cancel
Cluster score for round 14 = 157030.546875
INFO flwr 2023-07-23 17:47:39,846 | fed_df.py:194 | Number of selected crops : 9411
DEBUG flwr 2023-07-23 17:47:42,463 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1837456)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1837455)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1837319)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:49:10,686 | server.py:229 | fit_round 14 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1837031)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1837319)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1837460)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1837457)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1837455)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1837493)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1837454)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1837456)[0m Fitting Client 11
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1837031)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1837460)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1837457)[0m malloc_consolidate(): invalid chunk size
E0723 17:49:11.689969379 1578313 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
[2m[36m(launch_and_fit pid=1837493)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1837454)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.3149964626431465, val accuracy : 0.40031124944419744, best val accuracy : 0.4619831036016007
Average local training loss : 5.388464499637484
Average local training accuracy : 0.8963379629629629
INFO flwr 2023-07-23 17:50:27,401 | server.py:116 | fit progress: (14, 2.465233375899971, {'server_test_acc': 0.481058495821727}, 2734.755916499009)
INFO flwr 2023-07-23 17:50:27,402 | server.py:163 | evaluate_round 14: no clients selected, cancel
Cluster score for round 15 = 122155.9609375
INFO flwr 2023-07-23 17:50:36,954 | fed_df.py:194 | Number of selected crops : 7013
DEBUG flwr 2023-07-23 17:50:39,140 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2243797)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2243584)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:52:07,997 | server.py:229 | fit_round 15 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2243987)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2243794)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2243799)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2243584)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2243511)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2243797)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2243799)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2243794)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2243798)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2243987)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2243986)[0m Fitting Client 16
Warm start at round 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2243511)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2243798)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2243986)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.18918549844622612, val accuracy : 0.36667407736771895, best val accuracy : 0.4905513561582926
Average local training loss : 5.135483685787767
Average local training accuracy : 0.9108086419753085
INFO flwr 2023-07-23 17:53:36,971 | server.py:116 | fit progress: (15, 4.556416391994295, {'server_test_acc': 0.43245125348189417}, 2924.32516718196)
INFO flwr 2023-07-23 17:53:36,971 | server.py:163 | evaluate_round 15: no clients selected, cancel
Cluster score for round 16 = 160758.671875
INFO flwr 2023-07-23 17:53:45,808 | fed_df.py:194 | Number of selected crops : 4109
DEBUG flwr 2023-07-23 17:53:47,428 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2739904)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2740000)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2739971)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2739966)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2739968)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:55:17,456 | server.py:229 | fit_round 16 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2739904)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2739970)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2740000)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2739971)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2739968)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2739932)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2739967)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2739966)[0m Fitting Client 13
Performing server side distillation training...
E0723 17:55:18.101685238 2964466 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
[2m[36m(launch_and_fit pid=2739970)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2739967)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2739932)[0m double free or corruption (fasttop)
E0723 17:56:09.013472055 2964874 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.08898449604958296, val accuracy : 0.5271342819030681, best val accuracy : 0.5660293463761672
Average local training loss : 4.619953265041112
Average local training accuracy : 0.9413811728395062
INFO flwr 2023-07-23 17:57:17,225 | server.py:116 | fit progress: (16, 3.0725971561952554, {'server_test_acc': 0.5250696378830083}, 3144.5798923469847)
INFO flwr 2023-07-23 17:57:17,226 | server.py:163 | evaluate_round 16: no clients selected, cancel
Cluster score for round 17 = 298125.125
INFO flwr 2023-07-23 17:57:25,782 | fed_df.py:194 | Number of selected crops : 3411
DEBUG flwr 2023-07-23 17:57:27,308 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3269451)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:58:55,034 | server.py:229 | fit_round 17 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3269451)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3269452)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3269523)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3269471)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3269524)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3269525)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3269453)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3269489)[0m Fitting Client 3
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3269523)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3269471)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3269525)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3269489)[0m double free or corruption (fasttop)
E0723 17:58:56.144510299 3073109 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
[2m[36m(launch_and_fit pid=3269524)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3269452)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3269453)[0m malloc_consolidate(): invalid chunk size
E0723 18:00:10.319851785 3647390 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.24692354646325113, val accuracy : 0.3807692307692308, best val accuracy : 0.3979546465095598
Average local training loss : 4.689328927360474
Average local training accuracy : 0.9373572530864197
INFO flwr 2023-07-23 18:01:22,979 | server.py:116 | fit progress: (17, 4.96723475071049, {'server_test_acc': 0.28885793871866294}, 3390.3332920820103)
INFO flwr 2023-07-23 18:01:22,979 | server.py:163 | evaluate_round 17: no clients selected, cancel
Cluster score for round 18 = 367502.21875
INFO flwr 2023-07-23 18:01:31,655 | fed_df.py:194 | Number of selected crops : 4310
DEBUG flwr 2023-07-23 18:01:33,351 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3848381)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3848382)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3848309)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:03:03,737 | server.py:229 | fit_round 18 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3848309)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3848311)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3848240)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3848312)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3848313)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3848382)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3848381)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3848310)[0m Fitting Client 17
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3848310)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3848313)[0m malloc_consolidate(): invalid chunk size
E0723 18:03:04.479035782 4044362 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3848312)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3848311)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3848311)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3848240)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.08326442322134972, val accuracy : 0.31285015562472207, best val accuracy : 0.3479324144064028
Average local training loss : 4.9302657278254625
Average local training accuracy : 0.9235771604938272
INFO flwr 2023-07-23 18:05:07,738 | server.py:116 | fit progress: (18, 3.481142561017305, {'server_test_acc': 0.32743732590529245}, 3615.0923003089847)
INFO flwr 2023-07-23 18:05:07,738 | server.py:163 | evaluate_round 18: no clients selected, cancel
Cluster score for round 19 = 420335.84375
INFO flwr 2023-07-23 18:05:16,307 | fed_df.py:194 | Number of selected crops : 3000
DEBUG flwr 2023-07-23 18:05:17,751 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=185395)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=185539)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=185501)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 18:06:45,903 | server.py:229 | fit_round 19 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=185465)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=185536)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=185526)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=185395)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=185539)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=185538)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=185465)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=185526)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=185536)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=185501)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=185537)[0m Fitting Client 16
Performing server side distillation training...
E0723 18:06:47.127298999  400249 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=185537)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=185538)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.2444245411455631, val accuracy : 0.4893397065362383, best val accuracy : 0.5678079146287239
Average local training loss : 4.865374994184822
Average local training accuracy : 0.9278510802469134
INFO flwr 2023-07-23 18:09:24,411 | server.py:116 | fit progress: (19, 1.3974689855548996, {'server_test_acc': 0.6023676880222841}, 3871.7655823869864)
INFO flwr 2023-07-23 18:09:24,411 | server.py:163 | evaluate_round 19: no clients selected, cancel
Cluster score for round 20 = 97530.765625
INFO flwr 2023-07-23 18:09:32,981 | fed_df.py:194 | Number of selected crops : 4832
DEBUG flwr 2023-07-23 18:09:34,809 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=839990)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=840064)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=839992)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=839988)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:11:06,822 | server.py:229 | fit_round 20 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=839990)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=839992)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=839989)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=839995)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=839988)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=839994)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=840064)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=840066)[0m Fitting Client 7
Warm start at round 20
Performing server side distillation training...
[2m[36m(launch_and_fit pid=839995)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=839994)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=840066)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=839989)[0m malloc_consolidate(): invalid chunk size
E0723 18:11:08.637378162  403140 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0723 18:11:08.638855931  403140 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.2309003221988678, val accuracy : 0.6904401956425079, best val accuracy : 0.7616718541574032
Average local training loss : 4.847580860741436
Average local training accuracy : 0.9285339506172838
INFO flwr 2023-07-23 18:12:55,454 | server.py:116 | fit progress: (20, 3.085817899544591, {'server_test_acc': 0.6612813370473538}, 4082.8083993030014)
INFO flwr 2023-07-23 18:12:55,454 | server.py:163 | evaluate_round 20: no clients selected, cancel
Cluster score for round 21 = 120204.9375
INFO flwr 2023-07-23 18:13:04,566 | fed_df.py:194 | Number of selected crops : 3355
DEBUG flwr 2023-07-23 18:13:06,049 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1330285)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1330292)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:14:36,676 | server.py:229 | fit_round 21 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1330285)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1330286)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1330292)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1330281)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1330283)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1330291)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1330289)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1330290)[0m Fitting Client 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1330283)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1330290)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1330286)[0m double free or corruption (fasttop)
E0723 18:14:37.696900858 1582558 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1330289)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1330281)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1330291)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.40585074669122695, val accuracy : 0.36378390395731436, best val accuracy : 0.40595820364606494
Average local training loss : 4.318632861133665
Average local training accuracy : 0.9596388888888889
INFO flwr 2023-07-23 18:17:00,343 | server.py:116 | fit progress: (21, 4.658410746539868, {'server_test_acc': 0.34178272980501395}, 4327.697274730017)
INFO flwr 2023-07-23 18:17:00,343 | server.py:163 | evaluate_round 21: no clients selected, cancel
Cluster score for round 22 = 111862.09375
INFO flwr 2023-07-23 18:17:09,237 | fed_df.py:194 | Number of selected crops : 5108
DEBUG flwr 2023-07-23 18:17:11,113 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1917074)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1916942)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1916935)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:18:40,508 | server.py:229 | fit_round 22 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1916935)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1916942)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1916943)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1917074)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1916947)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1916945)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1917072)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1917073)[0m Fitting Client 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1917073)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1916945)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1916943)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1917072)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1916947)[0m double free or corruption (fasttop)
E0723 18:18:43.936008689 1582962 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0723 18:19:21.800719807 2160727 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.1251332091242075, val accuracy : 0.49776567363272567, best val accuracy : 0.5362383281458426
Average local training loss : 4.53654783917591
Average local training accuracy : 0.947329475308642
INFO flwr 2023-07-23 18:20:33,253 | server.py:116 | fit progress: (22, 4.2532367414086645, {'server_test_acc': 0.5350974930362117}, 4540.607048548991)
INFO flwr 2023-07-23 18:20:33,253 | server.py:163 | evaluate_round 22: no clients selected, cancel
Cluster score for round 23 = 141523.6875
INFO flwr 2023-07-23 18:20:42,210 | fed_df.py:194 | Number of selected crops : 3808
DEBUG flwr 2023-07-23 18:20:43,950 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2422785)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2422511)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:22:13,456 | server.py:229 | fit_round 23 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2422513)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2422511)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2422785)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2422784)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2422650)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2422786)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2422787)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2422651)[0m Fitting Client 17
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2422650)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2422784)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2422513)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2422651)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2422787)[0m double free or corruption (fasttop)
E0723 18:23:43.473339261 2661090 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.17229100093245506, val accuracy : 0.53983992885727, best val accuracy : 0.5475767007558915
Average local training loss : 4.530065998528153
Average local training accuracy : 0.9477152777777776
INFO flwr 2023-07-23 18:24:19,418 | server.py:116 | fit progress: (23, 4.004335697779749, {'server_test_acc': 0.40807799442896936}, 4766.772731495963)
INFO flwr 2023-07-23 18:24:19,418 | server.py:163 | evaluate_round 23: no clients selected, cancel
Cluster score for round 24 = 221607.90625
INFO flwr 2023-07-23 18:24:28,409 | fed_df.py:194 | Number of selected crops : 4490
DEBUG flwr 2023-07-23 18:24:30,184 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3013955)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3014027)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3014097)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3013953)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:26:00,802 | server.py:229 | fit_round 24 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3013953)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3013955)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3014025)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3014026)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3014027)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3014095)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3014096)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3014097)[0m Fitting Client 19
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3014025)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3014096)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3014095)[0m malloc(): unsorted double linked list corrupted
E0723 18:26:01.896611073 2899922 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3014026)[0m corrupted size vs. prev_size in fastbins
E0723 18:26:53.324610839 3356358 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.10542502990365028, val accuracy : 0.45353490440195643, best val accuracy : 0.5183414851044909
Average local training loss : 4.458881284575909
Average local training accuracy : 0.9515185185185185
INFO flwr 2023-07-23 18:27:59,095 | server.py:116 | fit progress: (24, 9.087950890841258, {'server_test_acc': 0.4149025069637883}, 4986.449163695972)
INFO flwr 2023-07-23 18:27:59,095 | server.py:163 | evaluate_round 24: no clients selected, cancel
Cluster score for round 25 = 220592.15625
INFO flwr 2023-07-23 18:28:07,926 | fed_df.py:194 | Number of selected crops : 4605
DEBUG flwr 2023-07-23 18:28:09,704 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3522288)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3522494)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:29:40,224 | server.py:229 | fit_round 25 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3522496)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3522492)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3522288)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3522492)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3522491)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3522494)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3522496)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3522495)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3522489)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3522490)[0m Fitting Client 0
Warm start at round 25
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3522489)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3522491)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3522495)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3522490)[0m double free or corruption (fasttop)
E0723 18:29:43.006071570 3765070 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.4874470826983452, val accuracy : 0.29926634059582036, best val accuracy : 0.36938639395286793
Average local training loss : 4.524585308227689
Average local training accuracy : 0.9482739197530865
INFO flwr 2023-07-23 18:31:40,276 | server.py:116 | fit progress: (25, 5.106601111005608, {'server_test_acc': 0.39958217270194984}, 5207.630473118974)
INFO flwr 2023-07-23 18:31:40,276 | server.py:163 | evaluate_round 25: no clients selected, cancel
Cluster score for round 26 = 102218.203125
INFO flwr 2023-07-23 18:31:49,367 | fed_df.py:194 | Number of selected crops : 10605
DEBUG flwr 2023-07-23 18:31:52,236 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=4052573)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4052850)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4052906)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4053122)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:33:24,245 | server.py:229 | fit_round 26 received 8 results and 0 failures
[W] [18:31:49.494171] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=4052573)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=4052572)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=4052907)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=4053129)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=4052850)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=4052905)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=4052906)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=4053122)[0m Fitting Client 0
Performing server side distillation training...
[2m[36m(launch_and_fit pid=4053129)[0m double free or corruption (fasttop)
E0723 18:33:25.288690299 3765435 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=4052907)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4052572)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4052905)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.2781242341697216, val accuracy : 0.4100044464206314, best val accuracy : 0.4604268563806136
Average local training loss : 4.288740774057805
Average local training accuracy : 0.9611427469135803
INFO flwr 2023-07-23 18:34:35,752 | server.py:116 | fit progress: (26, 3.571063535525606, {'server_test_acc': 0.35097493036211697}, 5383.107038378017)
INFO flwr 2023-07-23 18:34:35,753 | server.py:163 | evaluate_round 26: no clients selected, cancel
Cluster score for round 27 = 145375.671875
INFO flwr 2023-07-23 18:34:44,933 | fed_df.py:194 | Number of selected crops : 9486
DEBUG flwr 2023-07-23 18:34:47,726 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=271104)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=271098)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:36:17,391 | server.py:229 | fit_round 27 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=270963)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=271098)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=271099)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=271104)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=271097)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=271103)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=271469)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=271470)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=271103)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=270963)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=271097)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=271470)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=271469)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=271099)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.31925037437677384, val accuracy : 0.4241551800800355, best val accuracy : 0.4603156958648288
Average local training loss : 4.3048661928623915
Average local training accuracy : 0.9608256172839506
INFO flwr 2023-07-23 18:37:34,832 | server.py:116 | fit progress: (27, 6.398493942643275, {'server_test_acc': 0.3502785515320334}, 5562.1862750459695)
INFO flwr 2023-07-23 18:37:34,832 | server.py:163 | evaluate_round 27: no clients selected, cancel
Cluster score for round 28 = 199391.328125
INFO flwr 2023-07-23 18:37:43,555 | fed_df.py:194 | Number of selected crops : 5610
DEBUG flwr 2023-07-23 18:37:45,558 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=689003)[0m corrupted size vs. prev_size in fastbins
DEBUG flwr 2023-07-23 18:39:14,220 | server.py:229 | fit_round 28 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=689003)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=689076)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=689075)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=689001)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=689192)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=689278)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=689230)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=689279)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=689279)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=689278)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=689192)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=689075)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=689001)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=689230)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=689076)[0m malloc_consolidate(): invalid chunk size
E0723 18:39:16.919271245   96674 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0723 18:39:34.366010077  994689 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.21830986282229423, val accuracy : 0.5369831036016006, best val accuracy : 0.5501333926189418
Average local training loss : 4.378490073792635
Average local training accuracy : 0.9569236111111111
INFO flwr 2023-07-23 18:40:59,862 | server.py:116 | fit progress: (28, 3.9062472181399883, {'server_test_acc': 0.5778551532033426}, 5767.216132445959)
INFO flwr 2023-07-23 18:40:59,862 | server.py:163 | evaluate_round 28: no clients selected, cancel
Cluster score for round 29 = 142357.125
INFO flwr 2023-07-23 18:41:08,890 | fed_df.py:194 | Number of selected crops : 6752
DEBUG flwr 2023-07-23 18:41:11,090 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1224744)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1225130)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:42:41,619 | server.py:229 | fit_round 29 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1224744)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1224980)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1225128)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1225129)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1224982)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1225130)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1224981)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1225131)[0m Fitting Client 0
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1225131)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1224980)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1224982)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1224981)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1225129)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1225128)[0m malloc_consolidate(): invalid chunk size
E0723 18:42:43.377238903  995722 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.15962276130914688, val accuracy : 0.577178746109382, best val accuracy : 0.6137172076478434
Average local training loss : 4.312112625967711
Average local training accuracy : 0.9603256172839507
INFO flwr 2023-07-23 18:44:07,925 | server.py:116 | fit progress: (29, 4.015596677732335, {'server_test_acc': 0.6246518105849582}, 5955.279110869975)
INFO flwr 2023-07-23 18:44:07,925 | server.py:163 | evaluate_round 29: no clients selected, cancel
Cluster score for round 30 = 179655.546875
INFO flwr 2023-07-23 18:44:16,770 | fed_df.py:194 | Number of selected crops : 4108
DEBUG flwr 2023-07-23 18:44:18,380 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1654818)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1654834)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1654837)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:45:47,241 | server.py:229 | fit_round 30 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1654818)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1654837)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1654835)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1654840)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1654838)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1654841)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1654834)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1654836)[0m Fitting Client 16
Warm start at round 30
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1654838)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1654840)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1654841)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1654835)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1654836)[0m malloc_consolidate(): invalid chunk size
E0723 18:45:49.618717448 1449932 chttp2_transport.cc:1079]             ipv4:145.136.62.26:59557: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.28467799031734464, val accuracy : 0.4105269008448199, best val accuracy : 0.47810137839039574
Average local training loss : 4.323318640049547
Average local training accuracy : 0.9600347222222222
INFO flwr 2023-07-23 18:47:41,627 | server.py:116 | fit progress: (30, 12.534802549994424, {'server_test_acc': 0.5188022284122563}, 6168.981399740966)
INFO flwr 2023-07-23 18:47:41,627 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-07-23 18:47:41,627 | server.py:144 | FL finished in 6168.981778896006
INFO flwr 2023-07-23 18:47:41,628 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-07-23 18:47:41,628 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-07-23 18:47:41,629 | app.py:204 | app_fit: losses_centralized [(0, 2.1845225108367154), (1, 4.996596302893169), (2, 3.1159554205233007), (3, 2.412819778421131), (4, 2.4518425747544654), (5, 3.4461655454715316), (6, 2.080281684790481), (7, 2.4202225701058477), (8, 3.7153721487953804), (9, 3.420054068073921), (10, 2.166339159941607), (11, 2.7035259897662405), (12, 2.6060356349998197), (13, 3.2290168937534345), (14, 2.465233375899971), (15, 4.556416391994295), (16, 3.0725971561952554), (17, 4.96723475071049), (18, 3.481142561017305), (19, 1.3974689855548996), (20, 3.085817899544591), (21, 4.658410746539868), (22, 4.2532367414086645), (23, 4.004335697779749), (24, 9.087950890841258), (25, 5.106601111005608), (26, 3.571063535525606), (27, 6.398493942643275), (28, 3.9062472181399883), (29, 4.015596677732335), (30, 12.534802549994424)]
INFO flwr 2023-07-23 18:47:41,629 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.11030640668523677), (1, 0.3434540389972145), (2, 0.3403899721448468), (3, 0.4190807799442897), (4, 0.34192200557103064), (5, 0.23370473537604458), (6, 0.5681058495821727), (7, 0.4292479108635098), (8, 0.4405292479108635), (9, 0.4949860724233983), (10, 0.32047353760445685), (11, 0.4142061281337047), (12, 0.28286908077994427), (13, 0.26128133704735373), (14, 0.481058495821727), (15, 0.43245125348189417), (16, 0.5250696378830083), (17, 0.28885793871866294), (18, 0.32743732590529245), (19, 0.6023676880222841), (20, 0.6612813370473538), (21, 0.34178272980501395), (22, 0.5350974930362117), (23, 0.40807799442896936), (24, 0.4149025069637883), (25, 0.39958217270194984), (26, 0.35097493036211697), (27, 0.3502785515320334), (28, 0.5778551532033426), (29, 0.6246518105849582), (30, 0.5188022284122563)]}
malloc_consolidate(): invalid chunk size
srun: error: gcn26: task 0: Aborted
srun: Terminating StepId=3126845.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3126845
Cluster: snellius
User/Group: sunnys/sunnys
State: RUNNING
Nodes: 1
Cores per node: 18
CPU Utilized: 03:38:48
CPU Efficiency: 11.40% of 1-07:58:48 core-walltime
Job Wall-clock time: 01:46:36
Memory Utilized: 55.81 GB
Memory Efficiency: 46.51% of 120.00 GB
WARNING: Efficiency statistics may be misleading for RUNNING jobs.
