-----BEGIN-----
-----SETTINGS-----
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:cifar10
PARTITION_ALPHA:10.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:40
LOCAL_LR:0.05
DISTILL_BATCH_SIZE:512
SERVER_LR:0.005
SERVER_STEPS:500
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
SEED:42
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:ameyoko.jpg
DISTILL_DATASET:cifar100
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:20000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:5
KMEANS_N_CLUSTER:20
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
CONFIDENCE_THRESHOLD:0.8
CLIPPING_FACTOR:2.5
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=100000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/ameyoko.jpg', targetpath='/scratch-local/sunnys.3126856/1690124928_828160218', seed=42, img_per_thread=5555)
will save 100000 patches in /scratch-local/sunnys.3126856/1690124928_828160218/single_img_crops/crops
100000 took 0.67min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-07-23 17:09:46,682 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-07-23 17:09:46,682 | simulate.py:55 | Reading args from argument parser
Downloading https://www.cs.toronto.edu/~kriz/cifar-10-python.tar.gz to /scratch-local/sunnys.3126856/1690124928_828160218/cifar-10-python.tar.gz
Extracting /scratch-local/sunnys.3126856/1690124928_828160218/cifar-10-python.tar.gz to /scratch-local/sunnys.3126856/1690124928_828160218
Generating unified cifar10 dataset
Class histogram for 0-th partition (alpha=10.0, 10 classes): [259 271 116 269 240 311 223 239 284 288]
INFO flwr 2023-07-23 17:10:23,448 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-07-23 17:10:26,513	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8265 [39m[22m
INFO flwr 2023-07-23 17:10:28,093 | app.py:179 | Flower VCE: Ray initialized with resources: {'object_store_memory': 61847529062.0, 'memory': 103079215104.0, 'GPU': 1.0, 'CPU': 18.0, 'accelerator_type:A100': 1.0, 'node:145.136.62.6': 1.0}
INFO flwr 2023-07-23 17:10:28,093 | server.py:86 | Initializing global parameters
INFO flwr 2023-07-23 17:10:28,093 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-07-23 17:10:28,094 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-07-23 17:10:35,972 | server.py:91 | initial parameters (loss, other metrics): 2.3234217651367186, {'server_test_acc': 0.108}
INFO flwr 2023-07-23 17:10:35,972 | server.py:101 | FL starting
Cluster score for round 1 = 29085.08203125
INFO flwr 2023-07-23 17:10:43,735 | fed_df.py:194 | Number of selected crops : 20000
DEBUG flwr 2023-07-23 17:10:48,273 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2327504)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:12:17,513 | server.py:229 | fit_round 1 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2327501)[0m malloc_consolidate(): invalid chunk size
[W] [17:10:43.943336] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2327503)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2327501)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2327502)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2327504)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2327510)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2327508)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2327511)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2327509)[0m Fitting Client 10
Warm start at round 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2327502)[0m malloc_consolidate(): invalid chunk size
E0723 17:12:18.728296900 2530915 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
[2m[36m(launch_and_fit pid=2327503)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2327508)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2327511)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2327509)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2327510)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.3055333349108696, val accuracy : 0.41964000000000007, best val accuracy : 0.4554
Average local training loss : 8.60247725583613
Average local training accuracy : 0.4063041666666667
INFO flwr 2023-07-23 17:13:07,519 | server.py:116 | fit progress: (1, 1.7561912841796874, {'server_test_acc': 0.4557}, 151.54711230902467)
INFO flwr 2023-07-23 17:13:07,519 | server.py:163 | evaluate_round 1: no clients selected, cancel
Cluster score for round 2 = 192878.9375
INFO flwr 2023-07-23 17:13:15,826 | fed_df.py:194 | Number of selected crops : 12405
DEBUG flwr 2023-07-23 17:13:18,991 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2621184)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:14:41,266 | server.py:229 | fit_round 2 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2621177)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2621185)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=2621176)[0m malloc_consolidate(): invalid chunk size
[W] [17:13:15.971206] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2621176)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2621177)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2621179)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2621182)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2621184)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2621183)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2621186)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2621185)[0m Fitting Client 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2621179)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2621182)[0m double free or corruption (fasttop)
E0723 17:14:43.201019743 2531839 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
[2m[36m(launch_and_fit pid=2621183)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2621186)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.057408876616507766, val accuracy : 0.4777, best val accuracy : 0.5116
Average local training loss : 6.813939356431365
Average local training accuracy : 0.5914486111111111
INFO flwr 2023-07-23 17:15:43,062 | server.py:116 | fit progress: (2, 1.4391626708984375, {'server_test_acc': 0.5216}, 307.08973594603594)
INFO flwr 2023-07-23 17:15:43,062 | server.py:163 | evaluate_round 2: no clients selected, cancel
Cluster score for round 3 = 167181.8125
INFO flwr 2023-07-23 17:15:51,621 | fed_df.py:194 | Number of selected crops : 14971
DEBUG flwr 2023-07-23 17:15:55,359 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2893320)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2893314)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2893321)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:17:15,400 | server.py:229 | fit_round 3 received 8 results and 0 failures
[W] [17:15:51.777886] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2893314)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2893321)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2893318)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2893320)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2893392)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2893390)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2893391)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2893322)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2893390)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2893392)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2893322)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2893391)[0m malloc_consolidate(): invalid chunk size
E0723 17:17:17.163069545 2804654 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
[2m[36m(launch_and_fit pid=2893318)[0m corrupted size vs. prev_size in fastbins
Distillation training stopped at step number : 500
Average fusion training loss : 0.030586443275213242, val accuracy : 0.5425599999999999, best val accuracy : 0.5604
Average local training loss : 6.43174641560763
Average local training accuracy : 0.6307
INFO flwr 2023-07-23 17:18:13,523 | server.py:116 | fit progress: (3, 1.3830535522460938, {'server_test_acc': 0.5612}, 457.5508379529929)
INFO flwr 2023-07-23 17:18:13,523 | server.py:163 | evaluate_round 3: no clients selected, cancel
Cluster score for round 4 = 136487.78125
INFO flwr 2023-07-23 17:18:22,015 | fed_df.py:194 | Number of selected crops : 15385
DEBUG flwr 2023-07-23 17:18:25,828 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3150821)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3150752)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3150961)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3150890)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:19:46,522 | server.py:229 | fit_round 4 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3150891)[0m malloc_consolidate(): invalid chunk size
[W] [17:18:22.175885] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3150752)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3150821)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3150892)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3150891)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3150961)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3150960)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3150822)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3150890)[0m Fitting Client 18
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3150892)[0m corrupted size vs. prev_size in fastbins
E0723 17:19:47.223904605 3061707 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
[2m[36m(launch_and_fit pid=3150960)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3150822)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.03261166398227215, val accuracy : 0.54924, best val accuracy : 0.5634
Average local training loss : 5.953253738954665
Average local training accuracy : 0.6813055555555556
INFO flwr 2023-07-23 17:20:45,057 | server.py:116 | fit progress: (4, 1.360243621826172, {'server_test_acc': 0.5652}, 609.0854477219982)
INFO flwr 2023-07-23 17:20:45,058 | server.py:163 | evaluate_round 4: no clients selected, cancel
Cluster score for round 5 = 105013.1171875
INFO flwr 2023-07-23 17:20:53,610 | fed_df.py:194 | Number of selected crops : 15588
DEBUG flwr 2023-07-23 17:20:57,442 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3408001)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3408003)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3408071)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3408002)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3408149)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:22:18,298 | server.py:229 | fit_round 5 received 8 results and 0 failures
[W] [17:20:53.777338] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3408001)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3408002)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3408071)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3408003)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3408072)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3408140)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3408148)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3408149)[0m Fitting Client 11
Warm start at round 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3408140)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3408072)[0m malloc(): unsorted double linked list corrupted
[2m[36m(launch_and_fit pid=3408148)[0m malloc_consolidate(): invalid chunk size
E0723 17:22:19.885335895 3312147 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.02466281676851213, val accuracy : 0.6253399999999999, best val accuracy : 0.6362
Average local training loss : 6.066085699014365
Average local training accuracy : 0.6689736111111111
INFO flwr 2023-07-23 17:23:16,240 | server.py:116 | fit progress: (5, 1.223815280151367, {'server_test_acc': 0.6306}, 760.2676263140165)
INFO flwr 2023-07-23 17:23:16,240 | server.py:163 | evaluate_round 5: no clients selected, cancel
Cluster score for round 6 = 38668.09375
INFO flwr 2023-07-23 17:23:24,755 | fed_df.py:194 | Number of selected crops : 17007
DEBUG flwr 2023-07-23 17:23:28,822 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3664778)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3664985)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3664984)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3665122)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3664983)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:24:49,586 | server.py:229 | fit_round 6 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3665123)[0m malloc_consolidate(): invalid chunk size
[W] [17:23:24.929747] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3664778)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3664985)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3664983)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3664984)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3665123)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3665121)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3665122)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3665053)[0m Fitting Client 14
Performing server side distillation training...
E0723 17:24:50.525017787 3817102 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
[2m[36m(launch_and_fit pid=3665121)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3665053)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.010876751989126205, val accuracy : 0.62976, best val accuracy : 0.6466
Average local training loss : 4.843782001920045
Average local training accuracy : 0.8017583333333335
INFO flwr 2023-07-23 17:25:46,022 | server.py:116 | fit progress: (6, 1.2840631896972656, {'server_test_acc': 0.6383}, 910.050367037009)
INFO flwr 2023-07-23 17:25:46,023 | server.py:163 | evaluate_round 6: no clients selected, cancel
Cluster score for round 7 = 33537.3671875
INFO flwr 2023-07-23 17:25:54,532 | fed_df.py:194 | Number of selected crops : 17251
DEBUG flwr 2023-07-23 17:25:58,613 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3918412)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:27:19,042 | server.py:229 | fit_round 7 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3918573)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3918434)[0m malloc_consolidate(): invalid chunk size
[W] [17:25:54.709734] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3918412)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3918434)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3918437)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3918435)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3918436)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3918505)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3918574)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3918573)[0m Fitting Client 9
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3918435)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3918437)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3918505)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3918436)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3918574)[0m double free or corruption (fasttop)
E0723 17:27:20.904432331 3818765 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.00916827964875847, val accuracy : 0.6173200000000001, best val accuracy : 0.6266
Average local training loss : 4.7621900318190455
Average local training accuracy : 0.8089694444444445
INFO flwr 2023-07-23 17:28:14,626 | server.py:116 | fit progress: (7, 1.3016985412597657, {'server_test_acc': 0.6249}, 1058.653801626002)
INFO flwr 2023-07-23 17:28:14,626 | server.py:163 | evaluate_round 7: no clients selected, cancel
Cluster score for round 8 = 31054.330078125
INFO flwr 2023-07-23 17:28:23,122 | fed_df.py:194 | Number of selected crops : 17528
DEBUG flwr 2023-07-23 17:28:27,327 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=20475)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=20481)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=20587)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=20592)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:29:47,943 | server.py:229 | fit_round 8 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=20594)[0m malloc_consolidate(): invalid chunk size
[W] [17:28:23.307728] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=20475)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=20481)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=20587)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=20593)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=20592)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=20594)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=20590)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=20591)[0m Fitting Client 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=20593)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=20591)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=20590)[0m malloc_consolidate(): invalid chunk size
E0723 17:30:42.399471849 4090865 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.00885204882826656, val accuracy : 0.66504, best val accuracy : 0.6682
Average local training loss : 4.781133873388171
Average local training accuracy : 0.8078444444444445
INFO flwr 2023-07-23 17:30:46,465 | server.py:116 | fit progress: (8, 1.2332732147216796, {'server_test_acc': 0.664}, 1210.4930311810458)
INFO flwr 2023-07-23 17:30:46,465 | server.py:163 | evaluate_round 8: no clients selected, cancel
Cluster score for round 9 = 33521.7734375
INFO flwr 2023-07-23 17:30:54,973 | fed_df.py:194 | Number of selected crops : 16802
DEBUG flwr 2023-07-23 17:30:58,947 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=273269)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=273271)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=273475)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=273407)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:32:19,090 | server.py:229 | fit_round 9 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=273544)[0m double free or corruption (fasttop)
[W] [17:30:55.150074] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=273269)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=273271)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=273406)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=273407)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=273475)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=273544)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=273546)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=273545)[0m Fitting Client 2
Performing server side distillation training...
[2m[36m(launch_and_fit pid=273545)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=273546)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=273406)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.005935215651057661, val accuracy : 0.67066, best val accuracy : 0.677
Average local training loss : 4.823599926568567
Average local training accuracy : 0.8048958333333333
INFO flwr 2023-07-23 17:33:16,323 | server.py:116 | fit progress: (9, 1.2213829833984375, {'server_test_acc': 0.6707}, 1360.3513813620084)
INFO flwr 2023-07-23 17:33:16,324 | server.py:163 | evaluate_round 9: no clients selected, cancel
Cluster score for round 10 = 33697.29296875
INFO flwr 2023-07-23 17:33:24,769 | fed_df.py:194 | Number of selected crops : 17236
DEBUG flwr 2023-07-23 17:33:28,853 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=527613)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=527749)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=527887)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=527890)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:34:49,567 | server.py:229 | fit_round 10 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=527888)[0m malloc_consolidate(): invalid chunk size
[W] [17:33:24.943874] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=527749)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=527613)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=527818)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=527819)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=527889)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=527888)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=527890)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=527887)[0m Fitting Client 10
Warm start at round 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=527818)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=527889)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=527819)[0m malloc_consolidate(): invalid chunk size
E0723 17:34:53.110856550  665583 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
E0723 17:35:25.164115097  669725 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.022496987834572792, val accuracy : 0.6661199999999999, best val accuracy : 0.6724
Average local training loss : 4.683725641481579
Average local training accuracy : 0.818363888888889
INFO flwr 2023-07-23 17:35:47,341 | server.py:116 | fit progress: (10, 1.2401453216552734, {'server_test_acc': 0.6743}, 1511.368671897042)
INFO flwr 2023-07-23 17:35:47,341 | server.py:163 | evaluate_round 10: no clients selected, cancel
Cluster score for round 11 = 17491.537109375
INFO flwr 2023-07-23 17:35:55,923 | fed_df.py:194 | Number of selected crops : 16690
DEBUG flwr 2023-07-23 17:36:00,038 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=778999)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:37:20,102 | server.py:229 | fit_round 11 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=779242)[0m malloc_consolidate(): invalid chunk size
[W] [17:35:56.101505] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=778999)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=779034)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=779035)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=779036)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=779106)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=779037)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=779174)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=779242)[0m Fitting Client 0
Performing server side distillation training...
[2m[36m(launch_and_fit pid=779174)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=779034)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=779106)[0m malloc_consolidate(): invalid chunk size
E0723 17:37:21.463646061  731340 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
[2m[36m(launch_and_fit pid=779036)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=779035)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.005934354945085943, val accuracy : 0.6985, best val accuracy : 0.705
Average local training loss : 4.298909821547568
Average local training accuracy : 0.8602041666666667
INFO flwr 2023-07-23 17:38:17,989 | server.py:116 | fit progress: (11, 1.1499429077148438, {'server_test_acc': 0.6982}, 1662.0167071270407)
INFO flwr 2023-07-23 17:38:17,989 | server.py:163 | evaluate_round 11: no clients selected, cancel
Cluster score for round 12 = 22073.93359375
INFO flwr 2023-07-23 17:38:26,540 | fed_df.py:194 | Number of selected crops : 17047
DEBUG flwr 2023-07-23 17:38:30,667 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1032684)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1032683)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1032752)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:39:51,415 | server.py:229 | fit_round 12 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1032649)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1032614)[0m malloc_consolidate(): invalid chunk size
[W] [17:38:26.725614] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1032613)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1032752)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1032649)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1032683)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1032684)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1032614)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1032754)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1032753)[0m Fitting Client 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1032613)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1032753)[0m malloc_consolidate(): invalid chunk size
E0723 17:39:52.919662419 1162493 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
[2m[36m(launch_and_fit pid=1032754)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.011169735309667885, val accuracy : 0.6941599999999999, best val accuracy : 0.6978
Average local training loss : 4.246871582977473
Average local training accuracy : 0.865173611111111
INFO flwr 2023-07-23 17:40:48,003 | server.py:116 | fit progress: (12, 1.162642709350586, {'server_test_acc': 0.6882}, 1812.0312865080195)
INFO flwr 2023-07-23 17:40:48,004 | server.py:163 | evaluate_round 12: no clients selected, cancel
Cluster score for round 13 = 23704.1328125
INFO flwr 2023-07-23 17:40:56,866 | fed_df.py:194 | Number of selected crops : 15751
DEBUG flwr 2023-07-23 17:41:00,667 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1284684)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1284807)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:42:20,727 | server.py:229 | fit_round 13 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1284810)[0m malloc_consolidate(): invalid chunk size
[W] [17:40:57.042224] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1284684)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1284807)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1284809)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1284810)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1284808)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1284813)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1284811)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1284812)[0m Fitting Client 8
Performing server side distillation training...
E0723 17:42:21.619553944 1164192 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
[2m[36m(launch_and_fit pid=1284808)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1284813)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1284809)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1284812)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1284811)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.010782355452887714, val accuracy : 0.69714, best val accuracy : 0.7036
Average local training loss : 4.302837388031184
Average local training accuracy : 0.8602000000000001
INFO flwr 2023-07-23 17:43:20,370 | server.py:116 | fit progress: (13, 1.1292468872070311, {'server_test_acc': 0.6953}, 1964.3981425359962)
INFO flwr 2023-07-23 17:43:20,370 | server.py:163 | evaluate_round 13: no clients selected, cancel
Cluster score for round 14 = 25942.1015625
INFO flwr 2023-07-23 17:43:29,024 | fed_df.py:194 | Number of selected crops : 16405
DEBUG flwr 2023-07-23 17:43:32,897 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-23 17:44:52,427 | server.py:229 | fit_round 14 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1584063)[0m double free or corruption (fasttop)
[W] [17:43:29.195190] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1583924)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1583992)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1583994)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1584062)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1583993)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1584063)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1584149)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1584161)[0m Fitting Client 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1583924)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1584062)[0m double free or corruption (fasttop)
E0723 17:44:53.682962066 1709705 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
[2m[36m(launch_and_fit pid=1584149)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1583994)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1584161)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1583993)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.009504229415208102, val accuracy : 0.6853199999999999, best val accuracy : 0.6964
Average local training loss : 4.1782366102561355
Average local training accuracy : 0.8692208333333333
INFO flwr 2023-07-23 17:45:50,672 | server.py:116 | fit progress: (14, 1.1288559417724608, {'server_test_acc': 0.6922}, 2114.700181086024)
INFO flwr 2023-07-23 17:45:50,672 | server.py:163 | evaluate_round 14: no clients selected, cancel
Cluster score for round 15 = 27305.64453125
INFO flwr 2023-07-23 17:45:59,371 | fed_df.py:194 | Number of selected crops : 16331
DEBUG flwr 2023-07-23 17:46:03,301 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-23 17:47:22,286 | server.py:229 | fit_round 15 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1836880)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1836892)[0m malloc_consolidate(): invalid chunk size
[W] [17:45:59.541441] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1836746)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1836880)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1836889)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1836887)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1836892)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1836893)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1837025)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1837024)[0m Fitting Client 16
Warm start at round 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1836746)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1837025)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1836889)[0m malloc_consolidate(): invalid chunk size
E0723 17:47:24.029124199 1710178 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
[2m[36m(launch_and_fit pid=1837024)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1836887)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1836893)[0m malloc_consolidate(): invalid chunk size
E0723 17:47:52.112560308 2006498 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.03176568159461021, val accuracy : 0.70096, best val accuracy : 0.7098
Average local training loss : 4.218584789521992
Average local training accuracy : 0.866073611111111
INFO flwr 2023-07-23 17:48:19,419 | server.py:116 | fit progress: (15, 1.147169140625, {'server_test_acc': 0.7088}, 2263.446940646041)
INFO flwr 2023-07-23 17:48:19,419 | server.py:163 | evaluate_round 15: no clients selected, cancel
Cluster score for round 16 = 10986.96484375
INFO flwr 2023-07-23 17:48:28,346 | fed_df.py:194 | Number of selected crops : 15987
DEBUG flwr 2023-07-23 17:48:32,155 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2083598)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2083870)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2084006)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2084013)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:49:53,756 | server.py:229 | fit_round 16 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2084012)[0m double free or corruption (fasttop)
[W] [17:48:28.512688] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2083598)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2083870)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2084006)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2084013)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2084010)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2084012)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2083599)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2083734)[0m Fitting Client 4
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2084010)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2083599)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2083734)[0m malloc_consolidate(): invalid chunk size
E0723 17:49:58.711693083 2225144 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.009363406259566545, val accuracy : 0.7089400000000001, best val accuracy : 0.714
Average local training loss : 3.867639378085732
Average local training accuracy : 0.8979263888888889
INFO flwr 2023-07-23 17:50:52,700 | server.py:116 | fit progress: (16, 1.0992056854248047, {'server_test_acc': 0.7109}, 2416.727769775025)
INFO flwr 2023-07-23 17:50:52,700 | server.py:163 | evaluate_round 16: no clients selected, cancel
Cluster score for round 17 = 14186.1806640625
INFO flwr 2023-07-23 17:51:01,755 | fed_df.py:194 | Number of selected crops : 15678
DEBUG flwr 2023-07-23 17:51:05,528 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2335121)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2335778)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2335557)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:52:26,195 | server.py:229 | fit_round 17 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2335368)[0m double free or corruption (fasttop)
[W] [17:51:01.921330] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2335121)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2335640)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2335368)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2335557)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2335639)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2335778)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2335830)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2335775)[0m Fitting Client 18
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2335640)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2335775)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2335639)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2335830)[0m double free or corruption (fasttop)
E0723 17:52:28.184984243 2226283 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0723 17:52:28.185047787 2226283 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0723 17:52:28.185057994 2226283 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0723 17:52:28.185065744 2226283 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0723 17:52:28.185073519 2226283 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.010694594327360392, val accuracy : 0.67384, best val accuracy : 0.6794
Average local training loss : 3.841797512955963
Average local training accuracy : 0.9008555555555555
INFO flwr 2023-07-23 17:53:23,935 | server.py:116 | fit progress: (17, 1.1615812042236329, {'server_test_acc': 0.6794}, 2567.962682974001)
INFO flwr 2023-07-23 17:53:23,935 | server.py:163 | evaluate_round 17: no clients selected, cancel
Cluster score for round 18 = 17151.35546875
INFO flwr 2023-07-23 17:53:32,688 | fed_df.py:194 | Number of selected crops : 14888
DEBUG flwr 2023-07-23 17:53:36,473 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2586479)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2586731)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2586875)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:54:56,636 | server.py:229 | fit_round 18 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2587138)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2587002)[0m malloc_consolidate(): invalid chunk size
[W] [17:53:32.840025] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2586479)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2586731)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2586875)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2587003)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2587002)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2587139)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2587140)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2587138)[0m Fitting Client 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2587003)[0m double free or corruption (fasttop)
E0723 17:54:57.609236349 2480775 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2587140)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2587139)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.005656814611516893, val accuracy : 0.7212400000000001, best val accuracy : 0.7266
Average local training loss : 3.990266909636557
Average local training accuracy : 0.8888069444444444
INFO flwr 2023-07-23 17:55:55,614 | server.py:116 | fit progress: (18, 1.0468028198242187, {'server_test_acc': 0.7243}, 2719.6424658379983)
INFO flwr 2023-07-23 17:55:55,615 | server.py:163 | evaluate_round 18: no clients selected, cancel
Cluster score for round 19 = 18199.6171875
INFO flwr 2023-07-23 17:56:04,441 | fed_df.py:194 | Number of selected crops : 15774
DEBUG flwr 2023-07-23 17:56:08,298 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2838715)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2838730)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2838724)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2838802)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:57:29,289 | server.py:229 | fit_round 19 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2838718)[0m double free or corruption (fasttop)
[W] [17:56:04.609459] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2838718)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2838715)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2838802)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2838730)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2838719)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2838724)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2838716)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2838725)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2838716)[0m double free or corruption (fasttop)
E0723 17:57:30.357242734 3016093 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2838719)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2838725)[0m double free or corruption (fasttop)
E0723 17:57:48.305691616 3017399 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.005934560570400208, val accuracy : 0.7256199999999999, best val accuracy : 0.7288
Average local training loss : 3.9136822722852225
Average local training accuracy : 0.8953749999999999
INFO flwr 2023-07-23 17:58:27,808 | server.py:116 | fit progress: (19, 1.0220030548095702, {'server_test_acc': 0.7294}, 2871.835830811993)
INFO flwr 2023-07-23 17:58:27,808 | server.py:163 | evaluate_round 19: no clients selected, cancel
Cluster score for round 20 = 19164.3671875
INFO flwr 2023-07-23 17:58:37,077 | fed_df.py:194 | Number of selected crops : 15326
DEBUG flwr 2023-07-23 17:58:40,933 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3134466)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3134858)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3134709)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:00:01,102 | server.py:229 | fit_round 20 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3134294)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3134714)[0m double free or corruption (fasttop)
[W] [17:58:37.247856] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3134294)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3134466)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3134709)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3134715)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3134712)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3134714)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3134858)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3134857)[0m Fitting Client 3
Warm start at round 20
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3134857)[0m double free or corruption (fasttop)
E0723 18:00:02.298705100 3041897 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3134712)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3134715)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.018940706726163627, val accuracy : 0.7207, best val accuracy : 0.7298
Average local training loss : 3.965684367343784
Average local training accuracy : 0.889436111111111
INFO flwr 2023-07-23 18:00:59,107 | server.py:116 | fit progress: (20, 1.169440426635742, {'server_test_acc': 0.7246}, 3023.134598590026)
INFO flwr 2023-07-23 18:00:59,107 | server.py:163 | evaluate_round 20: no clients selected, cancel
Cluster score for round 21 = 6918.9521484375
INFO flwr 2023-07-23 18:01:08,037 | fed_df.py:194 | Number of selected crops : 16914
DEBUG flwr 2023-07-23 18:01:12,137 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3385200)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3385477)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3385345)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:02:32,293 | server.py:229 | fit_round 21 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3385993)[0m double free or corruption (fasttop)
[W] [18:01:08.233083] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3385200)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3385345)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3385477)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3385743)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3385478)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3385993)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3385994)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3385859)[0m Fitting Client 18
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3385478)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3385859)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3385743)[0m malloc_consolidate(): invalid chunk size
E0723 18:02:33.850193944 3547173 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3385994)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.015101173298433423, val accuracy : 0.73166, best val accuracy : 0.7398
Average local training loss : 3.8385290985926983
Average local training accuracy : 0.904126388888889
INFO flwr 2023-07-23 18:03:26,809 | server.py:116 | fit progress: (21, 1.0931578643798827, {'server_test_acc': 0.7317}, 3170.8373057169956)
INFO flwr 2023-07-23 18:03:26,810 | server.py:163 | evaluate_round 21: no clients selected, cancel
Cluster score for round 22 = 9198.87109375
INFO flwr 2023-07-23 18:03:35,635 | fed_df.py:194 | Number of selected crops : 16348
DEBUG flwr 2023-07-23 18:03:39,493 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3628060)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3628209)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:04:59,376 | server.py:229 | fit_round 22 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3628781)[0m double free or corruption (fasttop)
[W] [18:03:35.806211] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3628060)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3628209)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3628211)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3628613)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3628781)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3628612)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3628348)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3628780)[0m Fitting Client 18
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3628780)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3628612)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3628613)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3628348)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3628211)[0m malloc_consolidate(): invalid chunk size
E0723 18:05:01.438691814 3798600 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0723 18:05:01.438763592 3798600 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0723 18:05:01.438773414 3798600 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0723 18:05:01.438781612 3798600 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0723 18:05:01.438789164 3798600 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0723 18:05:01.438797294 3798600 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0723 18:05:01.438805135 3798600 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.008387425859458744, val accuracy : 0.7072800000000001, best val accuracy : 0.7134
Average local training loss : 3.743735271692276
Average local training accuracy : 0.9101736111111112
INFO flwr 2023-07-23 18:05:55,414 | server.py:116 | fit progress: (22, 1.0782531677246094, {'server_test_acc': 0.7112}, 3319.4418016680283)
INFO flwr 2023-07-23 18:05:55,414 | server.py:163 | evaluate_round 22: no clients selected, cancel
Cluster score for round 23 = 13213.05859375
INFO flwr 2023-07-23 18:06:04,238 | fed_df.py:194 | Number of selected crops : 15555
DEBUG flwr 2023-07-23 18:06:08,119 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3875595)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3875592)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3875731)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3875732)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:07:28,558 | server.py:229 | fit_round 23 received 8 results and 0 failures
[W] [18:06:04.405308] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3875592)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3875595)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3875591)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3875731)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3875733)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3875735)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3875737)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3875732)[0m Fitting Client 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3875737)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3875591)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3875733)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3875735)[0m malloc_consolidate(): invalid chunk size
E0723 18:07:31.671530275 4052705 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.011189201286993921, val accuracy : 0.7368, best val accuracy : 0.7412
Average local training loss : 3.8700604239478706
Average local training accuracy : 0.8995930555555557
INFO flwr 2023-07-23 18:08:25,608 | server.py:116 | fit progress: (23, 1.0172897338867188, {'server_test_acc': 0.7321}, 3469.6364999160287)
INFO flwr 2023-07-23 18:08:25,609 | server.py:163 | evaluate_round 23: no clients selected, cancel
Cluster score for round 24 = 14216.296875
INFO flwr 2023-07-23 18:08:34,324 | fed_df.py:194 | Number of selected crops : 15668
DEBUG flwr 2023-07-23 18:08:38,206 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=4123660)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:09:58,619 | server.py:229 | fit_round 24 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=4124064)[0m double free or corruption (fasttop)
[W] [18:08:34.500769] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=4123660)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=4124065)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=4124066)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=4124069)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=4123912)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=4123914)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=4124064)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=4124067)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=4124065)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4123912)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4124067)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4124069)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4124066)[0m double free or corruption (fasttop)
E0723 18:10:00.381619007 4053769 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=4123914)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.007255501599982381, val accuracy : 0.7505, best val accuracy : 0.7548
Average local training loss : 3.8640984190627936
Average local training accuracy : 0.9013680555555555
INFO flwr 2023-07-23 18:10:56,609 | server.py:116 | fit progress: (24, 0.9728001556396484, {'server_test_acc': 0.7422}, 3620.6372745700064)
INFO flwr 2023-07-23 18:10:56,610 | server.py:163 | evaluate_round 24: no clients selected, cancel
Cluster score for round 25 = 15534.162109375
INFO flwr 2023-07-23 18:11:05,189 | fed_df.py:194 | Number of selected crops : 15706
DEBUG flwr 2023-07-23 18:11:09,332 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=183959)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=183960)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=183951)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=183964)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:12:30,824 | server.py:229 | fit_round 25 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=183962)[0m malloc_consolidate(): invalid chunk size
[W] [18:11:05.414203] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=183951)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=183959)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=183960)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=183963)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=183964)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=183962)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=184096)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=184095)[0m Fitting Client 13
Warm start at round 25
Performing server side distillation training...
[2m[36m(launch_and_fit pid=183963)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=184096)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=184095)[0m double free or corruption (fasttop)
E0723 18:12:33.645553441  381504 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.025220088915899396, val accuracy : 0.71276, best val accuracy : 0.7268
Average local training loss : 3.766621123813093
Average local training accuracy : 0.9075527777777777
INFO flwr 2023-07-23 18:13:28,402 | server.py:116 | fit progress: (25, 1.1490375762939453, {'server_test_acc': 0.7254}, 3772.4299512240104)
INFO flwr 2023-07-23 18:13:28,402 | server.py:163 | evaluate_round 25: no clients selected, cancel
Cluster score for round 26 = 6507.287109375
INFO flwr 2023-07-23 18:13:37,207 | fed_df.py:194 | Number of selected crops : 15621
DEBUG flwr 2023-07-23 18:13:41,013 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=487572)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=487576)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=487674)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=487683)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:15:03,687 | server.py:229 | fit_round 26 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=487682)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=487669)[0m double free or corruption (fasttop)
[W] [18:13:37.375589] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=487572)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=487576)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=487669)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=487674)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=487673)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=487682)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=487683)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=487684)[0m Fitting Client 19
Performing server side distillation training...
[2m[36m(launch_and_fit pid=487684)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=487673)[0m malloc_consolidate(): invalid chunk size
E0723 18:15:07.125915795  383251 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.01009004000108689, val accuracy : 0.73918, best val accuracy : 0.7458
Average local training loss : 3.6630958728492264
Average local training accuracy : 0.9168777777777778
INFO flwr 2023-07-23 18:16:01,129 | server.py:116 | fit progress: (26, 1.0033946228027344, {'server_test_acc': 0.7381}, 3925.156741251005)
INFO flwr 2023-07-23 18:16:01,129 | server.py:163 | evaluate_round 26: no clients selected, cancel
Cluster score for round 27 = 11718.4326171875
INFO flwr 2023-07-23 18:16:09,575 | fed_df.py:194 | Number of selected crops : 15501
DEBUG flwr 2023-07-23 18:16:13,454 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=749035)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=749233)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=749152)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=749437)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:17:37,357 | server.py:229 | fit_round 27 received 8 results and 0 failures
[W] [18:16:09.736870] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=749035)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=749152)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=749233)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=749332)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=749436)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=749437)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=749151)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=749232)[0m Fitting Client 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=749232)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=749332)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=749151)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=749436)[0m double free or corruption (fasttop)
E0723 18:17:42.467701862  933470 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.009352161078713834, val accuracy : 0.7489600000000001, best val accuracy : 0.7518
Average local training loss : 3.685970088094473
Average local training accuracy : 0.9147944444444444
INFO flwr 2023-07-23 18:18:35,075 | server.py:116 | fit progress: (27, 0.9787832092285156, {'server_test_acc': 0.7486}, 4079.1028210630175)
INFO flwr 2023-07-23 18:18:35,075 | server.py:163 | evaluate_round 27: no clients selected, cancel
Cluster score for round 28 = 12213.0458984375
INFO flwr 2023-07-23 18:18:43,937 | fed_df.py:194 | Number of selected crops : 15062
DEBUG flwr 2023-07-23 18:18:47,811 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1010331)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1010434)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1010608)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1010538)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:20:09,096 | server.py:229 | fit_round 28 received 8 results and 0 failures
[W] [18:18:44.095510] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1010331)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1010434)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1010470)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1010608)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1010538)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1010606)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1010400)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1010607)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1010470)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1010606)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1010607)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1010400)[0m malloc_consolidate(): invalid chunk size
E0723 18:20:11.866726636  935208 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.007096695764921605, val accuracy : 0.7526999999999999, best val accuracy : 0.7586
Average local training loss : 3.691427195072174
Average local training accuracy : 0.9153749999999999
INFO flwr 2023-07-23 18:21:08,512 | server.py:116 | fit progress: (28, 0.9481624755859375, {'server_test_acc': 0.7512}, 4232.539631500025)
INFO flwr 2023-07-23 18:21:08,512 | server.py:163 | evaluate_round 28: no clients selected, cancel
Cluster score for round 29 = 14417.16015625
INFO flwr 2023-07-23 18:21:17,169 | fed_df.py:194 | Number of selected crops : 15146
DEBUG flwr 2023-07-23 18:21:21,044 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1267988)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1268192)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:22:40,719 | server.py:229 | fit_round 29 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1268261)[0m malloc_consolidate(): invalid chunk size
[W] [18:21:17.355082] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1267988)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1268192)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1268261)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1268260)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1268331)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1268330)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1268334)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1268400)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1268330)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1268334)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1268400)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1268260)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1268331)[0m malloc_consolidate(): invalid chunk size
E0723 18:22:43.921574020 1431628 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.00610417197830975, val accuracy : 0.7506, best val accuracy : 0.7556
Average local training loss : 3.7020235126838092
Average local training accuracy : 0.9133513888888889
INFO flwr 2023-07-23 18:23:40,391 | server.py:116 | fit progress: (29, 0.9539323577880859, {'server_test_acc': 0.7474}, 4384.4191929640365)
INFO flwr 2023-07-23 18:23:40,391 | server.py:163 | evaluate_round 29: no clients selected, cancel
Cluster score for round 30 = 15030.583984375
INFO flwr 2023-07-23 18:23:48,975 | fed_df.py:194 | Number of selected crops : 15212
DEBUG flwr 2023-07-23 18:23:52,695 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-23 18:25:13,040 | server.py:229 | fit_round 30 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1524965)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1525093)[0m malloc_consolidate(): invalid chunk size
[W] [18:23:49.131015] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1524965)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1525092)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1525091)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1525093)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1525094)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1525090)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1525095)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1525096)[0m Fitting Client 9
Warm start at round 30
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1525094)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1525092)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1525091)[0m double free or corruption (fasttop)
E0723 18:25:14.608587724 1434393 chttp2_transport.cc:1079]             ipv4:145.136.62.6:52351: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1525090)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1525095)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1525096)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.02428679377865046, val accuracy : 0.73706, best val accuracy : 0.7498
Average local training loss : 3.5961485344916584
Average local training accuracy : 0.9216652777777777
INFO flwr 2023-07-23 18:26:11,538 | server.py:116 | fit progress: (30, 1.1223149383544921, {'server_test_acc': 0.7459}, 4535.566110471031)
INFO flwr 2023-07-23 18:26:11,538 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-07-23 18:26:11,538 | server.py:144 | FL finished in 4535.566519567044
INFO flwr 2023-07-23 18:26:11,539 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-07-23 18:26:11,540 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-07-23 18:26:11,540 | app.py:204 | app_fit: losses_centralized [(0, 2.3234217651367186), (1, 1.7561912841796874), (2, 1.4391626708984375), (3, 1.3830535522460938), (4, 1.360243621826172), (5, 1.223815280151367), (6, 1.2840631896972656), (7, 1.3016985412597657), (8, 1.2332732147216796), (9, 1.2213829833984375), (10, 1.2401453216552734), (11, 1.1499429077148438), (12, 1.162642709350586), (13, 1.1292468872070311), (14, 1.1288559417724608), (15, 1.147169140625), (16, 1.0992056854248047), (17, 1.1615812042236329), (18, 1.0468028198242187), (19, 1.0220030548095702), (20, 1.169440426635742), (21, 1.0931578643798827), (22, 1.0782531677246094), (23, 1.0172897338867188), (24, 0.9728001556396484), (25, 1.1490375762939453), (26, 1.0033946228027344), (27, 0.9787832092285156), (28, 0.9481624755859375), (29, 0.9539323577880859), (30, 1.1223149383544921)]
INFO flwr 2023-07-23 18:26:11,540 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.108), (1, 0.4557), (2, 0.5216), (3, 0.5612), (4, 0.5652), (5, 0.6306), (6, 0.6383), (7, 0.6249), (8, 0.664), (9, 0.6707), (10, 0.6743), (11, 0.6982), (12, 0.6882), (13, 0.6953), (14, 0.6922), (15, 0.7088), (16, 0.7109), (17, 0.6794), (18, 0.7243), (19, 0.7294), (20, 0.7246), (21, 0.7317), (22, 0.7112), (23, 0.7321), (24, 0.7422), (25, 0.7254), (26, 0.7381), (27, 0.7486), (28, 0.7512), (29, 0.7474), (30, 0.7459)]}
double free or corruption (fasttop)
srun: error: gcn6: task 0: Aborted
srun: Terminating StepId=3126856.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3126856
Cluster: snellius
User/Group: sunnys/sunnys
State: COMPLETED (exit code 0)
Nodes: 1
Cores per node: 18
CPU Utilized: 02:35:42
CPU Efficiency: 10.97% of 23:39:36 core-walltime
Job Wall-clock time: 01:18:52
Memory Utilized: 75.79 GB
Memory Efficiency: 63.15% of 120.00 GB
