-----BEGIN-----
-----SETTINGS-----
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:cifar10
PARTITION_ALPHA:10.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:40
LOCAL_LR:0.05
DISTILL_BATCH_SIZE:512
SERVER_LR:0.005
SERVER_STEPS:500
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
SEED:42
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:ameyoko.jpg
DISTILL_DATASET:cifar100
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:20000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:5
KMEANS_N_CLUSTER:20
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
CONFIDENCE_THRESHOLD:0.9
CLIPPING_FACTOR:2.5
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=100000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/ameyoko.jpg', targetpath='/scratch-local/sunnys.3126857/1690124928_479511191', seed=42, img_per_thread=5555)
will save 100000 patches in /scratch-local/sunnys.3126857/1690124928_479511191/single_img_crops/crops
100000 took 0.61min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-07-23 17:09:42,287 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-07-23 17:09:42,287 | simulate.py:55 | Reading args from argument parser
Downloading https://www.cs.toronto.edu/~kriz/cifar-10-python.tar.gz to /scratch-local/sunnys.3126857/1690124928_479511191/cifar-10-python.tar.gz
Extracting /scratch-local/sunnys.3126857/1690124928_479511191/cifar-10-python.tar.gz to /scratch-local/sunnys.3126857/1690124928_479511191
Generating unified cifar10 dataset
Class histogram for 0-th partition (alpha=10.0, 10 classes): [259 271 116 269 240 311 223 239 284 288]
INFO flwr 2023-07-23 17:10:09,328 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-07-23 17:10:12,153	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8265 [39m[22m
INFO flwr 2023-07-23 17:10:13,193 | app.py:179 | Flower VCE: Ray initialized with resources: {'node:145.136.62.7': 1.0, 'accelerator_type:A100': 1.0, 'CPU': 18.0, 'GPU': 1.0, 'memory': 103079215104.0, 'object_store_memory': 61847529062.0}
INFO flwr 2023-07-23 17:10:13,194 | server.py:86 | Initializing global parameters
INFO flwr 2023-07-23 17:10:13,194 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-07-23 17:10:13,194 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-07-23 17:10:22,088 | server.py:91 | initial parameters (loss, other metrics): 2.3234217651367186, {'server_test_acc': 0.108}
INFO flwr 2023-07-23 17:10:22,088 | server.py:101 | FL starting
Cluster score for round 1 = 29085.0703125
INFO flwr 2023-07-23 17:10:29,490 | fed_df.py:194 | Number of selected crops : 20000
DEBUG flwr 2023-07-23 17:10:34,048 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1146621)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:11:56,136 | server.py:229 | fit_round 1 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1146620)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1146619)[0m double free or corruption (fasttop)
[W] [17:10:29.702545] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1146608)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1146610)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1146609)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1146618)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1146617)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1146619)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1146620)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1146621)[0m Fitting Client 2
Warm start at round 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1146617)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1146610)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1146618)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1146608)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1146609)[0m malloc_consolidate(): invalid chunk size
E0723 17:11:57.917479211 1143620 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.34540699112415313, val accuracy : 0.39654, best val accuracy : 0.43
Average local training loss : 8.625394009426238
Average local training accuracy : 0.40455138888888886
INFO flwr 2023-07-23 17:12:42,174 | server.py:116 | fit progress: (1, 2.0242917541503904, {'server_test_acc': 0.4321}, 140.08533621701645)
INFO flwr 2023-07-23 17:12:42,174 | server.py:163 | evaluate_round 1: no clients selected, cancel
Cluster score for round 2 = 195653.34375
INFO flwr 2023-07-23 17:12:50,142 | fed_df.py:194 | Number of selected crops : 12829
DEBUG flwr 2023-07-23 17:12:53,462 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1271443)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:14:12,872 | server.py:229 | fit_round 2 received 8 results and 0 failures
[W] [17:12:50.285859] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1271443)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1271444)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1271447)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1271448)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1271445)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1271446)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1271449)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1271450)[0m Fitting Client 19
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1271445)[0m double free or corruption (fasttop)
E0723 17:14:13.688273881 1238905 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
[2m[36m(launch_and_fit pid=1271449)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1271446)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1271448)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1271447)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1271450)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1271444)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.07215234604477883, val accuracy : 0.45362, best val accuracy : 0.4878
Average local training loss : 6.67822973113507
Average local training accuracy : 0.6019263888888889
INFO flwr 2023-07-23 17:15:09,338 | server.py:116 | fit progress: (2, 1.6712216674804687, {'server_test_acc': 0.5006}, 287.24978270201245)
INFO flwr 2023-07-23 17:15:09,338 | server.py:163 | evaluate_round 2: no clients selected, cancel
Cluster score for round 3 = 180184.96875
INFO flwr 2023-07-23 17:15:17,431 | fed_df.py:194 | Number of selected crops : 15426
DEBUG flwr 2023-07-23 17:15:21,171 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1404789)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1404799)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1404792)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:16:39,644 | server.py:229 | fit_round 3 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1404794)[0m malloc_consolidate(): invalid chunk size
[W] [17:15:17.594574] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1404789)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1404792)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1404795)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1404794)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1404799)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1404798)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1404796)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1404797)[0m Fitting Client 3
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1404795)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1404797)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1404798)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1404796)[0m malloc_consolidate(): invalid chunk size
E0723 17:16:44.540421997 1362749 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.06922835763543844, val accuracy : 0.49878, best val accuracy : 0.5214
Average local training loss : 6.451643038168549
Average local training accuracy : 0.6309222222222222
INFO flwr 2023-07-23 17:17:32,226 | server.py:116 | fit progress: (3, 1.4522567718505859, {'server_test_acc': 0.5261}, 430.13778295501834)
INFO flwr 2023-07-23 17:17:32,226 | server.py:163 | evaluate_round 3: no clients selected, cancel
Cluster score for round 4 = 134338.734375
INFO flwr 2023-07-23 17:17:40,490 | fed_df.py:194 | Number of selected crops : 15665
DEBUG flwr 2023-07-23 17:17:44,592 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1534396)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:19:03,463 | server.py:229 | fit_round 4 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1534573)[0m malloc_consolidate(): invalid chunk size
[W] [17:17:40.652916] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1534387)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1534426)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1534396)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1534573)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1534528)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1534575)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1534425)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1534574)[0m Fitting Client 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1534575)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1534387)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1534528)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1534426)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1534425)[0m malloc_consolidate(): invalid chunk size
E0723 17:19:05.204430508 1498426 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
[2m[36m(launch_and_fit pid=1534574)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.042317146223038435, val accuracy : 0.54504, best val accuracy : 0.561
Average local training loss : 6.2826654536649595
Average local training accuracy : 0.6474083333333334
INFO flwr 2023-07-23 17:19:57,217 | server.py:116 | fit progress: (4, 1.4001739837646485, {'server_test_acc': 0.5643}, 575.1281169879949)
INFO flwr 2023-07-23 17:19:57,217 | server.py:163 | evaluate_round 4: no clients selected, cancel
Cluster score for round 5 = 111107.6953125
INFO flwr 2023-07-23 17:20:05,351 | fed_df.py:194 | Number of selected crops : 16849
DEBUG flwr 2023-07-23 17:20:09,326 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1665633)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1665634)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:21:28,934 | server.py:229 | fit_round 5 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1665625)[0m malloc_consolidate(): invalid chunk size
[W] [17:20:05.532905] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1665625)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1665627)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1665628)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1665633)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1665635)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1665634)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1665636)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1665637)[0m Fitting Client 17
Warm start at round 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1665636)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1665637)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1665628)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1665627)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1665635)[0m double free or corruption (fasttop)
E0723 17:21:30.669796729 1627502 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.04172175917029381, val accuracy : 0.60262, best val accuracy : 0.6212
Average local training loss : 6.040052169188857
Average local training accuracy : 0.6734819444444445
INFO flwr 2023-07-23 17:22:24,701 | server.py:116 | fit progress: (5, 1.2979269927978516, {'server_test_acc': 0.6171}, 722.6130506840418)
INFO flwr 2023-07-23 17:22:24,702 | server.py:163 | evaluate_round 5: no clients selected, cancel
Cluster score for round 6 = 40799.03125
INFO flwr 2023-07-23 17:22:32,876 | fed_df.py:194 | Number of selected crops : 16757
DEBUG flwr 2023-07-23 17:22:36,834 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1793131)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:23:55,114 | server.py:229 | fit_round 6 received 8 results and 0 failures
[W] [17:22:33.059409] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1793131)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1793133)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1793144)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1793129)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1793135)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1793145)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1793147)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1793146)[0m Fitting Client 9
Performing server side distillation training...
E0723 17:23:56.096255066 1756784 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
[2m[36m(launch_and_fit pid=1793147)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1793135)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1793144)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1793146)[0m malloc_consolidate(): invalid chunk size
E0723 17:23:56.738174914 1883804 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
[2m[36m(launch_and_fit pid=1793133)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1793145)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.009720933546312153, val accuracy : 0.6117, best val accuracy : 0.6266
Average local training loss : 4.806389907561243
Average local training accuracy : 0.8037208333333333
INFO flwr 2023-07-23 17:24:46,061 | server.py:116 | fit progress: (6, 1.3259519073486328, {'server_test_acc': 0.6194}, 863.972733595001)
INFO flwr 2023-07-23 17:24:46,061 | server.py:163 | evaluate_round 6: no clients selected, cancel
Cluster score for round 7 = 28470.111328125
INFO flwr 2023-07-23 17:24:54,333 | fed_df.py:194 | Number of selected crops : 17740
DEBUG flwr 2023-07-23 17:24:58,532 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1920925)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:26:17,349 | server.py:229 | fit_round 7 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1920932)[0m malloc_consolidate(): invalid chunk size
[W] [17:24:54.536534] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=1920925)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1920930)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1920931)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1920929)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1920932)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1920933)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1920935)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1920934)[0m Fitting Client 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1920935)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1920933)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1920934)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1920931)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1920929)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1920930)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.011758434819057584, val accuracy : 0.63662, best val accuracy : 0.6446
Average local training loss : 4.842905156686901
Average local training accuracy : 0.8002208333333334
INFO flwr 2023-07-23 17:27:09,497 | server.py:116 | fit progress: (7, 1.268458026123047, {'server_test_acc': 0.6361}, 1007.4089210540405)
INFO flwr 2023-07-23 17:27:09,498 | server.py:163 | evaluate_round 7: no clients selected, cancel
Cluster score for round 8 = 27364.6015625
INFO flwr 2023-07-23 17:27:17,743 | fed_df.py:194 | Number of selected crops : 18352
DEBUG flwr 2023-07-23 17:27:22,002 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2046958)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2046953)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2046959)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2046957)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:28:42,149 | server.py:229 | fit_round 8 received 8 results and 0 failures
[W] [17:27:17.940269] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2046953)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2046955)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2046954)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2046956)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2046957)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2046958)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2046960)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2046959)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2046960)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2046954)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2046955)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2046956)[0m corrupted size vs. prev_size in fastbins
E0723 17:28:45.146464909 2011559 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.0122884276015684, val accuracy : 0.64434, best val accuracy : 0.6518
Average local training loss : 4.904969301447273
Average local training accuracy : 0.795923611111111
INFO flwr 2023-07-23 17:29:33,022 | server.py:116 | fit progress: (8, 1.3026307220458984, {'server_test_acc': 0.6388}, 1150.9339049750124)
INFO flwr 2023-07-23 17:29:33,023 | server.py:163 | evaluate_round 8: no clients selected, cancel
Cluster score for round 9 = 29497.890625
INFO flwr 2023-07-23 17:29:41,180 | fed_df.py:194 | Number of selected crops : 18185
DEBUG flwr 2023-07-23 17:29:45,512 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2171909)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:31:04,108 | server.py:229 | fit_round 9 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2171914)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2171912)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2171910)[0m malloc_consolidate(): invalid chunk size
[W] [17:29:41.373741] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2171909)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2171912)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2171914)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2171910)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2171918)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2171915)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2171916)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2171917)[0m Fitting Client 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2171917)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2171918)[0m malloc_consolidate(): invalid chunk size
E0723 17:31:05.324729601 2138923 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
[2m[36m(launch_and_fit pid=2171915)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2171916)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.00770180818811059, val accuracy : 0.6493399999999999, best val accuracy : 0.661
Average local training loss : 4.804000655002891
Average local training accuracy : 0.8049458333333332
INFO flwr 2023-07-23 17:31:54,890 | server.py:116 | fit progress: (9, 1.251755047607422, {'server_test_acc': 0.6555}, 1292.8020417880034)
INFO flwr 2023-07-23 17:31:54,891 | server.py:163 | evaluate_round 9: no clients selected, cancel
Cluster score for round 10 = 28430.794921875
INFO flwr 2023-07-23 17:32:03,440 | fed_df.py:194 | Number of selected crops : 18888
DEBUG flwr 2023-07-23 17:32:07,864 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2296849)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2296852)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:33:26,620 | server.py:229 | fit_round 10 received 8 results and 0 failures
[W] [17:32:03.657609] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2296849)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2296852)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2296854)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2296853)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2296855)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2296856)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2296858)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2296857)[0m Fitting Client 7
Warm start at round 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2296855)[0m malloc_consolidate(): invalid chunk size
E0723 17:33:27.744618510 2262744 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
[2m[36m(launch_and_fit pid=2296854)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2296857)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2296853)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2296858)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2296856)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.0247308812700212, val accuracy : 0.6763999999999999, best val accuracy : 0.6834
Average local training loss : 4.786906740255654
Average local training accuracy : 0.8073291666666667
INFO flwr 2023-07-23 17:34:17,528 | server.py:116 | fit progress: (10, 1.3112548278808593, {'server_test_acc': 0.6772}, 1435.4397703960421)
INFO flwr 2023-07-23 17:34:17,528 | server.py:163 | evaluate_round 10: no clients selected, cancel
Cluster score for round 11 = 8771.01953125
INFO flwr 2023-07-23 17:34:25,865 | fed_df.py:194 | Number of selected crops : 18400
DEBUG flwr 2023-07-23 17:34:30,115 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2421853)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2421858)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:35:48,656 | server.py:229 | fit_round 11 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2421859)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2421855)[0m double free or corruption (fasttop)
[W] [17:34:26.065847] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2421853)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2421855)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2421857)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2421856)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2421858)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2421859)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2421860)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2421861)[0m Fitting Client 4
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2421861)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2421856)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2421860)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2421857)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.01558993048965931, val accuracy : 0.69654, best val accuracy : 0.7052
Average local training loss : 4.264994841814041
Average local training accuracy : 0.8619041666666666
INFO flwr 2023-07-23 17:36:39,574 | server.py:116 | fit progress: (11, 1.2253988616943359, {'server_test_acc': 0.6919}, 1577.4850807299954)
INFO flwr 2023-07-23 17:36:39,574 | server.py:163 | evaluate_round 11: no clients selected, cancel
Cluster score for round 12 = 9478.5703125
INFO flwr 2023-07-23 17:36:47,805 | fed_df.py:194 | Number of selected crops : 17662
DEBUG flwr 2023-07-23 17:36:51,954 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2546917)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2546930)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:38:10,594 | server.py:229 | fit_round 12 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2546920)[0m double free or corruption (fasttop)
[W] [17:36:47.988632] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2546917)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2546920)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2546919)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2546930)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2546929)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2546931)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2546932)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2546933)[0m Fitting Client 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2546919)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2546931)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2546932)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2546933)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2546929)[0m malloc_consolidate(): invalid chunk size
E0723 17:38:15.486885535 2387449 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.006659127032384277, val accuracy : 0.68658, best val accuracy : 0.6932
Average local training loss : 4.353269696421922
Average local training accuracy : 0.8540902777777778
INFO flwr 2023-07-23 17:39:03,080 | server.py:116 | fit progress: (12, 1.2126952392578125, {'server_test_acc': 0.6941}, 1720.9916262390325)
INFO flwr 2023-07-23 17:39:03,080 | server.py:163 | evaluate_round 12: no clients selected, cancel
Cluster score for round 13 = 10556.0751953125
INFO flwr 2023-07-23 17:39:11,364 | fed_df.py:194 | Number of selected crops : 18617
DEBUG flwr 2023-07-23 17:39:15,752 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2673197)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2673199)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:40:34,916 | server.py:229 | fit_round 13 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2673208)[0m malloc_consolidate(): invalid chunk size
[W] [17:39:11.568212] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2673197)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2673199)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2673203)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2673204)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2673205)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2673207)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2673206)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2673208)[0m Fitting Client 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2673203)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2673206)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2673207)[0m double free or corruption (fasttop)
E0723 17:40:36.008245473 2640076 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
[2m[36m(launch_and_fit pid=2673205)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2673204)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.014366859388537705, val accuracy : 0.68198, best val accuracy : 0.6862
Average local training loss : 4.189975489489734
Average local training accuracy : 0.8669277777777779
INFO flwr 2023-07-23 17:41:25,539 | server.py:116 | fit progress: (13, 1.1964828735351563, {'server_test_acc': 0.6819}, 1863.4503578530275)
INFO flwr 2023-07-23 17:41:25,539 | server.py:163 | evaluate_round 13: no clients selected, cancel
Cluster score for round 14 = 12185.9951171875
INFO flwr 2023-07-23 17:41:33,860 | fed_df.py:194 | Number of selected crops : 18041
DEBUG flwr 2023-07-23 17:41:38,106 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2798204)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2798205)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:42:57,059 | server.py:229 | fit_round 14 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2798203)[0m double free or corruption (fasttop)
[W] [17:41:34.057264] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2798205)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2798204)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2798203)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2798202)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2798214)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2798217)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2798215)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2798216)[0m Fitting Client 11
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2798202)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2798217)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2798216)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2798215)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2798214)[0m malloc_consolidate(): invalid chunk size
E0723 17:43:00.057878766 2890098 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.0069033528752624985, val accuracy : 0.6990999999999999, best val accuracy : 0.7092
Average local training loss : 4.183468232490122
Average local training accuracy : 0.868663888888889
INFO flwr 2023-07-23 17:43:47,775 | server.py:116 | fit progress: (14, 1.131282080078125, {'server_test_acc': 0.7}, 2005.6865167370415)
INFO flwr 2023-07-23 17:43:47,775 | server.py:163 | evaluate_round 14: no clients selected, cancel
Cluster score for round 15 = 12403.9267578125
INFO flwr 2023-07-23 17:43:56,110 | fed_df.py:194 | Number of selected crops : 18714
DEBUG flwr 2023-07-23 17:44:00,531 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2923466)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2923464)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2923465)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:45:19,857 | server.py:229 | fit_round 15 received 8 results and 0 failures
[W] [17:43:56.319218] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=2923464)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2923466)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2923465)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2923467)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2923472)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2923475)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2923473)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2923471)[0m Fitting Client 15
Warm start at round 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2923473)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2923475)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2923467)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2923471)[0m malloc_consolidate(): invalid chunk size
E0723 17:45:21.479390736 2890636 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
[2m[36m(launch_and_fit pid=2923472)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.03089842346869409, val accuracy : 0.7049, best val accuracy : 0.7112
Average local training loss : 4.096075084805489
Average local training accuracy : 0.8752958333333334
INFO flwr 2023-07-23 17:46:11,068 | server.py:116 | fit progress: (15, 1.2689857421875, {'server_test_acc': 0.7051}, 2148.9797688780236)
INFO flwr 2023-07-23 17:46:11,068 | server.py:163 | evaluate_round 15: no clients selected, cancel
Cluster score for round 16 = 7148.8291015625
INFO flwr 2023-07-23 17:46:19,476 | fed_df.py:194 | Number of selected crops : 17907
DEBUG flwr 2023-07-23 17:46:23,695 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3048346)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3048351)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:47:42,246 | server.py:229 | fit_round 16 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3048353)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3048348)[0m double free or corruption (fasttop)
[W] [17:46:19.675803] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3048346)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3048348)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3048349)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3048351)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3048353)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3048354)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3048355)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3048356)[0m Fitting Client 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3048354)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3048349)[0m double free or corruption (fasttop)
E0723 17:47:43.281543566 3014375 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
[2m[36m(launch_and_fit pid=3048356)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3048355)[0m malloc_consolidate(): invalid chunk size
E0723 17:47:58.023477010 3139188 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.00899589866027236, val accuracy : 0.6932600000000001, best val accuracy : 0.7042
Average local training loss : 3.834009504877031
Average local training accuracy : 0.9028638888888889
INFO flwr 2023-07-23 17:48:35,222 | server.py:116 | fit progress: (16, 1.1975303588867188, {'server_test_acc': 0.7022}, 2293.133995581011)
INFO flwr 2023-07-23 17:48:35,223 | server.py:163 | evaluate_round 16: no clients selected, cancel
Cluster score for round 17 = 9192.6328125
INFO flwr 2023-07-23 17:48:43,549 | fed_df.py:194 | Number of selected crops : 18179
DEBUG flwr 2023-07-23 17:48:47,920 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3174699)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3174697)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:50:07,234 | server.py:229 | fit_round 17 received 8 results and 0 failures
[W] [17:48:43.739825] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3174698)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3174696)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3174699)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3174697)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3174700)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3174701)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3174702)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3174703)[0m Fitting Client 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3174698)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3174701)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3174696)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3174702)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3174700)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3174703)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.010960183972492814, val accuracy : 0.7118599999999999, best val accuracy : 0.721
Average local training loss : 3.9614376129582523
Average local training accuracy : 0.8917055555555556
INFO flwr 2023-07-23 17:50:58,717 | server.py:116 | fit progress: (17, 1.132713754272461, {'server_test_acc': 0.7182}, 2436.629025400034)
INFO flwr 2023-07-23 17:50:58,718 | server.py:163 | evaluate_round 17: no clients selected, cancel
Cluster score for round 18 = 10890.3203125
INFO flwr 2023-07-23 17:51:07,224 | fed_df.py:194 | Number of selected crops : 17358
DEBUG flwr 2023-07-23 17:51:11,414 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3299821)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3299825)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:52:29,784 | server.py:229 | fit_round 18 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3299830)[0m malloc_consolidate(): invalid chunk size
[W] [17:51:07.417451] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3299821)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3299827)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3299828)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3299829)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3299825)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3299830)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3299831)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3299826)[0m Fitting Client 0
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3299828)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3299827)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3299829)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3299826)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3299831)[0m double free or corruption (fasttop)
E0723 17:52:36.857074598 3149088 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.009029126913286745, val accuracy : 0.73038, best val accuracy : 0.7352
Average local training loss : 3.9071878783404825
Average local training accuracy : 0.8964472222222222
INFO flwr 2023-07-23 17:53:22,682 | server.py:116 | fit progress: (18, 1.1035492370605469, {'server_test_acc': 0.7276}, 2580.5936565680313)
INFO flwr 2023-07-23 17:53:22,682 | server.py:163 | evaluate_round 18: no clients selected, cancel
Cluster score for round 19 = 11957.091796875
INFO flwr 2023-07-23 17:53:31,125 | fed_df.py:194 | Number of selected crops : 17280
DEBUG flwr 2023-07-23 17:53:35,198 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3426017)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:54:53,492 | server.py:229 | fit_round 19 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3426022)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3426025)[0m malloc_consolidate(): invalid chunk size
[W] [17:53:31.320359] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3426017)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3426019)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3426022)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3426021)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3426020)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3426023)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3426024)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3426025)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3426020)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3426019)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3426021)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3426024)[0m malloc_consolidate(): invalid chunk size
E0723 17:54:55.222857383 3516942 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3426023)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.006652042179834098, val accuracy : 0.73394, best val accuracy : 0.7374
Average local training loss : 3.931862367875874
Average local training accuracy : 0.8939166666666666
INFO flwr 2023-07-23 17:55:46,983 | server.py:116 | fit progress: (19, 1.0729486145019531, {'server_test_acc': 0.7324}, 2724.8949551419937)
INFO flwr 2023-07-23 17:55:46,984 | server.py:163 | evaluate_round 19: no clients selected, cancel
Cluster score for round 20 = 12843.513671875
INFO flwr 2023-07-23 17:55:55,317 | fed_df.py:194 | Number of selected crops : 17951
DEBUG flwr 2023-07-23 17:55:59,582 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3552353)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3552357)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:57:18,628 | server.py:229 | fit_round 20 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3552358)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3552359)[0m double free or corruption (fasttop)
[W] [17:55:55.530096] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3552353)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3552357)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3552358)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3552356)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3552360)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3552362)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3552359)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3552361)[0m Fitting Client 12
Warm start at round 20
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3552356)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3552362)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3552361)[0m double free or corruption (fasttop)
E0723 17:57:19.653861155 3517223 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3552360)[0m malloc_consolidate(): invalid chunk size
E0723 17:57:24.489184790 3642821 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.03179207811132073, val accuracy : 0.7369399999999999, best val accuracy : 0.7476
Average local training loss : 3.9969348933547737
Average local training accuracy : 0.8884958333333333
INFO flwr 2023-07-23 17:58:10,261 | server.py:116 | fit progress: (20, 1.0894161071777344, {'server_test_acc': 0.7461}, 2868.1723972799955)
INFO flwr 2023-07-23 17:58:10,261 | server.py:163 | evaluate_round 20: no clients selected, cancel
Cluster score for round 21 = 8478.130859375
INFO flwr 2023-07-23 17:58:18,503 | fed_df.py:194 | Number of selected crops : 17279
DEBUG flwr 2023-07-23 17:58:22,584 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3677333)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:59:41,357 | server.py:229 | fit_round 21 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3677337)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3677345)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3677348)[0m double free or corruption (fasttop)
[W] [17:58:18.687781] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3677333)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3677337)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3677336)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3677343)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3677345)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3677346)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3677347)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3677348)[0m Fitting Client 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3677336)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3677343)[0m malloc_consolidate(): invalid chunk size
E0723 17:59:42.737000489 3768119 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3677346)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3677347)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.011123981173150242, val accuracy : 0.73608, best val accuracy : 0.7418
Average local training loss : 3.6709287507459525
Average local training accuracy : 0.9170291666666667
INFO flwr 2023-07-23 18:00:35,227 | server.py:116 | fit progress: (21, 1.0337606811523437, {'server_test_acc': 0.7394}, 3013.138997261005)
INFO flwr 2023-07-23 18:00:35,228 | server.py:163 | evaluate_round 21: no clients selected, cancel
Cluster score for round 22 = 11877.810546875
INFO flwr 2023-07-23 18:00:43,501 | fed_df.py:194 | Number of selected crops : 16696
DEBUG flwr 2023-07-23 18:00:47,461 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3803536)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3803541)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3803542)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3803537)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 18:02:07,039 | server.py:229 | fit_round 22 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3803540)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3803539)[0m malloc_consolidate(): invalid chunk size
[W] [18:00:43.686492] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3803536)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3803535)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3803539)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3803537)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3803540)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3803541)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3803542)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3803538)[0m Fitting Client 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3803535)[0m malloc_consolidate(): invalid chunk size
E0723 18:02:08.578309455 3894337 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3803538)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.0071047097300179305, val accuracy : 0.75306, best val accuracy : 0.7554
Average local training loss : 3.8013448214158414
Average local training accuracy : 0.9069861111111112
INFO flwr 2023-07-23 18:02:59,557 | server.py:116 | fit progress: (22, 1.0036446716308594, {'server_test_acc': 0.7557}, 3157.4688473460265)
INFO flwr 2023-07-23 18:02:59,558 | server.py:163 | evaluate_round 22: no clients selected, cancel
Cluster score for round 23 = 13246.171875
INFO flwr 2023-07-23 18:03:08,092 | fed_df.py:194 | Number of selected crops : 16738
DEBUG flwr 2023-07-23 18:03:12,027 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3931225)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 18:04:30,383 | server.py:229 | fit_round 23 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3931229)[0m double free or corruption (fasttop)
[W] [18:03:08.289375] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=3931225)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3931229)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3931231)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3931238)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3931228)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3931230)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3931236)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3931237)[0m Fitting Client 2
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3931228)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3931238)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3931231)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3931237)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3931230)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3931236)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.008625903675332666, val accuracy : 0.7429000000000001, best val accuracy : 0.7522
Average local training loss : 3.829779275879264
Average local training accuracy : 0.9045347222222222
INFO flwr 2023-07-23 18:05:22,486 | server.py:116 | fit progress: (23, 0.9947934356689453, {'server_test_acc': 0.7497}, 3300.397992573038)
INFO flwr 2023-07-23 18:05:22,487 | server.py:163 | evaluate_round 23: no clients selected, cancel
Cluster score for round 24 = 14216.5537109375
INFO flwr 2023-07-23 18:05:30,873 | fed_df.py:194 | Number of selected crops : 17021
DEBUG flwr 2023-07-23 18:05:34,900 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=4058706)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4058704)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:06:54,053 | server.py:229 | fit_round 24 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=4058710)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4058708)[0m malloc_consolidate(): invalid chunk size
[W] [18:05:31.056154] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=4058704)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=4058706)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=4058707)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=4058709)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=4058712)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=4058708)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=4058710)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=4058711)[0m Fitting Client 13
Performing server side distillation training...
[2m[36m(launch_and_fit pid=4058709)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4058711)[0m double free or corruption (fasttop)
E0723 18:06:55.320659482 3894748 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=4058712)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.018088303001597524, val accuracy : 0.73436, best val accuracy : 0.7384
Average local training loss : 3.732178630121052
Average local training accuracy : 0.9115000000000001
INFO flwr 2023-07-23 18:07:47,420 | server.py:116 | fit progress: (24, 1.028023782348633, {'server_test_acc': 0.7322}, 3445.3312910899986)
INFO flwr 2023-07-23 18:07:47,420 | server.py:163 | evaluate_round 24: no clients selected, cancel
Cluster score for round 25 = 14976.3046875
INFO flwr 2023-07-23 18:07:55,744 | fed_df.py:194 | Number of selected crops : 16320
DEBUG flwr 2023-07-23 18:07:59,661 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=4185109)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4185120)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:09:18,660 | server.py:229 | fit_round 25 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=4185113)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4185111)[0m double free or corruption (fasttop)
[W] [18:07:55.924155] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=4185109)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=4185111)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=4185114)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=4185113)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=4185112)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=4185115)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=4185121)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=4185120)[0m Fitting Client 12
Warm start at round 25
Performing server side distillation training...
[2m[36m(launch_and_fit pid=4185121)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4185115)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4185114)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4185112)[0m double free or corruption (fasttop)
E0723 18:09:23.362503699 4149574 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.027381788611412047, val accuracy : 0.73512, best val accuracy : 0.7416
Average local training loss : 3.798930228874087
Average local training accuracy : 0.9050291666666668
INFO flwr 2023-07-23 18:10:11,258 | server.py:116 | fit progress: (25, 1.326153549194336, {'server_test_acc': 0.7319}, 3589.1695021380438)
INFO flwr 2023-07-23 18:10:11,258 | server.py:163 | evaluate_round 25: no clients selected, cancel
Cluster score for round 26 = 1491.6746826171875
INFO flwr 2023-07-23 18:10:20,039 | fed_df.py:194 | Number of selected crops : 19171
DEBUG flwr 2023-07-23 18:10:24,506 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=119895)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=119898)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=119896)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 18:11:44,521 | server.py:229 | fit_round 26 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=119899)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=119897)[0m double free or corruption (fasttop)
[W] [18:10:20.256552] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=119895)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=119898)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=119899)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=119896)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=119897)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=119901)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=119900)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=119902)[0m Fitting Client 18
Performing server side distillation training...
[2m[36m(launch_and_fit pid=119900)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=119902)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=119901)[0m double free or corruption (fasttop)
E0723 18:11:47.832265205   85518 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.020897817490622403, val accuracy : 0.75448, best val accuracy : 0.7606
Average local training loss : 3.6374857023358347
Average local training accuracy : 0.9217236111111111
INFO flwr 2023-07-23 18:12:36,261 | server.py:116 | fit progress: (26, 1.2866445526123047, {'server_test_acc': 0.7579}, 3734.1721449840115)
INFO flwr 2023-07-23 18:12:36,261 | server.py:163 | evaluate_round 26: no clients selected, cancel
Cluster score for round 27 = 1796.3505859375
INFO flwr 2023-07-23 18:12:44,580 | fed_df.py:194 | Number of selected crops : 18320
DEBUG flwr 2023-07-23 18:12:48,916 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=247143)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=247141)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=247138)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 18:14:09,449 | server.py:229 | fit_round 27 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=247140)[0m malloc_consolidate(): invalid chunk size
[W] [18:12:44.779819] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=247138)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=247137)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=247142)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=247140)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=247141)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=247143)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=247145)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=247144)[0m Fitting Client 13
Performing server side distillation training...
[2m[36m(launch_and_fit pid=247142)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=247137)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=247145)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=247144)[0m malloc_consolidate(): invalid chunk size
E0723 18:14:11.522931255  213591 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.014050501195713877, val accuracy : 0.7563399999999999, best val accuracy : 0.7628
Average local training loss : 3.675627472437918
Average local training accuracy : 0.9190527777777777
INFO flwr 2023-07-23 18:15:00,954 | server.py:116 | fit progress: (27, 1.2057779327392577, {'server_test_acc': 0.7518}, 3878.8655277680373)
INFO flwr 2023-07-23 18:15:00,954 | server.py:163 | evaluate_round 27: no clients selected, cancel
Cluster score for round 28 = 2678.43798828125
INFO flwr 2023-07-23 18:15:09,548 | fed_df.py:194 | Number of selected crops : 18230
DEBUG flwr 2023-07-23 18:15:13,920 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=373255)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=373252)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=373253)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 18:16:34,875 | server.py:229 | fit_round 28 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=373246)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=373250)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=373254)[0m malloc_consolidate(): invalid chunk size
[W] [18:15:09.745754] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=373248)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=373246)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=373250)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=373251)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=373252)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=373255)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=373254)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=373253)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=373251)[0m malloc_consolidate(): invalid chunk size
E0723 18:16:36.262295059  464989 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=373248)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.016074715012684464, val accuracy : 0.74526, best val accuracy : 0.7502
Average local training loss : 3.682979344017804
Average local training accuracy : 0.9176125
INFO flwr 2023-07-23 18:17:27,263 | server.py:116 | fit progress: (28, 1.1701677581787109, {'server_test_acc': 0.7436}, 4025.174336377997)
INFO flwr 2023-07-23 18:17:27,263 | server.py:163 | evaluate_round 28: no clients selected, cancel
Cluster score for round 29 = 4002.693359375
INFO flwr 2023-07-23 18:17:35,716 | fed_df.py:194 | Number of selected crops : 17734
DEBUG flwr 2023-07-23 18:17:39,903 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=500417)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:18:59,428 | server.py:229 | fit_round 29 received 8 results and 0 failures
[W] [18:17:35.924326] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=500411)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=500413)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=500416)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=500418)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=500417)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=500420)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=500419)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=500421)[0m Fitting Client 0
Performing server side distillation training...
[2m[36m(launch_and_fit pid=500416)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=500418)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=500419)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=500421)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=500420)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=500411)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=500413)[0m malloc_consolidate(): invalid chunk size
E0723 18:19:02.235574866  465192 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.012528783019632101, val accuracy : 0.7339, best val accuracy : 0.7394
Average local training loss : 3.5968743110075594
Average local training accuracy : 0.9235958333333334
INFO flwr 2023-07-23 18:19:53,248 | server.py:116 | fit progress: (29, 1.1759449188232423, {'server_test_acc': 0.7331}, 4171.159496637003)
INFO flwr 2023-07-23 18:19:53,248 | server.py:163 | evaluate_round 29: no clients selected, cancel
Cluster score for round 30 = 4987.18017578125
INFO flwr 2023-07-23 18:20:02,248 | fed_df.py:194 | Number of selected crops : 17675
DEBUG flwr 2023-07-23 18:20:06,433 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=627290)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=627292)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=627291)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=627295)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=627289)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=627294)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:21:26,617 | server.py:229 | fit_round 30 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=627296)[0m malloc_consolidate(): invalid chunk size
[W] [18:20:02.439561] # of Nearest Neighbors should be at least 3 * perplexity. Your results might be a bit strange...
[2m[36m(launch_and_fit pid=627289)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=627290)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=627292)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=627291)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=627295)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=627296)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=627294)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=627293)[0m Fitting Client 8
Warm start at round 30
Performing server side distillation training...
[2m[36m(launch_and_fit pid=627293)[0m malloc_consolidate(): invalid chunk size
E0723 18:21:29.570721243  718560 chttp2_transport.cc:1079]             ipv4:145.136.62.7:55305: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.02821324558928609, val accuracy : 0.74158, best val accuracy : 0.7552
Average local training loss : 3.614238172210753
Average local training accuracy : 0.9221472222222223
INFO flwr 2023-07-23 18:22:20,494 | server.py:116 | fit progress: (30, 1.1595356353759765, {'server_test_acc': 0.7525}, 4318.405812993005)
INFO flwr 2023-07-23 18:22:20,495 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-07-23 18:22:20,495 | server.py:144 | FL finished in 4318.406232914014
INFO flwr 2023-07-23 18:22:20,495 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-07-23 18:22:20,496 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-07-23 18:22:20,496 | app.py:204 | app_fit: losses_centralized [(0, 2.3234217651367186), (1, 2.0242917541503904), (2, 1.6712216674804687), (3, 1.4522567718505859), (4, 1.4001739837646485), (5, 1.2979269927978516), (6, 1.3259519073486328), (7, 1.268458026123047), (8, 1.3026307220458984), (9, 1.251755047607422), (10, 1.3112548278808593), (11, 1.2253988616943359), (12, 1.2126952392578125), (13, 1.1964828735351563), (14, 1.131282080078125), (15, 1.2689857421875), (16, 1.1975303588867188), (17, 1.132713754272461), (18, 1.1035492370605469), (19, 1.0729486145019531), (20, 1.0894161071777344), (21, 1.0337606811523437), (22, 1.0036446716308594), (23, 0.9947934356689453), (24, 1.028023782348633), (25, 1.326153549194336), (26, 1.2866445526123047), (27, 1.2057779327392577), (28, 1.1701677581787109), (29, 1.1759449188232423), (30, 1.1595356353759765)]
INFO flwr 2023-07-23 18:22:20,496 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.108), (1, 0.4321), (2, 0.5006), (3, 0.5261), (4, 0.5643), (5, 0.6171), (6, 0.6194), (7, 0.6361), (8, 0.6388), (9, 0.6555), (10, 0.6772), (11, 0.6919), (12, 0.6941), (13, 0.6819), (14, 0.7), (15, 0.7051), (16, 0.7022), (17, 0.7182), (18, 0.7276), (19, 0.7324), (20, 0.7461), (21, 0.7394), (22, 0.7557), (23, 0.7497), (24, 0.7322), (25, 0.7319), (26, 0.7579), (27, 0.7518), (28, 0.7436), (29, 0.7331), (30, 0.7525)]}
malloc_consolidate(): invalid chunk size
srun: error: gcn7: task 0: Aborted
srun: Terminating StepId=3126857.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3126857
Cluster: snellius
User/Group: sunnys/sunnys
State: RUNNING
Nodes: 1
Cores per node: 18
CPU Utilized: 02:31:15
CPU Efficiency: 11.27% of 22:22:12 core-walltime
Job Wall-clock time: 01:14:34
Memory Utilized: 75.80 GB
Memory Efficiency: 63.17% of 120.00 GB
WARNING: Efficiency statistics may be misleading for RUNNING jobs.
