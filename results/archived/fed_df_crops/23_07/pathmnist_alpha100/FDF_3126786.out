-----BEGIN-----
-----SETTINGS-----
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:pathmnist
PARTITION_ALPHA:100.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:40
LOCAL_LR:0.05
DISTILL_BATCH_SIZE:512
SERVER_LR:0.005
SERVER_STEPS:500
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
SEED:42
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:colonpath_sample.jpg
DISTILL_DATASET:cifar100
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:10000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:5
KMEANS_N_CLUSTER:20
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
CONFIDENCE_THRESHOLD:0.7
CLIPPING_FACTOR:2.5
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=100000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/colonpath_sample.jpg', targetpath='/scratch-local/sunnys.3126786/1690123564_619812074', seed=42, img_per_thread=5555)
will save 100000 patches in /scratch-local/sunnys.3126786/1690123564_619812074/single_img_crops/crops
100000 took 0.39min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-07-23 16:46:46,982 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-07-23 16:46:46,983 | simulate.py:55 | Reading args from argument parser
Downloading https://zenodo.org/record/6496656/files/pathmnist.npz?download=1 to /scratch-local/sunnys.3126786/1690123564_619812074/pathmnist.npz
Generating unified pathmnist dataset
Class histogram for 0-th partition (alpha=100.0, 9 classes): [481 532 428 497 477 533 503 491 558]
INFO flwr 2023-07-23 16:51:01,953 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-07-23 16:51:04,777	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8265 [39m[22m
INFO flwr 2023-07-23 16:51:05,923 | app.py:179 | Flower VCE: Ray initialized with resources: {'memory': 103079215104.0, 'accelerator_type:A100': 1.0, 'object_store_memory': 61847529062.0, 'node:145.136.62.63': 1.0, 'CPU': 18.0, 'GPU': 1.0}
INFO flwr 2023-07-23 16:51:05,923 | server.py:86 | Initializing global parameters
INFO flwr 2023-07-23 16:51:05,923 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-07-23 16:51:05,923 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-07-23 16:51:14,346 | server.py:91 | initial parameters (loss, other metrics): 2.1845225108367154, {'server_test_acc': 0.11030640668523677}
INFO flwr 2023-07-23 16:51:14,346 | server.py:101 | FL starting
Cluster score for round 1 = 1282.53955078125
INFO flwr 2023-07-23 16:51:21,610 | fed_df.py:194 | Number of selected crops : 10000
DEBUG flwr 2023-07-23 16:51:24,441 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=166409)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 16:52:54,812 | server.py:229 | fit_round 1 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=166404)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=166407)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=166411)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=166408)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=166409)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=166410)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=166405)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=166406)[0m Fitting Client 3
Warm start at round 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=166408)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=166407)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=166404)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=166406)[0m malloc_consolidate(): invalid chunk size
E0723 16:52:56.332410771  163163 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
[2m[36m(launch_and_fit pid=166405)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=166411)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=166410)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.4670875967144966, val accuracy : 0.37425522454424187, best val accuracy : 0.39428634948866165
Average local training loss : 8.629660590179265
Average local training accuracy : 0.6935833333333333
INFO flwr 2023-07-23 16:53:52,236 | server.py:116 | fit progress: (1, 3.415192654537955, {'server_test_acc': 0.2821727019498607}, 157.88993119401857)
INFO flwr 2023-07-23 16:53:52,236 | server.py:163 | evaluate_round 1: no clients selected, cancel
Cluster score for round 2 = 101962.453125
INFO flwr 2023-07-23 16:54:00,037 | fed_df.py:194 | Number of selected crops : 3000
DEBUG flwr 2023-07-23 16:54:01,405 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=307090)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=307089)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 16:55:28,426 | server.py:229 | fit_round 2 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=307081)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=307084)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=307091)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=307089)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=307088)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=307086)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=307090)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=307087)[0m Fitting Client 2
Performing server side distillation training...
[2m[36m(launch_and_fit pid=307087)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=307081)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=307084)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=307086)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=307088)[0m malloc_consolidate(): invalid chunk size
E0723 16:55:30.500430886  399183 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
[2m[36m(launch_and_fit pid=307091)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.20127192321419715, val accuracy : 0.3786238328145842, best val accuracy : 0.4126278345931525
Average local training loss : 6.927805293630809
Average local training accuracy : 0.7970941358024692
INFO flwr 2023-07-23 16:57:47,459 | server.py:116 | fit progress: (2, 3.833848492614406, {'server_test_acc': 0.36002785515320335}, 393.11295528901974)
INFO flwr 2023-07-23 16:57:47,459 | server.py:163 | evaluate_round 2: no clients selected, cancel
Cluster score for round 3 = 160924.03125
INFO flwr 2023-07-23 16:57:55,457 | fed_df.py:194 | Number of selected crops : 3000
DEBUG flwr 2023-07-23 16:57:56,838 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=521733)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=521738)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=521742)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 16:59:23,522 | server.py:229 | fit_round 3 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=521741)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=521733)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=521739)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=521738)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=521735)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=521737)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=521741)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=521742)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=521740)[0m Fitting Client 3
Performing server side distillation training...
E0723 16:59:24.162185555  612638 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
[2m[36m(launch_and_fit pid=521739)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=521735)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=521737)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=521740)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.08540026573091745, val accuracy : 0.33459315251222765, best val accuracy : 0.3731658514895509
Average local training loss : 7.1482019802555445
Average local training accuracy : 0.7843533950617284
INFO flwr 2023-07-23 17:01:43,901 | server.py:116 | fit progress: (3, 2.983025625754864, {'server_test_acc': 0.3593314763231198}, 629.5543982899981)
INFO flwr 2023-07-23 17:01:43,901 | server.py:163 | evaluate_round 3: no clients selected, cancel
Cluster score for round 4 = 258026.90625
INFO flwr 2023-07-23 17:01:51,874 | fed_df.py:194 | Number of selected crops : 4367
DEBUG flwr 2023-07-23 17:01:53,587 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=764169)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=764165)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=764166)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:03:20,897 | server.py:229 | fit_round 4 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=764168)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=764170)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=764171)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=764165)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=764168)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=764169)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=764167)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=764166)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=764164)[0m Fitting Client 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=764171)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=764170)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=764167)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=764164)[0m double free or corruption (fasttop)
E0723 17:03:28.370929454  613111 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.04014036605134606, val accuracy : 0.39014006224988884, best val accuracy : 0.4169630947087595
Average local training loss : 7.064216337166727
Average local training accuracy : 0.7897422839506173
INFO flwr 2023-07-23 17:05:03,915 | server.py:116 | fit progress: (4, 4.198841092314229, {'server_test_acc': 0.33022284122562673}, 829.5683893089881)
INFO flwr 2023-07-23 17:05:03,915 | server.py:163 | evaluate_round 4: no clients selected, cancel
Cluster score for round 5 = 381761.96875
INFO flwr 2023-07-23 17:05:12,000 | fed_df.py:194 | Number of selected crops : 3000
DEBUG flwr 2023-07-23 17:05:13,381 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=943765)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=943762)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:06:40,648 | server.py:229 | fit_round 5 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=943755)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=943762)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=943763)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=943760)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=943766)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=943765)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=943764)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=943761)[0m Fitting Client 15
Warm start at round 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=943766)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=943764)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=943755)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=943760)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=943763)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=943761)[0m corrupted size vs. prev_size in fastbins
Distillation training stopped at step number : 500
Average fusion training loss : 0.15755660822987558, val accuracy : 0.39161849710982655, best val accuracy : 0.44519786571809694
Average local training loss : 7.032746940664947
Average local training accuracy : 0.7907260802469137
INFO flwr 2023-07-23 17:09:00,327 | server.py:116 | fit progress: (5, 4.424733336722286, {'server_test_acc': 0.34289693593314763}, 1065.9807067420334)
INFO flwr 2023-07-23 17:09:00,327 | server.py:163 | evaluate_round 5: no clients selected, cancel
Cluster score for round 6 = 198988.96875
E0723 17:09:07.277622019 1157050 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
INFO flwr 2023-07-23 17:09:08,308 | fed_df.py:194 | Number of selected crops : 5018
DEBUG flwr 2023-07-23 17:09:10,106 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-23 17:10:37,528 | server.py:229 | fit_round 6 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1158341)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1158343)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1158344)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1158346)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1158348)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1158347)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1158345)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1158349)[0m Fitting Client 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1158347)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1158343)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1158341)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1158348)[0m malloc_consolidate(): invalid chunk size
E0723 17:10:38.786776095 1250029 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
[2m[36m(launch_and_fit pid=1158344)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1158346)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1158345)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1158349)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.08586225754022599, val accuracy : 0.32239884393063584, best val accuracy : 0.3518230324588706
Average local training loss : 5.7603156307712196
Average local training accuracy : 0.8710563271604939
INFO flwr 2023-07-23 17:12:13,596 | server.py:116 | fit progress: (6, 13.012382989739974, {'server_test_acc': 0.2193593314763231}, 1259.2494227699935)
INFO flwr 2023-07-23 17:12:13,596 | server.py:163 | evaluate_round 6: no clients selected, cancel
Cluster score for round 7 = 441568.96875
INFO flwr 2023-07-23 17:12:21,643 | fed_df.py:194 | Number of selected crops : 3295
DEBUG flwr 2023-07-23 17:12:23,044 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1330378)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1330371)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1330358)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:13:50,655 | server.py:229 | fit_round 7 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1330378)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1330356)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1330358)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1330379)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1330375)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1330372)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1330371)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1330377)[0m Fitting Client 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1330379)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1330375)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1330377)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1330372)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1330356)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.11940129441022873, val accuracy : 0.3974099599822143, best val accuracy : 0.444086260560249
Average local training loss : 6.0663951804861425
Average local training accuracy : 0.8540902777777778
INFO flwr 2023-07-23 17:15:59,605 | server.py:116 | fit progress: (7, 3.7906023578059376, {'server_test_acc': 0.27688022284122565}, 1485.2588896729867)
INFO flwr 2023-07-23 17:15:59,605 | server.py:163 | evaluate_round 7: no clients selected, cancel
Cluster score for round 8 = 299813.40625
INFO flwr 2023-07-23 17:16:07,754 | fed_df.py:194 | Number of selected crops : 3580
DEBUG flwr 2023-07-23 17:16:09,271 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1543233)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1543186)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1543235)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1543236)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:17:37,088 | server.py:229 | fit_round 8 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1543186)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1543236)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1543233)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1543188)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1543232)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1543235)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1543228)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1543234)[0m Fitting Client 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1543188)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1543228)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1543232)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1543234)[0m double free or corruption (fasttop)
E0723 17:17:40.655055830 1533914 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
E0723 17:18:18.574271304 1652372 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.03231121659465134, val accuracy : 0.4493775011116051, best val accuracy : 0.4849933303690529
Average local training loss : 6.057854074053466
Average local training accuracy : 0.8557276234567901
INFO flwr 2023-07-23 17:19:43,450 | server.py:116 | fit progress: (8, 3.3908949333977234, {'server_test_acc': 0.4213091922005571}, 1709.1038392779883)
INFO flwr 2023-07-23 17:19:43,450 | server.py:163 | evaluate_round 8: no clients selected, cancel
Cluster score for round 9 = 218693.359375
INFO flwr 2023-07-23 17:19:51,516 | fed_df.py:194 | Number of selected crops : 3000
DEBUG flwr 2023-07-23 17:19:52,873 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1757861)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:21:20,749 | server.py:229 | fit_round 9 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1757861)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1757858)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1757864)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1757863)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1757866)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1757865)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1757859)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1757860)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1757864)[0m double free or corruption (fasttop)
E0723 17:21:21.199961760 1684139 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
[2m[36m(launch_and_fit pid=1757859)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1757860)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1757858)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1757865)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1757866)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.04076684350520372, val accuracy : 0.4659404179635394, best val accuracy : 0.49121831925300136
Average local training loss : 5.913122390583157
Average local training accuracy : 0.8634305555555555
INFO flwr 2023-07-23 17:23:47,658 | server.py:116 | fit progress: (9, 2.639372047275554, {'server_test_acc': 0.3703342618384401}, 1953.3120623750146)
INFO flwr 2023-07-23 17:23:47,659 | server.py:163 | evaluate_round 9: no clients selected, cancel
Cluster score for round 10 = 207720.046875
INFO flwr 2023-07-23 17:23:55,789 | fed_df.py:194 | Number of selected crops : 3000
DEBUG flwr 2023-07-23 17:23:57,167 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1972837)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:25:23,761 | server.py:229 | fit_round 10 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1972835)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1972833)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1972836)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1972837)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1972838)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1972840)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1972839)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1972830)[0m Fitting Client 8
Warm start at round 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1972836)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1972840)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1972835)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1972839)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1972830)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1972833)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1972838)[0m double free or corruption (fasttop)
E0723 17:25:31.537742887 2065014 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.0782821008786559, val accuracy : 0.45693641618497116, best val accuracy : 0.5389061805246776
Average local training loss : 6.056029871292412
Average local training accuracy : 0.8564513888888888
INFO flwr 2023-07-23 17:27:49,175 | server.py:116 | fit progress: (10, 2.7513590618760473, {'server_test_acc': 0.5688022284122562}, 2194.8287721209927)
INFO flwr 2023-07-23 17:27:49,175 | server.py:163 | evaluate_round 10: no clients selected, cancel
Cluster score for round 11 = 165223.5625
INFO flwr 2023-07-23 17:27:57,280 | fed_df.py:194 | Number of selected crops : 4927
DEBUG flwr 2023-07-23 17:27:59,057 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2187588)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2187590)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2187594)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2187591)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:29:26,491 | server.py:229 | fit_round 11 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2187594)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2187588)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2187586)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2187591)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2187590)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2187593)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2187587)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2187592)[0m Fitting Client 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2187586)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2187587)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2187592)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2187593)[0m malloc_consolidate(): invalid chunk size
E0723 17:29:30.638879746 2280887 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.04868822803348303, val accuracy : 0.37796798577145396, best val accuracy : 0.4343041351711872
Average local training loss : 4.908384568430484
Average local training accuracy : 0.924775462962963
INFO flwr 2023-07-23 17:31:03,813 | server.py:116 | fit progress: (11, 3.360480285687035, {'server_test_acc': 0.34108635097493034}, 2389.4668408639845)
INFO flwr 2023-07-23 17:31:03,813 | server.py:163 | evaluate_round 11: no clients selected, cancel
Cluster score for round 12 = 167091.3125
INFO flwr 2023-07-23 17:31:12,220 | fed_df.py:194 | Number of selected crops : 3991
DEBUG flwr 2023-07-23 17:31:13,836 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-23 17:32:41,211 | server.py:229 | fit_round 12 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2359468)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2359473)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2359470)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2359469)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2359472)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2359471)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2359474)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2359475)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2359472)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2359473)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2359468)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2359474)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2359469)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2359475)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2359470)[0m malloc_consolidate(): invalid chunk size
E0723 17:32:43.254007767 2281664 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
[2m[36m(launch_and_fit pid=2359471)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.1708180446922779, val accuracy : 0.5868608270342375, best val accuracy : 0.6200533570475767
Average local training loss : 5.072380714211612
Average local training accuracy : 0.916082561728395
INFO flwr 2023-07-23 17:34:31,641 | server.py:116 | fit progress: (12, 2.191636313967054, {'server_test_acc': 0.5866295264623955}, 2597.2951253580395)
INFO flwr 2023-07-23 17:34:31,642 | server.py:163 | evaluate_round 12: no clients selected, cancel
Cluster score for round 13 = 115685.7109375
INFO flwr 2023-07-23 17:34:39,677 | fed_df.py:194 | Number of selected crops : 3125
DEBUG flwr 2023-07-23 17:34:41,089 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2575786)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2575784)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2575788)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:36:08,110 | server.py:229 | fit_round 13 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2575786)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2575784)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2575789)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2575788)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2575792)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2575793)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2575791)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2575790)[0m Fitting Client 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2575793)[0m malloc_consolidate(): invalid chunk size
E0723 17:36:08.884144465 2472014 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
[2m[36m(launch_and_fit pid=2575791)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2575789)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2575792)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2575790)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.07349187288060785, val accuracy : 0.41446198310360166, best val accuracy : 0.5108937305469098
Average local training loss : 5.149025597516448
Average local training accuracy : 0.9116427469135802
INFO flwr 2023-07-23 17:38:16,481 | server.py:116 | fit progress: (13, 6.5132646894056485, {'server_test_acc': 0.4837047353760446}, 2822.134264953027)
INFO flwr 2023-07-23 17:38:16,481 | server.py:163 | evaluate_round 13: no clients selected, cancel
Cluster score for round 14 = 157053.59375
INFO flwr 2023-07-23 17:38:24,556 | fed_df.py:194 | Number of selected crops : 3000
DEBUG flwr 2023-07-23 17:38:25,951 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2775306)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2775310)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2775311)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:39:52,807 | server.py:229 | fit_round 14 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2775298)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2775306)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2775308)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2775310)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2775298)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2775307)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2775302)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2775304)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2775311)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2775308)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2775307)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2775304)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2775302)[0m double free or corruption (fasttop)
E0723 17:39:58.406756578 2667286 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.10576333621144295, val accuracy : 0.5470987105380168, best val accuracy : 0.5736994219653179
Average local training loss : 5.076145799085498
Average local training accuracy : 0.9155601851851852
INFO flwr 2023-07-23 17:42:16,949 | server.py:116 | fit progress: (14, 2.2063438080811566, {'server_test_acc': 0.5789693593314763}, 3062.602933680988)
INFO flwr 2023-07-23 17:42:16,949 | server.py:163 | evaluate_round 14: no clients selected, cancel
Cluster score for round 15 = 128427.75
INFO flwr 2023-07-23 17:42:25,038 | fed_df.py:194 | Number of selected crops : 3000
DEBUG flwr 2023-07-23 17:42:26,438 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2989883)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2989889)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:43:53,503 | server.py:229 | fit_round 15 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2989883)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2989881)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2989888)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2989886)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2989890)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2989887)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2989885)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2989889)[0m Fitting Client 19
Warm start at round 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2989886)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2989888)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2989881)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2989890)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2989885)[0m malloc_consolidate(): invalid chunk size
E0723 17:43:55.687266045 2871209 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
[2m[36m(launch_and_fit pid=2989887)[0m double free or corruption (fasttop)
E0723 17:44:32.529601380 3082785 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.27681277361512185, val accuracy : 0.314239662072032, best val accuracy : 0.3320364606491774
Average local training loss : 4.843166206404567
Average local training accuracy : 0.9290293209876542
INFO flwr 2023-07-23 17:46:14,117 | server.py:116 | fit progress: (15, 8.069495239895366, {'server_test_acc': 0.20988857938718664}, 3299.7704414509935)
INFO flwr 2023-07-23 17:46:14,117 | server.py:163 | evaluate_round 15: no clients selected, cancel
Cluster score for round 16 = 170122.03125
INFO flwr 2023-07-23 17:46:22,226 | fed_df.py:194 | Number of selected crops : 4978
DEBUG flwr 2023-07-23 17:46:24,006 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3204555)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3204562)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3204561)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:47:52,146 | server.py:229 | fit_round 16 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3204563)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3204555)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3204563)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3204561)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3204562)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3204558)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3204560)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3204559)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3204557)[0m Fitting Client 13
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3204557)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3204560)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3204559)[0m malloc_consolidate(): invalid chunk size
E0723 17:47:53.558066541 3114670 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=3204558)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.10274042071402073, val accuracy : 0.5211983103601601, best val accuracy : 0.5513561582925744
Average local training loss : 4.493627414572984
Average local training accuracy : 0.9491234567901234
INFO flwr 2023-07-23 17:49:29,580 | server.py:116 | fit progress: (16, 2.777250900374814, {'server_test_acc': 0.5197771587743732}, 3495.233879009029)
INFO flwr 2023-07-23 17:49:29,580 | server.py:163 | evaluate_round 16: no clients selected, cancel
Cluster score for round 17 = 134010.234375
INFO flwr 2023-07-23 17:49:37,764 | fed_df.py:194 | Number of selected crops : 4274
DEBUG flwr 2023-07-23 17:49:39,407 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3404478)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3404472)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:51:06,982 | server.py:229 | fit_round 17 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3404472)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3404474)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3404477)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3404476)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3404470)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3404478)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3404475)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3404479)[0m Fitting Client 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3404475)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3404470)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3404476)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3404477)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3404479)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3404474)[0m double free or corruption (fasttop)
E0723 17:51:09.871865634 3311764 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
E0723 17:51:09.872458971 3311764 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.2878672630786896, val accuracy : 0.49335260115606944, best val accuracy : 0.5184526456202757
Average local training loss : 4.630314485169947
Average local training accuracy : 0.9418433641975308
INFO flwr 2023-07-23 17:52:51,055 | server.py:116 | fit progress: (17, 4.484149623647705, {'server_test_acc': 0.4395543175487465}, 3696.7085484660347)
INFO flwr 2023-07-23 17:52:51,055 | server.py:163 | evaluate_round 17: no clients selected, cancel
Cluster score for round 18 = 144085.484375
INFO flwr 2023-07-23 17:52:59,118 | fed_df.py:194 | Number of selected crops : 3752
DEBUG flwr 2023-07-23 17:53:00,635 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3584352)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3584364)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3584359)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:54:27,925 | server.py:229 | fit_round 18 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3584362)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3584365)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3584356)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3584355)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3584351)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3584359)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3584352)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3584364)[0m Fitting Client 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3584351)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3584365)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3584355)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3584356)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3584362)[0m double free or corruption (fasttop)
E0723 17:56:18.235990124 3763144 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.08107613053172827, val accuracy : 0.5306580702534458, best val accuracy : 0.5954868830591374
Average local training loss : 4.720706927869468
Average local training accuracy : 0.9366496913580247
INFO flwr 2023-07-23 17:56:21,873 | server.py:116 | fit progress: (18, 2.5000681715091293, {'server_test_acc': 0.5643454038997214}, 3907.5264922709903)
INFO flwr 2023-07-23 17:56:21,873 | server.py:163 | evaluate_round 18: no clients selected, cancel
Cluster score for round 19 = 87720.0625
INFO flwr 2023-07-23 17:56:29,926 | fed_df.py:194 | Number of selected crops : 3000
DEBUG flwr 2023-07-23 17:56:31,340 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3772409)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3772414)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3772417)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:57:59,149 | server.py:229 | fit_round 19 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3772415)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3772418)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3772414)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3772417)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3772416)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3772411)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3772415)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3772410)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3772418)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3772409)[0m Fitting Client 2
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3772410)[0m malloc_consolidate(): invalid chunk size
E0723 17:57:59.523589664 3767221 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=3772411)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3772416)[0m malloc_consolidate(): invalid chunk size
E0723 17:59:04.962631879 3863967 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.3083131995797157, val accuracy : 0.685504668741663, best val accuracy : 0.7073143619386394
Average local training loss : 4.7080430801026525
Average local training accuracy : 0.9383472222222222
INFO flwr 2023-07-23 18:00:23,082 | server.py:116 | fit progress: (19, 1.909600562571151, {'server_test_acc': 0.6278551532033426}, 4148.735501361021)
INFO flwr 2023-07-23 18:00:23,082 | server.py:163 | evaluate_round 19: no clients selected, cancel
Cluster score for round 20 = 54088.23046875
INFO flwr 2023-07-23 18:00:31,225 | fed_df.py:194 | Number of selected crops : 4425
DEBUG flwr 2023-07-23 18:00:32,965 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3987055)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:01:59,796 | server.py:229 | fit_round 20 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3987056)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3987055)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3987053)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3987052)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3987057)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3987062)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3987054)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3987058)[0m Fitting Client 12
Warm start at round 20
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3987052)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3987056)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3987062)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3987057)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3987058)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3987054)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3987053)[0m double free or corruption (fasttop)
E0723 18:02:02.216610608 4079712 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.10055304323136806, val accuracy : 0.4296909737661183, best val accuracy : 0.5393508225878169
Average local training loss : 4.804016254097223
Average local training accuracy : 0.9327654320987656
INFO flwr 2023-07-23 18:03:46,599 | server.py:116 | fit progress: (20, 1.9204551648960804, {'server_test_acc': 0.512116991643454}, 4352.253016803996)
INFO flwr 2023-07-23 18:03:46,600 | server.py:163 | evaluate_round 20: no clients selected, cancel
Cluster score for round 21 = 85171.3984375
INFO flwr 2023-07-23 18:03:54,698 | fed_df.py:194 | Number of selected crops : 3000
DEBUG flwr 2023-07-23 18:03:56,095 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1282)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1279)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1284)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:05:23,343 | server.py:229 | fit_round 21 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1284)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1279)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1278)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1283)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1282)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1286)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1287)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1285)[0m Fitting Client 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1283)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1278)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1285)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1287)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1286)[0m malloc_consolidate(): invalid chunk size
E0723 18:07:35.665525042 4079947 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.3721838818788528, val accuracy : 0.5979435304579813, best val accuracy : 0.620942641173855
Average local training loss : 4.29662484768778
Average local training accuracy : 0.9610054012345678
INFO flwr 2023-07-23 18:07:46,213 | server.py:116 | fit progress: (21, 2.294170979204948, {'server_test_acc': 0.5701949860724234}, 4591.8664149660035)
INFO flwr 2023-07-23 18:07:46,213 | server.py:163 | evaluate_round 21: no clients selected, cancel
Cluster score for round 22 = 49193.19140625
INFO flwr 2023-07-23 18:07:54,238 | fed_df.py:194 | Number of selected crops : 3000
DEBUG flwr 2023-07-23 18:07:55,662 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-23 18:09:22,221 | server.py:229 | fit_round 22 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=217846)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=217854)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=217846)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=217848)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=217850)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=217853)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=217849)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=217854)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=217852)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=217851)[0m Fitting Client 18
Performing server side distillation training...
[2m[36m(launch_and_fit pid=217848)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=217850)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=217851)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=217849)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=217853)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=217852)[0m malloc_consolidate(): invalid chunk size
E0723 18:09:24.518812582  206642 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.1784658912718296, val accuracy : 0.7750333481547353, best val accuracy : 0.7942418852823477
Average local training loss : 4.474567536450922
Average local training accuracy : 0.9512175925925925
INFO flwr 2023-07-23 18:11:46,895 | server.py:116 | fit progress: (22, 1.1754269696875868, {'server_test_acc': 0.8121169916434541}, 4832.549131272011)
INFO flwr 2023-07-23 18:11:46,896 | server.py:163 | evaluate_round 22: no clients selected, cancel
Cluster score for round 23 = 66378.9140625
INFO flwr 2023-07-23 18:11:54,986 | fed_df.py:194 | Number of selected crops : 3000
DEBUG flwr 2023-07-23 18:11:56,400 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=432531)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=432533)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:13:24,209 | server.py:229 | fit_round 23 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=432528)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=432526)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=432532)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=432533)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=432529)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=432530)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=432528)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=432534)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=432531)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=432529)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=432526)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=432532)[0m double free or corruption (fasttop)
E0723 18:13:25.313030403  524231 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=432530)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=432534)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.12615555019676686, val accuracy : 0.8116940862605603, best val accuracy : 0.8238105824811027
Average local training loss : 4.471593882609159
Average local training accuracy : 0.9513495370370371
INFO flwr 2023-07-23 18:15:46,929 | server.py:116 | fit progress: (23, 1.7333871181296772, {'server_test_acc': 0.795125348189415}, 5072.583086803032)
INFO flwr 2023-07-23 18:15:46,930 | server.py:163 | evaluate_round 23: no clients selected, cancel
Cluster score for round 24 = 53960.2578125
INFO flwr 2023-07-23 18:15:54,988 | fed_df.py:194 | Number of selected crops : 3000
DEBUG flwr 2023-07-23 18:15:56,398 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=647268)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=647264)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=647267)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=647263)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 18:17:24,081 | server.py:229 | fit_round 24 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=647263)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=647266)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=647267)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=647268)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=647264)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=647270)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=647265)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=647269)[0m Fitting Client 13
Performing server side distillation training...
[2m[36m(launch_and_fit pid=647270)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=647265)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=647269)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=647266)[0m malloc_consolidate(): invalid chunk size
E0723 18:17:29.993827200  524300 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.24893252232670784, val accuracy : 0.5580702534459758, best val accuracy : 0.628501556247221
Average local training loss : 4.412156087905168
Average local training accuracy : 0.9552754629629628
INFO flwr 2023-07-23 18:19:48,931 | server.py:116 | fit progress: (24, 2.4730995759990555, {'server_test_acc': 0.5878830083565459}, 5314.584796147014)
INFO flwr 2023-07-23 18:19:48,931 | server.py:163 | evaluate_round 24: no clients selected, cancel
Cluster score for round 25 = 98977.9921875
INFO flwr 2023-07-23 18:19:57,021 | fed_df.py:194 | Number of selected crops : 3232
DEBUG flwr 2023-07-23 18:19:58,518 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=890051)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=890060)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 18:21:26,062 | server.py:229 | fit_round 25 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=890062)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=890051)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=890032)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=890061)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=890060)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=890062)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=890055)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=890038)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=890053)[0m Fitting Client 1
Warm start at round 25
Performing server side distillation training...
[2m[36m(launch_and_fit pid=890061)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=890032)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=890055)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=890038)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=890053)[0m malloc_consolidate(): invalid chunk size
E0723 18:21:30.210338003  743286 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.18407279051840306, val accuracy : 0.5083926189417518, best val accuracy : 0.595153401511783
Average local training loss : 4.5504134856164455
Average local training accuracy : 0.9474976851851852
INFO flwr 2023-07-23 18:23:31,665 | server.py:116 | fit progress: (25, 2.6201985470763822, {'server_test_acc': 0.4655988857938719}, 5537.318734372035)
INFO flwr 2023-07-23 18:23:31,665 | server.py:163 | evaluate_round 25: no clients selected, cancel
Cluster score for round 26 = 130158.609375
INFO flwr 2023-07-23 18:23:39,785 | fed_df.py:194 | Number of selected crops : 3411
DEBUG flwr 2023-07-23 18:23:41,253 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1089358)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:25:08,487 | server.py:229 | fit_round 26 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1089349)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1089350)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1089353)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1089354)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1089358)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1089352)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1089356)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1089357)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1089349)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1089352)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1089353)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1089350)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1089354)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1089356)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1089357)[0m double free or corruption (fasttop)
E0723 18:25:10.728460125 1181677 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
E0723 18:25:48.710996436 1182381 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.3156710978448391, val accuracy : 0.6052023121387283, best val accuracy : 0.67207647843486
Average local training loss : 4.2668443285860125
Average local training accuracy : 0.9627229938271605
INFO flwr 2023-07-23 18:27:15,780 | server.py:116 | fit progress: (26, 2.845395798271413, {'server_test_acc': 0.650974930362117}, 5761.433268614986)
INFO flwr 2023-07-23 18:27:15,780 | server.py:163 | evaluate_round 26: no clients selected, cancel
Cluster score for round 27 = 100606.796875
INFO flwr 2023-07-23 18:27:23,837 | fed_df.py:194 | Number of selected crops : 3000
DEBUG flwr 2023-07-23 18:27:25,273 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1289044)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1289049)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1289048)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:28:53,103 | server.py:229 | fit_round 27 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1289042)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1289046)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1289048)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1289049)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1289046)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1289043)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1289042)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1289047)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1289045)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1289044)[0m Fitting Client 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1289045)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1289047)[0m double free or corruption (fasttop)
E0723 18:28:54.347313437 1214093 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=1289043)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.19981760588288308, val accuracy : 0.7272120942641174, best val accuracy : 0.7434415295686972
Average local training loss : 4.339200311619789
Average local training accuracy : 0.9590995370370371
INFO flwr 2023-07-23 18:31:16,984 | server.py:116 | fit progress: (27, 2.2484572397301124, {'server_test_acc': 0.6724233983286908}, 6002.637629438017)
INFO flwr 2023-07-23 18:31:16,984 | server.py:163 | evaluate_round 27: no clients selected, cancel
Cluster score for round 28 = 35302.8515625
INFO flwr 2023-07-23 18:31:25,092 | fed_df.py:194 | Number of selected crops : 3000
DEBUG flwr 2023-07-23 18:31:26,514 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1503783)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1503794)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 18:32:53,318 | server.py:229 | fit_round 28 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1503782)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1503783)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1503782)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1503790)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1503789)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1503791)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1503788)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1503794)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1503793)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1503791)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1503790)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1503789)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1503788)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1503793)[0m corrupted size vs. prev_size in fastbins
E0723 18:33:00.356244428 1381153 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.2191402980387211, val accuracy : 0.6224766562916852, best val accuracy : 0.6561805246776345
Average local training loss : 4.292391458619386
Average local training accuracy : 0.9624274691358025
INFO flwr 2023-07-23 18:35:17,774 | server.py:116 | fit progress: (28, 2.6007712393417997, {'server_test_acc': 0.5147632311977716}, 6243.427292461041)
INFO flwr 2023-07-23 18:35:17,774 | server.py:163 | evaluate_round 28: no clients selected, cancel
Cluster score for round 29 = 68991.0234375
INFO flwr 2023-07-23 18:35:25,883 | fed_df.py:194 | Number of selected crops : 3079
DEBUG flwr 2023-07-23 18:35:27,299 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1746847)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1746850)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1746849)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:36:55,086 | server.py:229 | fit_round 29 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1746854)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1746850)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1746849)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1746851)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1746848)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1746852)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1746854)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1746847)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1746853)[0m Fitting Client 0
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1746853)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1746852)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1746851)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1746848)[0m double free or corruption (fasttop)
E0723 18:36:57.594812097 1601828 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
E0723 18:38:41.636035359 1840008 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.23745803362131118, val accuracy : 0.6006002667852379, best val accuracy : 0.6460649177412183
Average local training loss : 4.291000684723258
Average local training accuracy : 0.9620679012345679
INFO flwr 2023-07-23 18:39:01,471 | server.py:116 | fit progress: (29, 3.692416567789147, {'server_test_acc': 0.6493036211699165}, 6467.1249142360175)
INFO flwr 2023-07-23 18:39:01,471 | server.py:163 | evaluate_round 29: no clients selected, cancel
Cluster score for round 30 = 131311.453125
INFO flwr 2023-07-23 18:39:09,535 | fed_df.py:194 | Number of selected crops : 3000
DEBUG flwr 2023-07-23 18:39:10,956 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1946384)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:40:37,779 | server.py:229 | fit_round 30 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1946384)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1946374)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1946375)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1946380)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1946378)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1946379)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1946382)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1946383)[0m Fitting Client 19
Warm start at round 30
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1946374)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1946375)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1946379)[0m malloc_consolidate(): invalid chunk size
E0723 18:40:39.110017231 2037854 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=1946378)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1946383)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1946382)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1946380)[0m malloc_consolidate(): invalid chunk size
E0723 18:40:40.645928849 2039189 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
E0723 18:41:15.747398155 2068692 chttp2_transport.cc:1079]             ipv4:145.136.62.63:43901: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.23573374325037003, val accuracy : 0.7591040462427745, best val accuracy : 0.793019119608715
Average local training loss : 4.27723519988358
Average local training accuracy : 0.9626543209876542
INFO flwr 2023-07-23 18:43:02,360 | server.py:116 | fit progress: (30, 1.8927351940973223, {'server_test_acc': 0.6796657381615598}, 6708.013366964995)
INFO flwr 2023-07-23 18:43:02,360 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-07-23 18:43:02,360 | server.py:144 | FL finished in 6708.01377083204
INFO flwr 2023-07-23 18:43:02,360 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-07-23 18:43:02,361 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-07-23 18:43:02,361 | app.py:204 | app_fit: losses_centralized [(0, 2.1845225108367154), (1, 3.415192654537955), (2, 3.833848492614406), (3, 2.983025625754864), (4, 4.198841092314229), (5, 4.424733336722286), (6, 13.012382989739974), (7, 3.7906023578059376), (8, 3.3908949333977234), (9, 2.639372047275554), (10, 2.7513590618760473), (11, 3.360480285687035), (12, 2.191636313967054), (13, 6.5132646894056485), (14, 2.2063438080811566), (15, 8.069495239895366), (16, 2.777250900374814), (17, 4.484149623647705), (18, 2.5000681715091293), (19, 1.909600562571151), (20, 1.9204551648960804), (21, 2.294170979204948), (22, 1.1754269696875868), (23, 1.7333871181296772), (24, 2.4730995759990555), (25, 2.6201985470763822), (26, 2.845395798271413), (27, 2.2484572397301124), (28, 2.6007712393417997), (29, 3.692416567789147), (30, 1.8927351940973223)]
INFO flwr 2023-07-23 18:43:02,361 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.11030640668523677), (1, 0.2821727019498607), (2, 0.36002785515320335), (3, 0.3593314763231198), (4, 0.33022284122562673), (5, 0.34289693593314763), (6, 0.2193593314763231), (7, 0.27688022284122565), (8, 0.4213091922005571), (9, 0.3703342618384401), (10, 0.5688022284122562), (11, 0.34108635097493034), (12, 0.5866295264623955), (13, 0.4837047353760446), (14, 0.5789693593314763), (15, 0.20988857938718664), (16, 0.5197771587743732), (17, 0.4395543175487465), (18, 0.5643454038997214), (19, 0.6278551532033426), (20, 0.512116991643454), (21, 0.5701949860724234), (22, 0.8121169916434541), (23, 0.795125348189415), (24, 0.5878830083565459), (25, 0.4655988857938719), (26, 0.650974930362117), (27, 0.6724233983286908), (28, 0.5147632311977716), (29, 0.6493036211699165), (30, 0.6796657381615598)]}
malloc_consolidate(): invalid chunk size
srun: error: gcn63: task 0: Aborted
srun: Terminating StepId=3126786.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3126786
Cluster: snellius
User/Group: sunnys/sunnys
State: COMPLETED (exit code 0)
Nodes: 1
Cores per node: 18
CPU Utilized: 04:09:25
CPU Efficiency: 11.74% of 1-11:23:42 core-walltime
Job Wall-clock time: 01:57:59
Memory Utilized: 50.39 GB
Memory Efficiency: 41.99% of 120.00 GB
