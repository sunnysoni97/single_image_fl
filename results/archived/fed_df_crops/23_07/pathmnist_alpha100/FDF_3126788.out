-----BEGIN-----
-----SETTINGS-----
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:pathmnist
PARTITION_ALPHA:100.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:40
LOCAL_LR:0.05
DISTILL_BATCH_SIZE:512
SERVER_LR:0.005
SERVER_STEPS:500
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
SEED:42
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:colonpath_sample.jpg
DISTILL_DATASET:cifar100
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:10000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:5
KMEANS_N_CLUSTER:20
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
CONFIDENCE_THRESHOLD:0.9
CLIPPING_FACTOR:2.5
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=100000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/colonpath_sample.jpg', targetpath='/scratch-local/sunnys.3126788/1690123567_711932710', seed=42, img_per_thread=5555)
will save 100000 patches in /scratch-local/sunnys.3126788/1690123567_711932710/single_img_crops/crops
100000 took 0.59min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-07-23 16:46:58,107 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-07-23 16:46:58,107 | simulate.py:55 | Reading args from argument parser
Downloading https://zenodo.org/record/6496656/files/pathmnist.npz?download=1 to /scratch-local/sunnys.3126788/1690123567_711932710/pathmnist.npz
Generating unified pathmnist dataset
Class histogram for 0-th partition (alpha=100.0, 9 classes): [481 532 428 497 477 533 503 491 558]
INFO flwr 2023-07-23 16:48:13,387 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-07-23 16:48:16,126	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8266 [39m[22m
INFO flwr 2023-07-23 16:48:17,178 | app.py:179 | Flower VCE: Ray initialized with resources: {'object_store_memory': 61847529062.0, 'memory': 103079215104.0, 'node:145.136.62.46': 1.0, 'GPU': 1.0, 'accelerator_type:A100': 1.0, 'CPU': 18.0}
INFO flwr 2023-07-23 16:48:17,178 | server.py:86 | Initializing global parameters
INFO flwr 2023-07-23 16:48:17,178 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-07-23 16:48:17,178 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-07-23 16:48:22,989 | server.py:91 | initial parameters (loss, other metrics): 2.1845225108367154, {'server_test_acc': 0.11030640668523677}
INFO flwr 2023-07-23 16:48:22,989 | server.py:101 | FL starting
Cluster score for round 1 = 1282.5416259765625
INFO flwr 2023-07-23 16:48:30,162 | fed_df.py:194 | Number of selected crops : 10000
DEBUG flwr 2023-07-23 16:48:32,938 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=998771)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=998782)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 16:50:02,317 | server.py:229 | fit_round 1 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=998784)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=998774)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=998773)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=998771)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=998772)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=998782)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=998784)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=998786)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=998785)[0m Fitting Client 14
Warm start at round 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=998785)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=998786)[0m malloc_consolidate(): invalid chunk size
E0723 16:50:03.547067836  992796 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
E0723 16:50:03.547263384  992796 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
E0723 16:50:03.547280819  992796 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
E0723 16:50:03.547290500  992796 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
E0723 16:50:03.547304209  992796 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
E0723 16:50:03.547316176  992796 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
[2m[36m(launch_and_fit pid=998772)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=998773)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=998774)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.4337952179312706, val accuracy : 0.4388839484215207, best val accuracy : 0.4936638506002668
Average local training loss : 8.764108567126096
Average local training accuracy : 0.6858317901234569
INFO flwr 2023-07-23 16:51:00,299 | server.py:116 | fit progress: (1, 2.2363319450102144, {'server_test_acc': 0.3828690807799443}, 157.30959233205067)
INFO flwr 2023-07-23 16:51:00,299 | server.py:163 | evaluate_round 1: no clients selected, cancel
Cluster score for round 2 = 107932.7109375
INFO flwr 2023-07-23 16:51:08,225 | fed_df.py:194 | Number of selected crops : 4195
DEBUG flwr 2023-07-23 16:51:09,979 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1301210)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 16:52:40,605 | server.py:229 | fit_round 2 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1301212)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1301210)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1301281)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1301284)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1301209)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1301213)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1301282)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1301283)[0m Fitting Client 13
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1301213)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1301284)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1301212)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1301282)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1301281)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1301209)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1301283)[0m double free or corruption (fasttop)
E0723 16:52:45.386410487 1482581 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
E0723 16:54:02.806657359 1607983 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.17913742864131926, val accuracy : 0.3477100933748333, best val accuracy : 0.3948421520675856
Average local training loss : 7.105725834704936
Average local training accuracy : 0.7847453703703703
INFO flwr 2023-07-23 16:54:26,814 | server.py:116 | fit progress: (2, 4.710862022123629, {'server_test_acc': 0.4105849582172702}, 363.82460902101593)
INFO flwr 2023-07-23 16:54:26,814 | server.py:163 | evaluate_round 2: no clients selected, cancel
Cluster score for round 3 = 164552.1875
INFO flwr 2023-07-23 16:54:35,005 | fed_df.py:194 | Number of selected crops : 5306
DEBUG flwr 2023-07-23 16:54:36,905 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1658405)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1658406)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 16:56:04,696 | server.py:229 | fit_round 3 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1658337)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1658405)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1658406)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1658336)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1658335)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1658407)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1658408)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1658409)[0m Fitting Client 4
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1658337)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1658408)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1658407)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1658409)[0m double free or corruption (fasttop)
E0723 16:56:06.002888861 1609933 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
[2m[36m(launch_and_fit pid=1658335)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1658336)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.2350177928507328, val accuracy : 0.3366940862605602, best val accuracy : 0.3601600711427301
Average local training loss : 6.758618739433587
Average local training accuracy : 0.8066188271604938
INFO flwr 2023-07-23 16:57:41,358 | server.py:116 | fit progress: (3, 6.454305754000098, {'server_test_acc': 0.27019498607242337}, 558.3691803110414)
INFO flwr 2023-07-23 16:57:41,359 | server.py:163 | evaluate_round 3: no clients selected, cancel
Cluster score for round 4 = 401481.1875
INFO flwr 2023-07-23 16:57:49,624 | fed_df.py:194 | Number of selected crops : 5219
DEBUG flwr 2023-07-23 16:57:51,742 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1988931)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1988933)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1989003)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1988932)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 16:59:20,283 | server.py:229 | fit_round 4 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1988934)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1988931)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1988933)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1989003)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1988932)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1989002)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1989005)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1989004)[0m Fitting Client 0
Performing server side distillation training...
E0723 16:59:21.013716155 2149866 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
[2m[36m(launch_and_fit pid=1989002)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1989004)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1989005)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.07797077222913504, val accuracy : 0.3264228546020454, best val accuracy : 0.35293463761671856
Average local training loss : 6.96188677661121
Average local training accuracy : 0.7939922839506173
INFO flwr 2023-07-23 17:00:53,370 | server.py:116 | fit progress: (4, 5.3117500485816045, {'server_test_acc': 0.43036211699164345}, 750.3803585420246)
INFO flwr 2023-07-23 17:00:53,370 | server.py:163 | evaluate_round 4: no clients selected, cancel
Cluster score for round 5 = 389445.625
INFO flwr 2023-07-23 17:01:01,580 | fed_df.py:194 | Number of selected crops : 5428
DEBUG flwr 2023-07-23 17:01:03,447 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2318149)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2318152)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:02:31,338 | server.py:229 | fit_round 5 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2318150)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2318148)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2318152)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2318149)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2318221)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2318222)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2318151)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2318220)[0m Fitting Client 14
Warm start at round 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2318222)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2318150)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2318220)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2318151)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2318221)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2318148)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.29560135689377787, val accuracy : 0.24280791462872386, best val accuracy : 0.31991996442863496
Average local training loss : 7.384443704597651
Average local training accuracy : 0.7689189814814815
INFO flwr 2023-07-23 17:04:05,039 | server.py:116 | fit progress: (5, 7.007370093938036, {'server_test_acc': 0.2243732590529248}, 942.0498314530123)
INFO flwr 2023-07-23 17:04:05,039 | server.py:163 | evaluate_round 5: no clients selected, cancel
Cluster score for round 6 = 243769.25
INFO flwr 2023-07-23 17:04:13,234 | fed_df.py:194 | Number of selected crops : 5180
DEBUG flwr 2023-07-23 17:04:15,115 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2648753)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2648682)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2648756)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2648680)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:05:43,897 | server.py:229 | fit_round 6 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2648752)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2648682)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2648680)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2648754)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2648755)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2648751)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2648752)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2648753)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2648756)[0m Fitting Client 17
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2648751)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2648755)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2648754)[0m malloc_consolidate(): invalid chunk size
E0723 17:05:48.525941237 2151186 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.08180208661407232, val accuracy : 0.3005669186305024, best val accuracy : 0.3532681191640729
Average local training loss : 6.076131161488593
Average local training accuracy : 0.8516581790123456
INFO flwr 2023-07-23 17:07:18,206 | server.py:116 | fit progress: (6, 8.462773198204784, {'server_test_acc': 0.31100278551532035}, 1135.2163674610201)
INFO flwr 2023-07-23 17:07:18,206 | server.py:163 | evaluate_round 6: no clients selected, cancel
Cluster score for round 7 = 509927.6875
INFO flwr 2023-07-23 17:07:26,769 | fed_df.py:194 | Number of selected crops : 5204
DEBUG flwr 2023-07-23 17:07:28,676 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3007630)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3007632)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:08:56,313 | server.py:229 | fit_round 7 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3007628)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3007629)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3007630)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3007629)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3007631)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3007632)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3007628)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3007635)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3007633)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3007634)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3007631)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3007635)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3007633)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3007634)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.19594040352106096, val accuracy : 0.22501111605157847, best val accuracy : 0.2635615829257448
Average local training loss : 6.05042511485517
Average local training accuracy : 0.8534529320987654
INFO flwr 2023-07-23 17:10:29,616 | server.py:116 | fit progress: (7, 12.609033536778187, {'server_test_acc': 0.16852367688022285}, 1326.6268899800489)
INFO flwr 2023-07-23 17:10:29,616 | server.py:163 | evaluate_round 7: no clients selected, cancel
Cluster score for round 8 = 224689.3125
INFO flwr 2023-07-23 17:10:37,856 | fed_df.py:194 | Number of selected crops : 4328
DEBUG flwr 2023-07-23 17:10:39,631 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3330503)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3330642)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:12:09,022 | server.py:229 | fit_round 8 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3330504)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3330500)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3330639)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3330641)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3330642)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3330498)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3330503)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3330507)[0m Fitting Client 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3330641)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3330639)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3330507)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3330504)[0m malloc_consolidate(): invalid chunk size
E0723 17:12:10.029907261 2833662 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
[2m[36m(launch_and_fit pid=3330498)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3330500)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.13392774119973183, val accuracy : 0.36869719875500223, best val accuracy : 0.39851044908848376
Average local training loss : 6.122406311146915
Average local training accuracy : 0.8504830246913581
INFO flwr 2023-07-23 17:13:52,936 | server.py:116 | fit progress: (8, 4.4291793042238705, {'server_test_acc': 0.25974930362116994}, 1529.9468614900252)
INFO flwr 2023-07-23 17:13:52,936 | server.py:163 | evaluate_round 8: no clients selected, cancel
Cluster score for round 9 = 303125.9375
INFO flwr 2023-07-23 17:14:01,331 | fed_df.py:194 | Number of selected crops : 3000
DEBUG flwr 2023-07-23 17:14:02,756 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3679170)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3679306)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3679304)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:15:31,240 | server.py:229 | fit_round 9 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3679169)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3679293)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3679170)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3679169)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3679293)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3679306)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3679305)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3679308)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3679307)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3679304)[0m Fitting Client 13
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3679308)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3679307)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3679305)[0m double free or corruption (fasttop)
E0723 17:15:33.307434887 3843929 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.3573572829961777, val accuracy : 0.3786016007114273, best val accuracy : 0.4111827478879502
Average local training loss : 6.254068026691676
Average local training accuracy : 0.8429344135802469
INFO flwr 2023-07-23 17:17:59,923 | server.py:116 | fit progress: (9, 1.984264323837578, {'server_test_acc': 0.4147632311977716}, 1776.9343186360202)
INFO flwr 2023-07-23 17:17:59,924 | server.py:163 | evaluate_round 9: no clients selected, cancel
Cluster score for round 10 = 137172.609375
INFO flwr 2023-07-23 17:18:08,166 | fed_df.py:194 | Number of selected crops : 3000
DEBUG flwr 2023-07-23 17:18:09,585 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=4102892)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4102911)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4102912)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4102898)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:19:37,530 | server.py:229 | fit_round 10 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=4102895)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4102896)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4102892)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=4102895)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=4102897)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=4102910)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=4102912)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=4102896)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=4102898)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=4102911)[0m Fitting Client 12
Warm start at round 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=4102897)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4102910)[0m malloc_consolidate(): invalid chunk size
E0723 17:19:41.772884724   72123 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.17498619435727597, val accuracy : 0.39076256113828367, best val accuracy : 0.40706980880391286
Average local training loss : 6.1654590629041195
Average local training accuracy : 0.8478996913580247
INFO flwr 2023-07-23 17:22:06,146 | server.py:116 | fit progress: (10, 7.5955972352731855, {'server_test_acc': 0.3115598885793872}, 2023.1564764820505)
INFO flwr 2023-07-23 17:22:06,146 | server.py:163 | evaluate_round 10: no clients selected, cancel
Cluster score for round 11 = 157016.09375
INFO flwr 2023-07-23 17:22:14,286 | fed_df.py:194 | Number of selected crops : 5136
DEBUG flwr 2023-07-23 17:22:16,169 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=357954)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=357951)[0m corrupted size vs. prev_size in fastbins
DEBUG flwr 2023-07-23 17:23:44,149 | server.py:229 | fit_round 11 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=357950)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=357950)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=357937)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=357901)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=357953)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=357952)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=357955)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=357954)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=357951)[0m Fitting Client 3
Performing server side distillation training...
[2m[36m(launch_and_fit pid=357937)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=357955)[0m malloc_consolidate(): invalid chunk size
E0723 17:23:44.869210789   74143 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
[2m[36m(launch_and_fit pid=357952)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=357953)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.16231942902505397, val accuracy : 0.33792796798577146, best val accuracy : 0.39239662072032017
Average local training loss : 5.164729920960963
Average local training accuracy : 0.9091666666666667
INFO flwr 2023-07-23 17:25:21,254 | server.py:116 | fit progress: (11, 17.601955887733396, {'server_test_acc': 0.2958217270194986}, 2218.2645021390053)
INFO flwr 2023-07-23 17:25:21,254 | server.py:163 | evaluate_round 11: no clients selected, cancel
Cluster score for round 12 = 768734.75
INFO flwr 2023-07-23 17:25:29,624 | fed_df.py:194 | Number of selected crops : 5039
DEBUG flwr 2023-07-23 17:25:31,447 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=681546)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:26:59,069 | server.py:229 | fit_round 12 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=681546)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=681548)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=681547)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=681552)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=681549)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=681550)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=681551)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=681553)[0m Fitting Client 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=681548)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=681550)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=681553)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=681551)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=681547)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=681549)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=681552)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.14060134148597717, val accuracy : 0.39286349488661626, best val accuracy : 0.4357492218763895
Average local training loss : 5.1007345159538096
Average local training accuracy : 0.9130547839506173
INFO flwr 2023-07-23 17:28:43,791 | server.py:116 | fit progress: (12, 8.670167956976506, {'server_test_acc': 0.40264623955431755}, 2420.8018042610493)
INFO flwr 2023-07-23 17:28:43,791 | server.py:163 | evaluate_round 12: no clients selected, cancel
Cluster score for round 13 = 558574.625
INFO flwr 2023-07-23 17:28:52,081 | fed_df.py:194 | Number of selected crops : 4411
DEBUG flwr 2023-07-23 17:28:53,806 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1024611)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1024613)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=1024750)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1024614)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:30:22,868 | server.py:229 | fit_round 13 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1024610)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1024611)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1024614)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1024748)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1024613)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1024751)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1024750)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1024752)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1024751)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1024610)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1024748)[0m malloc_consolidate(): invalid chunk size
E0723 17:30:24.187286677 1186241 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.23961783319711685, val accuracy : 0.38232547799021793, best val accuracy : 0.40273454868830594
Average local training loss : 5.276219719648362
Average local training accuracy : 0.9029830246913579
INFO flwr 2023-07-23 17:32:12,314 | server.py:116 | fit progress: (13, 5.6099150846263495, {'server_test_acc': 0.25431754874651813}, 2629.324499320006)
INFO flwr 2023-07-23 17:32:12,314 | server.py:163 | evaluate_round 13: no clients selected, cancel
Cluster score for round 14 = 268745.78125
INFO flwr 2023-07-23 17:32:20,633 | fed_df.py:194 | Number of selected crops : 3304
DEBUG flwr 2023-07-23 17:32:22,081 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1378278)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1378280)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:33:50,344 | server.py:229 | fit_round 14 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1378277)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1378277)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1378273)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1378274)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1378278)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1378279)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1378276)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1378280)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1378275)[0m Fitting Client 19
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1378275)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1378273)[0m double free or corruption (fasttop)
E0723 17:33:51.243809669 1535956 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
[2m[36m(launch_and_fit pid=1378276)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1378274)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1378279)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.3260006448030472, val accuracy : 0.41295020008892847, best val accuracy : 0.444086260560249
Average local training loss : 5.285493526607752
Average local training accuracy : 0.9036442901234567
INFO flwr 2023-07-23 17:36:02,398 | server.py:116 | fit progress: (14, 3.7001309344363413, {'server_test_acc': 0.402924791086351}, 2859.409114910057)
INFO flwr 2023-07-23 17:36:02,399 | server.py:163 | evaluate_round 14: no clients selected, cancel
Cluster score for round 15 = 190981.609375
INFO flwr 2023-07-23 17:36:10,709 | fed_df.py:194 | Number of selected crops : 4335
DEBUG flwr 2023-07-23 17:36:12,500 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1769124)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1769201)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1769200)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:37:40,559 | server.py:229 | fit_round 15 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1769125)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1769127)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1769124)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1769198)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1769199)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1769200)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1769201)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1769197)[0m Fitting Client 18
Warm start at round 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1769125)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1769198)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1769127)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1769197)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1769199)[0m malloc_consolidate(): invalid chunk size
E0723 17:37:44.390826396 1536360 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.17065578944981097, val accuracy : 0.3965651400622499, best val accuracy : 0.4293019119608715
Average local training loss : 5.295087628718465
Average local training accuracy : 0.9028233024691358
INFO flwr 2023-07-23 17:39:30,638 | server.py:116 | fit progress: (15, 13.266670607457918, {'server_test_acc': 0.29749303621169915}, 3067.649261919025)
INFO flwr 2023-07-23 17:39:30,639 | server.py:163 | evaluate_round 15: no clients selected, cancel
Cluster score for round 16 = 208046.96875
INFO flwr 2023-07-23 17:39:39,304 | fed_df.py:194 | Number of selected crops : 5021
DEBUG flwr 2023-07-23 17:39:41,111 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2145346)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2145332)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:41:08,974 | server.py:229 | fit_round 16 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2145352)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2145346)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2145354)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2145332)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2145349)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2145331)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2145353)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2145330)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2145352)[0m Fitting Client 19
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2145330)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2145354)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2145353)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2145331)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2145349)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.131782752469182, val accuracy : 0.3446642952423299, best val accuracy : 0.3648288128056914
Average local training loss : 4.54893743377179
Average local training accuracy : 0.9457013888888888
INFO flwr 2023-07-23 17:42:50,656 | server.py:116 | fit progress: (16, 11.416837370296042, {'server_test_acc': 0.3066852367688022}, 3267.6668803790235)
INFO flwr 2023-07-23 17:42:50,656 | server.py:163 | evaluate_round 16: no clients selected, cancel
Cluster score for round 17 = 300246.75
INFO flwr 2023-07-23 17:42:59,030 | fed_df.py:194 | Number of selected crops : 4369
DEBUG flwr 2023-07-23 17:43:00,772 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2482353)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2482358)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2482361)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2482360)[0m corrupted size vs. prev_size in fastbins
DEBUG flwr 2023-07-23 17:44:29,164 | server.py:229 | fit_round 17 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2482358)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2482353)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2482363)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2482362)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2482355)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2482360)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2482361)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2482359)[0m Fitting Client 19
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2482363)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2482359)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2482362)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2482355)[0m double free or corruption (fasttop)
E0723 17:44:32.021678850 2652656 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.33980087864398956, val accuracy : 0.3487772343263672, best val accuracy : 0.4029568697198755
Average local training loss : 4.556935773231089
Average local training accuracy : 0.9455046296296296
INFO flwr 2023-07-23 17:46:17,930 | server.py:116 | fit progress: (17, 5.4998024921895405, {'server_test_acc': 0.22242339832869082}, 3474.941156933026)
INFO flwr 2023-07-23 17:46:17,931 | server.py:163 | evaluate_round 17: no clients selected, cancel
Cluster score for round 18 = 108269.6875
INFO flwr 2023-07-23 17:46:26,583 | fed_df.py:194 | Number of selected crops : 4915
DEBUG flwr 2023-07-23 17:46:28,421 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2830125)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2830126)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:47:56,904 | server.py:229 | fit_round 18 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2830125)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2830262)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2830151)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2830263)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2830264)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2830126)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2830150)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2830149)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2830151)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2830264)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2830263)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2830262)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2830149)[0m malloc_consolidate(): invalid chunk size
E0723 17:47:58.202820959 2654169 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
[2m[36m(launch_and_fit pid=2830150)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.2021661130785942, val accuracy : 0.34485326811916406, best val accuracy : 0.3928412627834593
Average local training loss : 4.768068747036159
Average local training accuracy : 0.9331304012345679
INFO flwr 2023-07-23 17:49:37,252 | server.py:116 | fit progress: (18, 7.199896786405516, {'server_test_acc': 0.3267409470752089}, 3674.2631584680057)
INFO flwr 2023-07-23 17:49:37,253 | server.py:163 | evaluate_round 18: no clients selected, cancel
Cluster score for round 19 = 192012.8125
INFO flwr 2023-07-23 17:49:45,482 | fed_df.py:194 | Number of selected crops : 4315
DEBUG flwr 2023-07-23 17:49:47,234 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3168435)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3168437)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3168436)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3168440)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 17:51:16,598 | server.py:229 | fit_round 19 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3168441)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3168435)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3168433)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3168439)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3168437)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3168441)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3168436)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3168440)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3168438)[0m Fitting Client 7
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3168433)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3168439)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3168438)[0m double free or corruption (fasttop)
E0723 17:51:30.401921293 3346528 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.27624509239196776, val accuracy : 0.4115273454868831, best val accuracy : 0.43986216096042685
Average local training loss : 4.794899919535965
Average local training accuracy : 0.9323865740740741
INFO flwr 2023-07-23 17:53:01,799 | server.py:116 | fit progress: (19, 3.5978233108945545, {'server_test_acc': 0.333008356545961}, 3878.810165011033)
INFO flwr 2023-07-23 17:53:01,800 | server.py:163 | evaluate_round 19: no clients selected, cancel
Cluster score for round 20 = 119524.5234375
INFO flwr 2023-07-23 17:53:10,086 | fed_df.py:194 | Number of selected crops : 4139
DEBUG flwr 2023-07-23 17:53:11,771 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-23 17:54:39,545 | server.py:229 | fit_round 20 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3551625)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3551671)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3551798)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3551810)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3551869)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3551887)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3551888)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3551824)[0m Fitting Client 16
Warm start at round 20
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3551887)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3551888)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3551824)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3551625)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3551869)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3551671)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3551798)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3551810)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.20392425407469272, val accuracy : 0.3184081814139618, best val accuracy : 0.40495775900400177
Average local training loss : 4.821723137889057
Average local training accuracy : 0.9314521604938273
INFO flwr 2023-07-23 17:56:30,784 | server.py:116 | fit progress: (20, 11.317824271794482, {'server_test_acc': 0.3892757660167131}, 4087.7951735970564)
INFO flwr 2023-07-23 17:56:30,785 | server.py:163 | evaluate_round 20: no clients selected, cancel
Cluster score for round 21 = 278134.53125
INFO flwr 2023-07-23 17:56:39,030 | fed_df.py:194 | Number of selected crops : 5524
DEBUG flwr 2023-07-23 17:56:41,021 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3908123)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3908263)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3908194)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 17:58:09,114 | server.py:229 | fit_round 21 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3908266)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3908123)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3908194)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3908264)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3908195)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3908267)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3908266)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3908263)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3908265)[0m Fitting Client 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3908265)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3908264)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3908267)[0m malloc_consolidate(): invalid chunk size
E0723 17:58:10.655175993 4061641 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3908195)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.10562961186468602, val accuracy : 0.5710538016896398, best val accuracy : 0.6647398843930635
Average local training loss : 4.463187564909458
Average local training accuracy : 0.9520131172839507
INFO flwr 2023-07-23 17:59:47,809 | server.py:116 | fit progress: (21, 3.9103935775650576, {'server_test_acc': 0.6076601671309192}, 4284.819589916035)
INFO flwr 2023-07-23 17:59:47,809 | server.py:163 | evaluate_round 21: no clients selected, cancel
Cluster score for round 22 = 168952.84375
INFO flwr 2023-07-23 17:59:56,172 | fed_df.py:194 | Number of selected crops : 3778
DEBUG flwr 2023-07-23 17:59:57,742 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=48113)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=48115)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=48110)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=48111)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 18:01:25,874 | server.py:229 | fit_round 22 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=48113)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=48041)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=48039)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=48110)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=48111)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=48114)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=48112)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=48115)[0m Fitting Client 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=48112)[0m malloc_consolidate(): invalid chunk size
E0723 18:01:26.483298909  206539 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=48041)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=48114)[0m double free or corruption (fasttop)
E0723 18:01:27.163519169  207076 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=48039)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.21354213976860045, val accuracy : 0.5131058248110272, best val accuracy : 0.5433526011560693
Average local training loss : 4.387046805489809
Average local training accuracy : 0.9562538580246913
INFO flwr 2023-07-23 18:03:24,918 | server.py:116 | fit progress: (22, 4.718483956212121, {'server_test_acc': 0.6001392757660167}, 4501.929027771053)
INFO flwr 2023-07-23 18:03:24,918 | server.py:163 | evaluate_round 22: no clients selected, cancel
Cluster score for round 23 = 213043.5
INFO flwr 2023-07-23 18:03:33,360 | fed_df.py:194 | Number of selected crops : 3000
DEBUG flwr 2023-07-23 18:03:34,789 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=413844)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:05:03,353 | server.py:229 | fit_round 23 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=413827)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=414002)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=413985)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=413827)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=413833)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=413990)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=413844)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=413829)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=413830)[0m Fitting Client 3
Performing server side distillation training...
[2m[36m(launch_and_fit pid=413829)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=413833)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=414002)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=413985)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=413990)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=413830)[0m malloc_consolidate(): invalid chunk size
E0723 18:05:05.789416252  577543 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0723 18:07:14.066564662  793291 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.2917360101938248, val accuracy : 0.5599377501111606, best val accuracy : 0.6037127612272121
Average local training loss : 4.519351223297417
Average local training accuracy : 0.9491635802469137
INFO flwr 2023-07-23 18:07:35,198 | server.py:116 | fit progress: (23, 3.297307305880576, {'server_test_acc': 0.5984679665738162}, 4752.208511542005)
INFO flwr 2023-07-23 18:07:35,198 | server.py:163 | evaluate_round 23: no clients selected, cancel
Cluster score for round 24 = 129901.0
INFO flwr 2023-07-23 18:07:43,592 | fed_df.py:194 | Number of selected crops : 4128
DEBUG flwr 2023-07-23 18:07:45,271 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=854192)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 18:09:12,660 | server.py:229 | fit_round 24 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=854190)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=854192)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=854262)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=854263)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=854193)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=854189)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=854261)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=854264)[0m Fitting Client 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=854264)[0m malloc_consolidate(): invalid chunk size
E0723 18:09:13.806925534  795967 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=854190)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=854261)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=854193)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=854262)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=854263)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=854189)[0m malloc_consolidate(): invalid chunk size
E0723 18:09:23.607301934 1023256 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.142302435323596, val accuracy : 0.5506780791462872, best val accuracy : 0.6577367718986216
Average local training loss : 4.561243579443544
Average local training accuracy : 0.9466481481481482
INFO flwr 2023-07-23 18:11:06,477 | server.py:116 | fit progress: (24, 4.2005149161251145, {'server_test_acc': 0.6403899721448468}, 4963.487845003023)
INFO flwr 2023-07-23 18:11:06,477 | server.py:163 | evaluate_round 24: no clients selected, cancel
Cluster score for round 25 = 177961.46875
INFO flwr 2023-07-23 18:11:14,800 | fed_df.py:194 | Number of selected crops : 3000
DEBUG flwr 2023-07-23 18:11:16,231 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1220538)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1220541)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1220539)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1220467)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-23 18:12:43,827 | server.py:229 | fit_round 25 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1220468)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1220463)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1220538)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1220541)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1220539)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1220540)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1220504)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1220467)[0m Fitting Client 7
Warm start at round 25
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1220463)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1220504)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1220540)[0m double free or corruption (fasttop)
E0723 18:12:45.011933026 1367222 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1220468)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.3883598195314407, val accuracy : 0.5068474877723432, best val accuracy : 0.5393508225878169
Average local training loss : 4.469134936947375
Average local training accuracy : 0.9521597222222222
INFO flwr 2023-07-23 18:15:15,627 | server.py:116 | fit progress: (25, 4.073198088430761, {'server_test_acc': 0.46963788300835657}, 5212.637777311029)
INFO flwr 2023-07-23 18:15:15,627 | server.py:163 | evaluate_round 25: no clients selected, cancel
Cluster score for round 26 = 51470.8671875
INFO flwr 2023-07-23 18:15:24,103 | fed_df.py:194 | Number of selected crops : 5144
DEBUG flwr 2023-07-23 18:15:26,008 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1645537)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1645467)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1645536)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1645609)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:16:53,756 | server.py:229 | fit_round 26 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1645608)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1645467)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1645537)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1645606)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1645609)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1645605)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1645536)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1645607)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1645608)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1645605)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1645606)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1645607)[0m malloc_consolidate(): invalid chunk size
E0723 18:16:57.612663192 1367670 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.20751155430078508, val accuracy : 0.4420853712761227, best val accuracy : 0.46854157403290353
Average local training loss : 4.219115796126425
Average local training accuracy : 0.965650462962963
INFO flwr 2023-07-23 18:18:31,516 | server.py:116 | fit progress: (26, 5.0159647301379024, {'server_test_acc': 0.4750696378830084}, 5408.526776681014)
INFO flwr 2023-07-23 18:18:31,516 | server.py:163 | evaluate_round 26: no clients selected, cancel
Cluster score for round 27 = 82136.2265625
INFO flwr 2023-07-23 18:18:39,762 | fed_df.py:194 | Number of selected crops : 5210
DEBUG flwr 2023-07-23 18:18:41,695 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1979108)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1979034)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1979106)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1979107)[0m corrupted size vs. prev_size in fastbins
DEBUG flwr 2023-07-23 18:20:09,239 | server.py:229 | fit_round 27 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1979036)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1979034)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1979106)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1979176)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1979108)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1979107)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1979178)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1979177)[0m Fitting Client 0
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1979177)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1979036)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1979178)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1979176)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.1117460590004921, val accuracy : 0.6817363272565585, best val accuracy : 0.7346598488216985
Average local training loss : 4.306162147782743
Average local training accuracy : 0.9605216049382715
INFO flwr 2023-07-23 18:21:45,179 | server.py:116 | fit progress: (27, 2.419677022307032, {'server_test_acc': 0.7949860724233984}, 5602.1894355990225)
INFO flwr 2023-07-23 18:21:45,179 | server.py:163 | evaluate_round 27: no clients selected, cancel
Cluster score for round 28 = 114354.96875
INFO flwr 2023-07-23 18:21:53,734 | fed_df.py:194 | Number of selected crops : 4138
DEBUG flwr 2023-07-23 18:21:55,414 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2310226)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2310063)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2310137)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:23:23,952 | server.py:229 | fit_round 28 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2310136)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2310062)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2310132)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2310063)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2310134)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2310137)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2310136)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2310226)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2310225)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2310225)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2310062)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2310132)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2310134)[0m double free or corruption (fasttop)
E0723 18:23:31.591662529 2465915 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0723 18:24:31.301565614 2499051 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.045698909662663934, val accuracy : 0.664495331258337, best val accuracy : 0.7116496220542463
Average local training loss : 4.293832015339285
Average local training accuracy : 0.9618804012345679
INFO flwr 2023-07-23 18:25:14,933 | server.py:116 | fit progress: (28, 2.6372879583523465, {'server_test_acc': 0.7098885793871866}, 5811.943630578055)
INFO flwr 2023-07-23 18:25:14,933 | server.py:163 | evaluate_round 28: no clients selected, cancel
Cluster score for round 29 = 133221.890625
INFO flwr 2023-07-23 18:25:23,435 | fed_df.py:194 | Number of selected crops : 4013
DEBUG flwr 2023-07-23 18:25:25,114 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2693502)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2693570)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2693573)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2693574)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:26:52,925 | server.py:229 | fit_round 29 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2693502)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2693572)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2693574)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2693573)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2693575)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2693570)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2693499)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2693501)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2693572)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2693501)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2693575)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2693499)[0m malloc_consolidate(): invalid chunk size
E0723 18:26:55.295546622 2853354 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.20236501270532609, val accuracy : 0.6327034237438862, best val accuracy : 0.6649622054246331
Average local training loss : 4.315152385924011
Average local training accuracy : 0.9607368827160494
INFO flwr 2023-07-23 18:28:53,559 | server.py:116 | fit progress: (29, 1.9998465112988995, {'server_test_acc': 0.6486072423398329}, 6030.570266088005)
INFO flwr 2023-07-23 18:28:53,560 | server.py:163 | evaluate_round 29: no clients selected, cancel
Cluster score for round 30 = 129689.84375
INFO flwr 2023-07-23 18:29:01,923 | fed_df.py:194 | Number of selected crops : 3000
DEBUG flwr 2023-07-23 18:29:03,394 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3053558)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3053560)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-23 18:30:30,416 | server.py:229 | fit_round 30 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3053552)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3053549)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3053557)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3053556)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3053558)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3053560)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3053559)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3053553)[0m Fitting Client 17
Warm start at round 30
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3053559)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3053557)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3053549)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3053552)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3053556)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3053553)[0m double free or corruption (fasttop)
E0723 18:30:33.492780529 2853989 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0723 18:32:28.340112730 3394834 chttp2_transport.cc:1079]             ipv4:145.136.62.46:54857: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.20498563760519029, val accuracy : 0.5026233881725212, best val accuracy : 0.5491329479768786
Average local training loss : 4.300246789399534
Average local training accuracy : 0.9609814814814814
INFO flwr 2023-07-23 18:32:59,122 | server.py:116 | fit progress: (30, 7.959445158020699, {'server_test_acc': 0.5174094707520891}, 6276.132959818002)
INFO flwr 2023-07-23 18:32:59,122 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-07-23 18:32:59,122 | server.py:144 | FL finished in 6276.133356081031
INFO flwr 2023-07-23 18:32:59,123 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-07-23 18:32:59,124 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-07-23 18:32:59,124 | app.py:204 | app_fit: losses_centralized [(0, 2.1845225108367154), (1, 2.2363319450102144), (2, 4.710862022123629), (3, 6.454305754000098), (4, 5.3117500485816045), (5, 7.007370093938036), (6, 8.462773198204784), (7, 12.609033536778187), (8, 4.4291793042238705), (9, 1.984264323837578), (10, 7.5955972352731855), (11, 17.601955887733396), (12, 8.670167956976506), (13, 5.6099150846263495), (14, 3.7001309344363413), (15, 13.266670607457918), (16, 11.416837370296042), (17, 5.4998024921895405), (18, 7.199896786405516), (19, 3.5978233108945545), (20, 11.317824271794482), (21, 3.9103935775650576), (22, 4.718483956212121), (23, 3.297307305880576), (24, 4.2005149161251145), (25, 4.073198088430761), (26, 5.0159647301379024), (27, 2.419677022307032), (28, 2.6372879583523465), (29, 1.9998465112988995), (30, 7.959445158020699)]
INFO flwr 2023-07-23 18:32:59,124 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.11030640668523677), (1, 0.3828690807799443), (2, 0.4105849582172702), (3, 0.27019498607242337), (4, 0.43036211699164345), (5, 0.2243732590529248), (6, 0.31100278551532035), (7, 0.16852367688022285), (8, 0.25974930362116994), (9, 0.4147632311977716), (10, 0.3115598885793872), (11, 0.2958217270194986), (12, 0.40264623955431755), (13, 0.25431754874651813), (14, 0.402924791086351), (15, 0.29749303621169915), (16, 0.3066852367688022), (17, 0.22242339832869082), (18, 0.3267409470752089), (19, 0.333008356545961), (20, 0.3892757660167131), (21, 0.6076601671309192), (22, 0.6001392757660167), (23, 0.5984679665738162), (24, 0.6403899721448468), (25, 0.46963788300835657), (26, 0.4750696378830084), (27, 0.7949860724233984), (28, 0.7098885793871866), (29, 0.6486072423398329), (30, 0.5174094707520891)]}
malloc_consolidate(): invalid chunk size
srun: error: gcn46: task 0: Aborted
srun: Terminating StepId=3126788.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3126788
Cluster: snellius
User/Group: sunnys/sunnys
State: COMPLETED (exit code 0)
Nodes: 1
Cores per node: 18
CPU Utilized: 03:48:12
CPU Efficiency: 11.73% of 1-08:25:48 core-walltime
Job Wall-clock time: 01:48:06
Memory Utilized: 54.66 GB
Memory Efficiency: 45.55% of 120.00 GB
