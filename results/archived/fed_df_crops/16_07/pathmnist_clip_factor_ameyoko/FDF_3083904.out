-----BEGIN-----
-----SETTINGS-----
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:pathmnist
PARTITION_ALPHA:1.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:40
LOCAL_LR:0.05
DISTILL_BATCH_SIZE:512
SERVER_LR:0.005
SERVER_STEPS:500
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
SEED:42
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:ameyoko.jpg
DISTILL_DATASET:cifar100
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:10000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:5
KMEANS_N_CLUSTER:20
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
CLIPPING_FACTOR:3.0
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=100000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/ameyoko.jpg', targetpath='/scratch-local/sunnys.3083904/1689524612_964186024', seed=42, img_per_thread=5555)
will save 100000 patches in /scratch-local/sunnys.3083904/1689524612_964186024/single_img_crops/crops
100000 took 0.79min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-07-16 18:24:38,016 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-07-16 18:24:38,017 | simulate.py:55 | Reading args from argument parser
Downloading https://zenodo.org/record/6496656/files/pathmnist.npz?download=1 to /scratch-local/sunnys.3083904/1689524612_964186024/pathmnist.npz
Generating unified pathmnist dataset
Class histogram for 0-th partition (alpha=1.0, 9 classes): [ 797  772  834   92   22  456  457 1046   24]
INFO flwr 2023-07-16 18:25:09,849 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-07-16 18:25:12,934	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8265 [39m[22m
INFO flwr 2023-07-16 18:25:14,914 | app.py:179 | Flower VCE: Ray initialized with resources: {'GPU': 1.0, 'node:145.136.62.21': 1.0, 'memory': 103079215104.0, 'object_store_memory': 61847529062.0, 'CPU': 18.0, 'accelerator_type:A100': 1.0}
INFO flwr 2023-07-16 18:25:14,915 | server.py:86 | Initializing global parameters
INFO flwr 2023-07-16 18:25:14,915 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-07-16 18:25:14,915 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-07-16 18:25:21,488 | server.py:91 | initial parameters (loss, other metrics): 2.1845225108367154, {'server_test_acc': 0.11030640668523677}
INFO flwr 2023-07-16 18:25:21,488 | server.py:101 | FL starting
DEBUG flwr 2023-07-16 18:25:29,243 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1587317)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1587334)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1587336)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1587329)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1587331)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1587309)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-16 18:26:51,218 | server.py:229 | fit_round 1 received 8 results and 0 failures
Cluster score for round 1 = 3123.18359375
[2m[36m(launch_and_fit pid=1587308)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1587336)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1587309)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1587317)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1587334)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1587329)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1587325)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1587331)[0m Fitting Client 13
Warm start at round 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1587308)[0m malloc_consolidate(): invalid chunk size
E0716 18:26:52.237011223 1583701 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
E0716 18:26:52.237200210 1583701 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
E0716 18:26:52.237216291 1583701 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
E0716 18:26:52.237225652 1583701 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
E0716 18:26:52.237235506 1583701 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
E0716 18:26:52.237245412 1583701 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
[2m[36m(launch_and_fit pid=1587325)[0m malloc_consolidate(): invalid chunk size
E0716 18:26:53.064483616 1769369 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.34666508895158765, val accuracy : 0.3454201867496665, best val accuracy : 0.3860604713205869
Average local training loss : 6.786133170407265
Average local training accuracy : 0.7646257716049383
INFO flwr 2023-07-16 18:27:42,762 | server.py:116 | fit progress: (1, 2.726646594682444, {'server_test_acc': 0.36309192200557106}, 141.27427191194147)
INFO flwr 2023-07-16 18:27:42,762 | server.py:163 | evaluate_round 1: no clients selected, cancel
DEBUG flwr 2023-07-16 18:27:50,692 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1862116)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1861924)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1861925)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1861950)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-16 18:29:08,837 | server.py:229 | fit_round 2 received 8 results and 0 failures
Cluster score for round 2 = 147563.109375
[2m[36m(launch_and_fit pid=1861927)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1861950)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1861928)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1862116)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1861924)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1861925)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1862093)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1862115)[0m Fitting Client 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1861927)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1861928)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1862115)[0m double free or corruption (fasttop)
E0716 18:29:09.882678753 1770978 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
[2m[36m(launch_and_fit pid=1862093)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.3216456086039543, val accuracy : 0.326111605157848, best val accuracy : 0.3979546465095598
Average local training loss : 5.623145899455994
Average local training accuracy : 0.8211512345679012
INFO flwr 2023-07-16 18:30:04,542 | server.py:116 | fit progress: (2, 2.7351277088388426, {'server_test_acc': 0.3181058495821727}, 283.05395504797343)
INFO flwr 2023-07-16 18:30:04,542 | server.py:163 | evaluate_round 2: no clients selected, cancel
DEBUG flwr 2023-07-16 18:30:12,591 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2136964)[0m corrupted size vs. prev_size in fastbins
DEBUG flwr 2023-07-16 18:31:28,477 | server.py:229 | fit_round 3 received 8 results and 0 failures
Cluster score for round 3 = 149012.28125
[2m[36m(launch_and_fit pid=2136954)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2136956)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2136960)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2136959)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2136962)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2136961)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2136963)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2136964)[0m Fitting Client 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2136962)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2136956)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2136959)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2136963)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2136954)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2136961)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2136960)[0m malloc_consolidate(): invalid chunk size
E0716 18:31:30.573623613 2044105 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.32478890687227246, val accuracy : 0.2165629168519342, best val accuracy : 0.2694530902623388
Average local training loss : 5.73454118296504
Average local training accuracy : 0.8167831790123458
INFO flwr 2023-07-16 18:32:24,362 | server.py:116 | fit progress: (3, 2.606386234634102, {'server_test_acc': 0.21768802228412257}, 422.87395699799526)
INFO flwr 2023-07-16 18:32:24,362 | server.py:163 | evaluate_round 3: no clients selected, cancel
DEBUG flwr 2023-07-16 18:32:32,494 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2438628)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2438635)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2438636)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2438631)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2438634)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-16 18:33:48,785 | server.py:229 | fit_round 4 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2438633)[0m double free or corruption (fasttop)
Cluster score for round 4 = 121372.6875
[2m[36m(launch_and_fit pid=2438628)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2438631)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2438633)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2438635)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2438636)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2438637)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2438630)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2438634)[0m Fitting Client 13
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2438630)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2438637)[0m corrupted size vs. prev_size in fastbins
E0716 18:33:50.854460790 2335820 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.334176012635231, val accuracy : 0.2984882169853268, best val accuracy : 0.3554913294797688
Average local training loss : 5.609028801787645
Average local training accuracy : 0.8208086419753086
INFO flwr 2023-07-16 18:34:46,469 | server.py:116 | fit progress: (4, 3.1967228493650643, {'server_test_acc': 0.4292479108635098}, 564.9815693169367)
INFO flwr 2023-07-16 18:34:46,470 | server.py:163 | evaluate_round 4: no clients selected, cancel
DEBUG flwr 2023-07-16 18:34:54,572 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-16 18:36:44,379 | server.py:229 | fit_round 5 received 8 results and 0 failures
Cluster score for round 5 = 150781.90625
[2m[36m(launch_and_fit pid=2713533)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2713536)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2713534)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2713531)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2713537)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2713535)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2713538)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2713532)[0m Fitting Client 12
Warm start at round 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2713536)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2713533)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2713538)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2713535)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2713537)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2713532)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2713534)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2713531)[0m malloc_consolidate(): invalid chunk size
E0716 18:36:48.452649801 2617650 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.4022406386733055, val accuracy : 0.3031680746998666, best val accuracy : 0.35048910626945307
Average local training loss : 5.692207261919975
Average local training accuracy : 0.8194212962962963
INFO flwr 2023-07-16 18:37:40,524 | server.py:116 | fit progress: (5, 4.368406101853735, {'server_test_acc': 0.3525069637883008}, 739.0359490360133)
INFO flwr 2023-07-16 18:37:40,524 | server.py:163 | evaluate_round 5: no clients selected, cancel
DEBUG flwr 2023-07-16 18:37:48,673 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2988277)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2988280)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2988278)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2988276)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-16 18:39:05,374 | server.py:229 | fit_round 6 received 8 results and 0 failures
Cluster score for round 6 = 76256.734375
[2m[36m(launch_and_fit pid=2988280)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2988279)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2988277)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2988283)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2988281)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2988278)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2988282)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2988276)[0m Fitting Client 10
Performing server side distillation training...
E0716 18:39:06.077546586 2899548 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
[2m[36m(launch_and_fit pid=2988279)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2988282)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2988283)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2988281)[0m corrupted size vs. prev_size in fastbins
Distillation training stopped at step number : 500
Average fusion training loss : 0.34049129074811935, val accuracy : 0.41121609604268566, best val accuracy : 0.4265228990662517
Average local training loss : 4.977588647231459
Average local training accuracy : 0.8592492283950617
INFO flwr 2023-07-16 18:40:05,084 | server.py:116 | fit progress: (6, 2.916665117587884, {'server_test_acc': 0.3277158774373259}, 883.5965231539449)
INFO flwr 2023-07-16 18:40:05,084 | server.py:163 | evaluate_round 6: no clients selected, cancel
DEBUG flwr 2023-07-16 18:40:13,264 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3266392)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-16 18:41:31,656 | server.py:229 | fit_round 7 received 8 results and 0 failures
Cluster score for round 7 = 69702.7421875
[2m[36m(launch_and_fit pid=3266385)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3266387)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3266391)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3266386)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3266390)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3266388)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3266392)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3266389)[0m Fitting Client 18
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3266390)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3266385)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3266387)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3266386)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3266389)[0m malloc_consolidate(): invalid chunk size
E0716 18:41:33.863871809 3448770 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
[2m[36m(launch_and_fit pid=3266391)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3266388)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.26144052791595457, val accuracy : 0.4232103156958648, best val accuracy : 0.4393063583815029
Average local training loss : 4.785683384165169
Average local training accuracy : 0.8693063271604938
INFO flwr 2023-07-16 18:42:29,423 | server.py:116 | fit progress: (7, 4.024065474082501, {'server_test_acc': 0.400974930362117}, 1027.9348073069705)
INFO flwr 2023-07-16 18:42:29,423 | server.py:163 | evaluate_round 7: no clients selected, cancel
DEBUG flwr 2023-07-16 18:42:37,562 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3540961)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3540962)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3540960)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3540958)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-16 18:43:54,193 | server.py:229 | fit_round 8 received 8 results and 0 failures
Cluster score for round 8 = 94617.3359375
[2m[36m(launch_and_fit pid=3540957)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3540959)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3540961)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3540955)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3540956)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3540958)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3540960)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3540962)[0m Fitting Client 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3540957)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3540959)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3540955)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3540956)[0m malloc_consolidate(): invalid chunk size
E0716 18:43:57.082297027 3449309 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.37869138437509536, val accuracy : 0.3253334815473544, best val accuracy : 0.3601600711427301
Average local training loss : 5.041757058352232
Average local training accuracy : 0.8555308641975308
INFO flwr 2023-07-16 18:44:53,640 | server.py:116 | fit progress: (8, 4.336053611309083, {'server_test_acc': 0.23718662952646238}, 1172.1522677559406)
INFO flwr 2023-07-16 18:44:53,640 | server.py:163 | evaluate_round 8: no clients selected, cancel
DEBUG flwr 2023-07-16 18:45:01,825 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3819075)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-16 18:46:22,048 | server.py:229 | fit_round 9 received 8 results and 0 failures
Cluster score for round 9 = 89165.890625
[2m[36m(launch_and_fit pid=3819076)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3819073)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3819072)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3819075)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3819071)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3819074)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3819070)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3819068)[0m Fitting Client 3
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3819074)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3819072)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3819071)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3819068)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3819073)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3819070)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3819076)[0m malloc_consolidate(): invalid chunk size
E0716 18:46:24.975369793 4007555 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.30021760693192484, val accuracy : 0.3846376167185416, best val accuracy : 0.40251222765673633
Average local training loss : 5.016751011274755
Average local training accuracy : 0.8585339506172839
INFO flwr 2023-07-16 18:47:23,017 | server.py:116 | fit progress: (9, 3.6169527574501994, {'server_test_acc': 0.3977715877437326}, 1321.5294794950169)
INFO flwr 2023-07-16 18:47:23,017 | server.py:163 | evaluate_round 9: no clients selected, cancel
DEBUG flwr 2023-07-16 18:47:31,249 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=4134139)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4134138)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-16 18:48:48,488 | server.py:229 | fit_round 10 received 8 results and 0 failures
Cluster score for round 10 = 91576.875
[2m[36m(launch_and_fit pid=4134138)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=4134133)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=4134136)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=4134139)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=4134137)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=4134141)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=4134142)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=4134140)[0m Fitting Client 12
Warm start at round 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=4134133)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4134140)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4134142)[0m malloc_consolidate(): invalid chunk size
E0716 18:48:49.959765867  117436 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
[2m[36m(launch_and_fit pid=4134141)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4134137)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4134136)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.35300453209877014, val accuracy : 0.3562027567807915, best val accuracy : 0.42852378835037797
Average local training loss : 4.993298095650971
Average local training accuracy : 0.858258487654321
INFO flwr 2023-07-16 18:49:47,074 | server.py:116 | fit progress: (10, 5.820360639035536, {'server_test_acc': 0.36532033426183846}, 1465.5860321419314)
INFO flwr 2023-07-16 18:49:47,074 | server.py:163 | evaluate_round 10: no clients selected, cancel
DEBUG flwr 2023-07-16 18:49:55,220 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=215834)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=215843)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=215849)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=215845)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-16 18:51:12,858 | server.py:229 | fit_round 11 received 8 results and 0 failures
Cluster score for round 11 = 64452.6015625
[2m[36m(launch_and_fit pid=215834)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=215843)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=215845)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=215850)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=215846)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=215847)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=215848)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=215849)[0m Fitting Client 9
Performing server side distillation training...
[2m[36m(launch_and_fit pid=215850)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=215848)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=215847)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=215846)[0m double free or corruption (fasttop)
E0716 18:51:15.937142704  396053 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
E0716 18:51:28.101154327  415007 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.28553251776099203, val accuracy : 0.33431525122276573, best val accuracy : 0.368830591373944
Average local training loss : 4.107577265705913
Average local training accuracy : 0.9063171296296296
INFO flwr 2023-07-16 18:52:12,174 | server.py:116 | fit progress: (11, 3.9897638745958757, {'server_test_acc': 0.30139275766016715}, 1610.6860353209777)
INFO flwr 2023-07-16 18:52:12,174 | server.py:163 | evaluate_round 11: no clients selected, cancel
DEBUG flwr 2023-07-16 18:52:20,353 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=492667)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=492657)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=492664)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=492666)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=492661)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-16 18:53:38,574 | server.py:229 | fit_round 12 received 8 results and 0 failures
Cluster score for round 12 = 74445.34375
[2m[36m(launch_and_fit pid=492667)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=492664)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=492661)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=492663)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=492659)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=492657)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=492665)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=492666)[0m Fitting Client 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=492663)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=492665)[0m malloc_consolidate(): invalid chunk size
E0716 18:53:39.567940663  667345 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
[2m[36m(launch_and_fit pid=492659)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.2673173424601555, val accuracy : 0.4167963539350822, best val accuracy : 0.4627612272120943
Average local training loss : 4.079820099379868
Average local training accuracy : 0.9089621913580247
INFO flwr 2023-07-16 18:54:38,628 | server.py:116 | fit progress: (12, 3.6706867834319645, {'server_test_acc': 0.4940111420612813}, 1757.1404246019665)
INFO flwr 2023-07-16 18:54:38,628 | server.py:163 | evaluate_round 12: no clients selected, cancel
DEBUG flwr 2023-07-16 18:54:46,880 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=768801)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=768806)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-16 18:56:02,192 | server.py:229 | fit_round 13 received 8 results and 0 failures
Cluster score for round 13 = 73143.0078125
[2m[36m(launch_and_fit pid=768801)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=768810)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=768809)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=768803)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=768804)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=768807)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=768808)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=768806)[0m Fitting Client 11
Performing server side distillation training...
[2m[36m(launch_and_fit pid=768807)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=768804)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=768808)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=768809)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=768803)[0m malloc_consolidate(): invalid chunk size
E0716 18:56:03.852863945  943890 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
[2m[36m(launch_and_fit pid=768810)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.2793653724789619, val accuracy : 0.3690417963539351, best val accuracy : 0.39839928857269896
Average local training loss : 4.055515995062888
Average local training accuracy : 0.9100625000000001
INFO flwr 2023-07-16 18:57:01,692 | server.py:116 | fit progress: (13, 2.9956365420625732, {'server_test_acc': 0.3040389972144847}, 1900.204743537004)
INFO flwr 2023-07-16 18:57:01,693 | server.py:163 | evaluate_round 13: no clients selected, cancel
DEBUG flwr 2023-07-16 18:57:10,059 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1043104)[0m corrupted size vs. prev_size in fastbins
DEBUG flwr 2023-07-16 18:58:24,848 | server.py:229 | fit_round 14 received 8 results and 0 failures
Cluster score for round 14 = 79968.0625
[2m[36m(launch_and_fit pid=1043103)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1043104)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1043105)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1043106)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1043110)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1043109)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1043108)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1043107)[0m Fitting Client 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1043103)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1043106)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1043108)[0m double free or corruption (fasttop)
E0716 18:58:26.024425636  944079 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
[2m[36m(launch_and_fit pid=1043105)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1043109)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1043110)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1043107)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.3058881790339947, val accuracy : 0.38040240106714096, best val accuracy : 0.45431302801245
Average local training loss : 4.281915578059852
Average local training accuracy : 0.897207561728395
INFO flwr 2023-07-16 18:59:24,531 | server.py:116 | fit progress: (14, 2.3582928415792566, {'server_test_acc': 0.40459610027855153}, 2043.0431858289521)
INFO flwr 2023-07-16 18:59:24,531 | server.py:163 | evaluate_round 14: no clients selected, cancel
DEBUG flwr 2023-07-16 18:59:33,059 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1317963)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1317966)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1317968)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1317969)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-16 19:00:49,114 | server.py:229 | fit_round 15 received 8 results and 0 failures
Cluster score for round 15 = 65430.24609375
[2m[36m(launch_and_fit pid=1317963)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1317966)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1317968)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1317967)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1317971)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1317970)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1317969)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1317972)[0m Fitting Client 16
Warm start at round 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1317967)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1317970)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1317971)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1317972)[0m malloc_consolidate(): invalid chunk size
E0716 19:00:52.372704520 1492399 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.3131028081178665, val accuracy : 0.25947087594486434, best val accuracy : 0.2840151178301467
Average local training loss : 4.487508291658014
Average local training accuracy : 0.8873233024691359
INFO flwr 2023-07-16 19:01:48,035 | server.py:116 | fit progress: (15, 4.023176949801219, {'server_test_acc': 0.2523676880222841}, 2186.5470347669907)
INFO flwr 2023-07-16 19:01:48,035 | server.py:163 | evaluate_round 15: no clients selected, cancel
DEBUG flwr 2023-07-16 19:01:56,187 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1594251)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1594255)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-16 19:03:11,975 | server.py:229 | fit_round 16 received 8 results and 0 failures
Cluster score for round 16 = 65334.47265625
[2m[36m(launch_and_fit pid=1594247)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1594251)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1594249)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1594255)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1594258)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1594254)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1594256)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1594257)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1594249)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1594254)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1594256)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1594247)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1594258)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1594257)[0m double free or corruption (fasttop)
E0716 19:03:14.283543014 1787963 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.3628185319304466, val accuracy : 0.40327923521565145, best val accuracy : 0.4556469542018675
Average local training loss : 3.741560343746096
Average local training accuracy : 0.9261304012345679
INFO flwr 2023-07-16 19:04:11,494 | server.py:116 | fit progress: (16, 2.5187280893989925, {'server_test_acc': 0.44261838440111423}, 2330.006128803012)
INFO flwr 2023-07-16 19:04:11,494 | server.py:163 | evaluate_round 16: no clients selected, cancel
DEBUG flwr 2023-07-16 19:04:19,684 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1896335)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1896342)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1896340)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1896332)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-16 19:05:36,195 | server.py:229 | fit_round 17 received 8 results and 0 failures
Cluster score for round 17 = 50344.76171875
[2m[36m(launch_and_fit pid=1896335)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1896333)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1896332)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1896340)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1896339)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1896343)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1896341)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1896342)[0m Fitting Client 18
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1896339)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1896341)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1896343)[0m double free or corruption (fasttop)
E0716 19:05:37.452579756 1789980 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1896333)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.3066906517744064, val accuracy : 0.3751000444642063, best val accuracy : 0.4222987994664295
Average local training loss : 3.7619900016114114
Average local training accuracy : 0.9249930555555556
INFO flwr 2023-07-16 19:06:35,838 | server.py:116 | fit progress: (17, 2.8779939577107974, {'server_test_acc': 0.3785515320334262}, 2474.3499117189785)
INFO flwr 2023-07-16 19:06:35,838 | server.py:163 | evaluate_round 17: no clients selected, cancel
DEBUG flwr 2023-07-16 19:06:44,238 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2170894)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2170897)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-16 19:07:59,419 | server.py:229 | fit_round 18 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2170895)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2170899)[0m malloc_consolidate(): invalid chunk size
Cluster score for round 18 = 89775.109375
[2m[36m(launch_and_fit pid=2170894)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2170897)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2170900)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2170899)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2170901)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2170902)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2170895)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2170898)[0m Fitting Client 18
Performing server side distillation training...
E0716 19:08:00.196774002 2070915 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2170900)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2170898)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2170901)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2170902)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.3225494210124016, val accuracy : 0.3324366385060027, best val accuracy : 0.37616718541574035
Average local training loss : 3.87499467022717
Average local training accuracy : 0.919307098765432
INFO flwr 2023-07-16 19:08:58,491 | server.py:116 | fit progress: (18, 3.029249295417977, {'server_test_acc': 0.4401114206128134}, 2617.0031184359686)
INFO flwr 2023-07-16 19:08:58,491 | server.py:163 | evaluate_round 18: no clients selected, cancel
DEBUG flwr 2023-07-16 19:09:06,734 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2445535)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2445540)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2445539)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2445537)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-16 19:10:23,351 | server.py:229 | fit_round 19 received 8 results and 0 failures
Cluster score for round 19 = 72910.53125
[2m[36m(launch_and_fit pid=2445535)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2445538)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2445536)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2445542)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2445537)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2445539)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2445540)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2445541)[0m Fitting Client 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2445542)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2445538)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2445541)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2445536)[0m double free or corruption (fasttop)
E0716 19:10:25.884217560 2623474 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.39807005125284195, val accuracy : 0.29168519341929744, best val accuracy : 0.3191418408181414
Average local training loss : 3.869452348351479
Average local training accuracy : 0.9198217592592592
INFO flwr 2023-07-16 19:11:23,036 | server.py:116 | fit progress: (19, 4.816492894632239, {'server_test_acc': 0.2690807799442897}, 2761.548693715944)
INFO flwr 2023-07-16 19:11:23,037 | server.py:163 | evaluate_round 19: no clients selected, cancel
DEBUG flwr 2023-07-16 19:11:31,454 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2720521)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2720525)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-16 19:12:47,168 | server.py:229 | fit_round 20 received 8 results and 0 failures
Cluster score for round 20 = 65716.109375
[2m[36m(launch_and_fit pid=2720521)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2720524)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2720525)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2720526)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2720528)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2720527)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2720529)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2720530)[0m Fitting Client 3
Warm start at round 20
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2720529)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2720524)[0m malloc_consolidate(): invalid chunk size
E0716 19:12:48.421382767 2624138 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2720527)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2720530)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2720526)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2720528)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.37387113910913466, val accuracy : 0.26180524677634504, best val accuracy : 0.3570475767007559
Average local training loss : 3.929536727629602
Average local training accuracy : 0.9170138888888889
INFO flwr 2023-07-16 19:13:46,705 | server.py:116 | fit progress: (20, 5.401835468685395, {'server_test_acc': 0.27618384401114204}, 2905.2176702889847)
INFO flwr 2023-07-16 19:13:46,706 | server.py:163 | evaluate_round 20: no clients selected, cancel
DEBUG flwr 2023-07-16 19:13:54,958 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2995041)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2995040)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-16 19:15:10,480 | server.py:229 | fit_round 21 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2995050)[0m malloc_consolidate(): invalid chunk size
Cluster score for round 21 = 42915.6328125
[2m[36m(launch_and_fit pid=2995041)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2995040)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2995043)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2995046)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2995050)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2995049)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2995047)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2995048)[0m Fitting Client 3
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2995043)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2995047)[0m malloc_consolidate(): invalid chunk size
E0716 19:15:11.425216495 3170627 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2995049)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2995046)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2995048)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.3438353232145309, val accuracy : 0.36234993330369053, best val accuracy : 0.40362383281458425
Average local training loss : 3.458791550341993
Average local training accuracy : 0.9414814814814815
INFO flwr 2023-07-16 19:16:10,362 | server.py:116 | fit progress: (21, 2.67209719389594, {'server_test_acc': 0.36782729805013925}, 3048.874426572933)
INFO flwr 2023-07-16 19:16:10,362 | server.py:163 | evaluate_round 21: no clients selected, cancel
DEBUG flwr 2023-07-16 19:16:18,711 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3269816)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3269813)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3269811)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3269817)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3269818)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-16 19:17:35,011 | server.py:229 | fit_round 22 received 8 results and 0 failures
Cluster score for round 22 = 51163.85546875
[2m[36m(launch_and_fit pid=3269813)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3269816)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3269815)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3269818)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3269819)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3269817)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3269811)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3269820)[0m Fitting Client 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3269819)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3269820)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3269815)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.38054414302110673, val accuracy : 0.2905624722098711, best val accuracy : 0.32592263228101376
Average local training loss : 3.5656061369925736
Average local training accuracy : 0.9360300925925927
INFO flwr 2023-07-16 19:18:34,260 | server.py:116 | fit progress: (22, 3.4114250608141377, {'server_test_acc': 0.3071030640668524}, 3192.771833413979)
INFO flwr 2023-07-16 19:18:34,260 | server.py:163 | evaluate_round 22: no clients selected, cancel
DEBUG flwr 2023-07-16 19:18:42,498 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-16 19:19:58,249 | server.py:229 | fit_round 23 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3571655)[0m double free or corruption (fasttop)
Cluster score for round 23 = 52220.015625
[2m[36m(launch_and_fit pid=3571654)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3571655)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3571650)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3571657)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=3571656)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3571652)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3571651)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3571658)[0m Fitting Client 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3571658)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3571654)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3571657)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3571652)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3571651)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3571650)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3571656)[0m malloc_consolidate(): invalid chunk size
E0716 19:20:16.709700553 3769758 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.3232886365354061, val accuracy : 0.363706091596265, best val accuracy : 0.378501556247221
Average local training loss : 3.5741772124543782
Average local training accuracy : 0.9355177469135804
INFO flwr 2023-07-16 19:20:57,999 | server.py:116 | fit progress: (23, 5.034437485591282, {'server_test_acc': 0.28871866295264625}, 3336.511016702978)
INFO flwr 2023-07-16 19:20:57,999 | server.py:163 | evaluate_round 23: no clients selected, cancel
DEBUG flwr 2023-07-16 19:21:06,176 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3846542)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3846550)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-16 19:22:21,330 | server.py:229 | fit_round 24 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3846547)[0m double free or corruption (fasttop)
Cluster score for round 24 = 73674.515625
[2m[36m(launch_and_fit pid=3846542)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3846547)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3846551)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3846548)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3846546)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3846552)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3846549)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3846550)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3846549)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3846548)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3846551)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3846546)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3846552)[0m malloc_consolidate(): invalid chunk size
E0716 19:22:23.486409158 4022546 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.34930447685718535, val accuracy : 0.43986216096042685, best val accuracy : 0.47610048910626945
Average local training loss : 3.6622542055323724
Average local training accuracy : 0.9313688271604939
INFO flwr 2023-07-16 19:23:21,483 | server.py:116 | fit progress: (24, 2.800069886529014, {'server_test_acc': 0.38440111420612816}, 3479.994895515032)
INFO flwr 2023-07-16 19:23:21,483 | server.py:163 | evaluate_round 24: no clients selected, cancel
DEBUG flwr 2023-07-16 19:23:29,842 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=4120119)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-16 19:24:44,921 | server.py:229 | fit_round 25 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=4120121)[0m malloc_consolidate(): invalid chunk size
Cluster score for round 25 = 73194.4375
[2m[36m(launch_and_fit pid=4120119)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=4120121)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=4120122)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=4120192)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=4120194)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=4120191)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=4120193)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=4120190)[0m Fitting Client 13
Warm start at round 25
Performing server side distillation training...
[2m[36m(launch_and_fit pid=4120194)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4120190)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4120122)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4120192)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4120191)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4120193)[0m malloc_consolidate(): invalid chunk size
E0716 19:24:47.762376337 4025076 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.3768467506766319, val accuracy : 0.3140284570920409, best val accuracy : 0.37105380168963986
Average local training loss : 3.4835935145616532
Average local training accuracy : 0.9400131172839508
INFO flwr 2023-07-16 19:25:44,459 | server.py:116 | fit progress: (25, 4.002203998725062, {'server_test_acc': 0.31323119777158775}, 3622.9708981609438)
INFO flwr 2023-07-16 19:25:44,459 | server.py:163 | evaluate_round 25: no clients selected, cancel
DEBUG flwr 2023-07-16 19:25:52,712 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=200258)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=200328)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-16 19:27:06,387 | server.py:229 | fit_round 26 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=200396)[0m malloc_consolidate(): invalid chunk size
Cluster score for round 26 = 39990.265625
[2m[36m(launch_and_fit pid=200258)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=200328)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=200256)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=200326)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=200396)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=200398)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=200397)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=200327)[0m Fitting Client 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=200398)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=200327)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=200397)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=200326)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=200256)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.3408226000666618, val accuracy : 0.41581814139617607, best val accuracy : 0.43352601156069365
Average local training loss : 3.261691490281373
Average local training accuracy : 0.9520802469135803
INFO flwr 2023-07-16 19:28:06,923 | server.py:116 | fit progress: (26, 4.897928853154514, {'server_test_acc': 0.3181058495821727}, 3765.4353707940318)
INFO flwr 2023-07-16 19:28:06,923 | server.py:163 | evaluate_round 26: no clients selected, cancel
DEBUG flwr 2023-07-16 19:28:15,164 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=457281)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=457282)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-16 19:29:30,155 | server.py:229 | fit_round 27 received 8 results and 0 failures
Cluster score for round 27 = 39325.9453125
[2m[36m(launch_and_fit pid=457281)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=457284)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=457283)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=457282)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=457352)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=457353)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=457070)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=457280)[0m Fitting Client 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=457353)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=457284)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=457283)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=457352)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=457070)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=457280)[0m malloc_consolidate(): invalid chunk size
E0716 19:29:32.453215421  100508 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.34072946906089785, val accuracy : 0.2982436638506003, best val accuracy : 0.3374833259226323
Average local training loss : 3.317478804383427
Average local training accuracy : 0.9488371913580248
INFO flwr 2023-07-16 19:30:30,124 | server.py:116 | fit progress: (27, 7.77044723319476, {'server_test_acc': 0.26991643454039}, 3908.6361922520446)
INFO flwr 2023-07-16 19:30:30,124 | server.py:163 | evaluate_round 27: no clients selected, cancel
DEBUG flwr 2023-07-16 19:30:38,326 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=727270)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=727266)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-16 19:31:52,683 | server.py:229 | fit_round 28 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=727272)[0m malloc_consolidate(): invalid chunk size
Cluster score for round 28 = 41806.9453125
[2m[36m(launch_and_fit pid=727266)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=727270)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=727272)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=727273)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=727344)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=727342)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=727274)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=727343)[0m Fitting Client 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=727274)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=727343)[0m double free or corruption (fasttop)
E0716 19:31:53.435155846  612564 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=727273)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=727344)[0m malloc_consolidate(): invalid chunk size
E0716 19:31:54.243137129  874407 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=727342)[0m malloc_consolidate(): invalid chunk size
E0716 19:32:39.720092862  876344 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.344608490228653, val accuracy : 0.4537683414851045, best val accuracy : 0.49610938194753224
Average local training loss : 3.310269843321293
Average local training accuracy : 0.9501188271604939
INFO flwr 2023-07-16 19:32:53,222 | server.py:116 | fit progress: (28, 3.5411209295054995, {'server_test_acc': 0.41086350974930363}, 4051.7341146620456)
INFO flwr 2023-07-16 19:32:53,222 | server.py:163 | evaluate_round 28: no clients selected, cancel
DEBUG flwr 2023-07-16 19:33:01,633 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1018511)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1018887)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1018513)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-16 19:34:16,620 | server.py:229 | fit_round 29 received 8 results and 0 failures
Cluster score for round 29 = 56024.078125
[2m[36m(launch_and_fit pid=1018511)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1018512)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1018513)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1018738)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1018873)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1018713)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1018886)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1018887)[0m Fitting Client 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1018873)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1018512)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1018713)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1018738)[0m double free or corruption (fasttop)
E0716 19:34:17.695836664  978511 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1018886)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.3183045588731766, val accuracy : 0.3851934192974655, best val accuracy : 0.4224099599822143
Average local training loss : 3.3546200999990106
Average local training accuracy : 0.9474521604938271
INFO flwr 2023-07-16 19:35:18,168 | server.py:116 | fit progress: (29, 6.012626041741757, {'server_test_acc': 0.35097493036211697}, 4196.680247221026)
INFO flwr 2023-07-16 19:35:18,168 | server.py:163 | evaluate_round 29: no clients selected, cancel
DEBUG flwr 2023-07-16 19:35:26,497 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-16 19:36:41,352 | server.py:229 | fit_round 30 received 8 results and 0 failures
Cluster score for round 30 = 64822.44921875
[2m[36m(launch_and_fit pid=1305577)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1305386)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1305454)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1305578)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1305574)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1305106)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1305107)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1305579)[0m Fitting Client 10
Warm start at round 30
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1305577)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1305579)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1305107)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1305578)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1305106)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1305454)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1305574)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1305386)[0m malloc_consolidate(): invalid chunk size
E0716 19:36:44.570412222 1177146 chttp2_transport.cc:1079]             ipv4:145.136.62.21:55425: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.34930131405591963, val accuracy : 0.2724433081369497, best val accuracy : 0.3700533570475767
Average local training loss : 3.3448344084434214
Average local training accuracy : 0.9479984567901235
INFO flwr 2023-07-16 19:37:43,825 | server.py:116 | fit progress: (30, 5.411740203687407, {'server_test_acc': 0.32827298050139275}, 4342.337403901038)
INFO flwr 2023-07-16 19:37:43,825 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-07-16 19:37:43,825 | server.py:144 | FL finished in 4342.337736472953
INFO flwr 2023-07-16 19:37:43,826 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-07-16 19:37:43,827 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-07-16 19:37:43,827 | app.py:204 | app_fit: losses_centralized [(0, 2.1845225108367154), (1, 2.726646594682444), (2, 2.7351277088388426), (3, 2.606386234634102), (4, 3.1967228493650643), (5, 4.368406101853735), (6, 2.916665117587884), (7, 4.024065474082501), (8, 4.336053611309083), (9, 3.6169527574501994), (10, 5.820360639035536), (11, 3.9897638745958757), (12, 3.6706867834319645), (13, 2.9956365420625732), (14, 2.3582928415792566), (15, 4.023176949801219), (16, 2.5187280893989925), (17, 2.8779939577107974), (18, 3.029249295417977), (19, 4.816492894632239), (20, 5.401835468685395), (21, 2.67209719389594), (22, 3.4114250608141377), (23, 5.034437485591282), (24, 2.800069886529014), (25, 4.002203998725062), (26, 4.897928853154514), (27, 7.77044723319476), (28, 3.5411209295054995), (29, 6.012626041741757), (30, 5.411740203687407)]
INFO flwr 2023-07-16 19:37:43,827 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.11030640668523677), (1, 0.36309192200557106), (2, 0.3181058495821727), (3, 0.21768802228412257), (4, 0.4292479108635098), (5, 0.3525069637883008), (6, 0.3277158774373259), (7, 0.400974930362117), (8, 0.23718662952646238), (9, 0.3977715877437326), (10, 0.36532033426183846), (11, 0.30139275766016715), (12, 0.4940111420612813), (13, 0.3040389972144847), (14, 0.40459610027855153), (15, 0.2523676880222841), (16, 0.44261838440111423), (17, 0.3785515320334262), (18, 0.4401114206128134), (19, 0.2690807799442897), (20, 0.27618384401114204), (21, 0.36782729805013925), (22, 0.3071030640668524), (23, 0.28871866295264625), (24, 0.38440111420612816), (25, 0.31323119777158775), (26, 0.3181058495821727), (27, 0.26991643454039), (28, 0.41086350974930363), (29, 0.35097493036211697), (30, 0.32827298050139275)]}
malloc_consolidate(): invalid chunk size
srun: error: gcn21: task 0: Aborted
srun: launch/slurm: _step_signal: Terminating StepId=3083904.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3083904
Cluster: snellius
User/Group: sunnys/sunnys
State: RUNNING
Nodes: 1
Cores per node: 18
CPU Utilized: 02:45:08
CPU Efficiency: 12.13% of 22:41:42 core-walltime
Job Wall-clock time: 01:15:39
Memory Utilized: 65.36 GB
Memory Efficiency: 54.47% of 120.00 GB
WARNING: Efficiency statistics may be misleading for RUNNING jobs.
