-----BEGIN-----
-----SETTINGS-----
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:cifar10
PARTITION_ALPHA:10.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:40
LOCAL_LR:0.05
DISTILL_BATCH_SIZE:512
SERVER_LR:0.005
SERVER_STEPS:500
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
SEED:1227
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:ameyoko.jpg
DISTILL_DATASET:cifar100
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:10000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:1
KMEANS_N_CLUSTER:50
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
CONFIDENCE_THRESHOLD:0.9
CONFIDENCE_MIN_CROPS:2500
CLIPPING_FACTOR:2.5
FEDPROX_FACTOR:1.0
FEDPROX_ADAPTIVE:False
USE_CLIPPING:True
USE_ENTROPY:True
USE_KMEANS:True
USE_FEDPROX:True
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=100000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/ameyoko.jpg', targetpath='/scratch-local/sunnys.3148262/1690337024_104876162', seed=1227, img_per_thread=5555)
will save 100000 patches in /scratch-local/sunnys.3148262/1690337024_104876162/single_img_crops/crops
100000 took 0.64min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-07-26 04:04:36,932 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-07-26 04:04:36,932 | simulate.py:55 | Reading args from argument parser
Downloading https://www.cs.toronto.edu/~kriz/cifar-10-python.tar.gz to /scratch-local/sunnys.3148262/1690337024_104876162/cifar-10-python.tar.gz
Extracting /scratch-local/sunnys.3148262/1690337024_104876162/cifar-10-python.tar.gz to /scratch-local/sunnys.3148262/1690337024_104876162
Generating unified cifar10 dataset
Class histogram for 0-th partition (alpha=10.0, 10 classes): [364 338 239 145 185 263 222 248 152 344]
INFO flwr 2023-07-26 04:06:54,496 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-07-26 04:06:57,304	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8265 [39m[22m
INFO flwr 2023-07-26 04:06:58,289 | app.py:179 | Flower VCE: Ray initialized with resources: {'accelerator_type:A100': 1.0, 'object_store_memory': 61847529062.0, 'CPU': 18.0, 'memory': 103079215104.0, 'node:145.136.62.71': 1.0, 'GPU': 1.0}
INFO flwr 2023-07-26 04:06:58,290 | server.py:86 | Initializing global parameters
INFO flwr 2023-07-26 04:06:58,290 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-07-26 04:06:58,290 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-07-26 04:07:06,877 | server.py:91 | initial parameters (loss, other metrics): 2.4661781799316405, {'server_test_acc': 0.0915}
INFO flwr 2023-07-26 04:07:06,877 | server.py:101 | FL starting
Cluster score for round 1 = 33547.0234375
INFO flwr 2023-07-26 04:07:14,079 | fed_df.py:217 | Number of selected crops : 10000
DEBUG flwr 2023-07-26 04:07:16,836 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2148319)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 04:08:37,804 | server.py:229 | fit_round 1 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2148318)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2148315)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2148314)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2148317)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2148321)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2148319)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2148316)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2148318)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2148320)[0m Fitting Client 16
Warm start at round 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2148320)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2148317)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2148314)[0m malloc_consolidate(): invalid chunk size
E0726 04:08:39.432737065 2145356 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
[2m[36m(launch_and_fit pid=2148316)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2148315)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2148321)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.3984024569988251, val accuracy : 0.38688, best val accuracy : 0.4154
Average local training loss : 8.512296057119965
Average local training accuracy : 0.41672499999999996
INFO flwr 2023-07-26 04:09:35,259 | server.py:116 | fit progress: (1, 1.8755222045898436, {'server_test_acc': 0.4216}, 148.3819383759983)
INFO flwr 2023-07-26 04:09:35,260 | server.py:163 | evaluate_round 1: no clients selected, cancel
Cluster score for round 2 = 86057.203125
INFO flwr 2023-07-26 04:09:43,047 | fed_df.py:217 | Number of selected crops : 6978
DEBUG flwr 2023-07-26 04:09:45,237 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 04:11:03,527 | server.py:229 | fit_round 2 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2286652)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2286650)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2286652)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2286651)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2286656)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2286654)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2286653)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2286655)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2286657)[0m Fitting Client 17
Warm start at round 2
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2286657)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2286656)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2286653)[0m malloc_consolidate(): invalid chunk size
E0726 04:11:04.984830996 2376739 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
[2m[36m(launch_and_fit pid=2286655)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2286650)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2286651)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2286654)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.04991468501091004, val accuracy : 0.5407400000000001, best val accuracy : 0.557
Average local training loss : 6.865492462739348
Average local training accuracy : 0.5833555555555556
INFO flwr 2023-07-26 04:12:19,134 | server.py:116 | fit progress: (2, 1.3747336517333983, {'server_test_acc': 0.5543}, 312.25631961098406)
INFO flwr 2023-07-26 04:12:19,134 | server.py:163 | evaluate_round 2: no clients selected, cancel
Cluster score for round 3 = 41132.10546875
INFO flwr 2023-07-26 04:12:27,063 | fed_df.py:217 | Number of selected crops : 7467
DEBUG flwr 2023-07-26 04:12:29,423 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2438334)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2438338)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 04:13:48,225 | server.py:229 | fit_round 3 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2438333)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2438334)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2438333)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2438338)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2438340)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2438335)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2438339)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2438337)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2438336)[0m Fitting Client 11
Warm start at round 3
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2438339)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2438335)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2438337)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2438340)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2438336)[0m malloc_consolidate(): invalid chunk size
E0726 04:13:51.185686748 2377075 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.02784370835032314, val accuracy : 0.6244200000000001, best val accuracy : 0.6348
Average local training loss : 5.291900881007313
Average local training accuracy : 0.7504347222222223
INFO flwr 2023-07-26 04:15:01,037 | server.py:116 | fit progress: (3, 1.3859152038574218, {'server_test_acc': 0.6346}, 474.159554534941)
INFO flwr 2023-07-26 04:15:01,037 | server.py:163 | evaluate_round 3: no clients selected, cancel
Cluster score for round 4 = 12381.380859375
INFO flwr 2023-07-26 04:15:08,963 | fed_df.py:217 | Number of selected crops : 8443
DEBUG flwr 2023-07-26 04:15:11,616 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2611480)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2611484)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 04:16:29,719 | server.py:229 | fit_round 4 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2611480)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2611484)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2611487)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2611488)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2611485)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2611490)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2611489)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2611486)[0m Fitting Client 1
Warm start at round 4
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2611488)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2611487)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2611485)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2611489)[0m malloc_consolidate(): invalid chunk size
E0726 04:16:30.889276163 2701510 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
[2m[36m(launch_and_fit pid=2611490)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2611486)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.02263440799806267, val accuracy : 0.6547000000000001, best val accuracy : 0.6748
Average local training loss : 4.707988183014095
Average local training accuracy : 0.8192291666666668
INFO flwr 2023-07-26 04:17:37,723 | server.py:116 | fit progress: (4, 1.3104875579833983, {'server_test_acc': 0.672}, 630.8454042519443)
INFO flwr 2023-07-26 04:17:37,723 | server.py:163 | evaluate_round 4: no clients selected, cancel
Cluster score for round 5 = 7230.154296875
INFO flwr 2023-07-26 04:17:45,678 | fed_df.py:217 | Number of selected crops : 8636
DEBUG flwr 2023-07-26 04:17:48,117 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2755866)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2755873)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2755872)[0m corrupted size vs. prev_size in fastbins
DEBUG flwr 2023-07-26 04:19:07,060 | server.py:229 | fit_round 5 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2755874)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2755880)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2755866)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2755873)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2755877)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2755874)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2755876)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2755880)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2755872)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2755875)[0m Fitting Client 4
Warm start at round 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2755877)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2755875)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2755876)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.023164015936665238, val accuracy : 0.67304, best val accuracy : 0.6888
Average local training loss : 4.199927662499248
Average local training accuracy : 0.8685055555555556
INFO flwr 2023-07-26 04:20:16,635 | server.py:116 | fit progress: (5, 1.2952660095214843, {'server_test_acc': 0.6896}, 789.7579653440043)
INFO flwr 2023-07-26 04:20:16,636 | server.py:163 | evaluate_round 5: no clients selected, cancel
Cluster score for round 6 = 4606.92333984375
INFO flwr 2023-07-26 04:20:24,608 | fed_df.py:217 | Number of selected crops : 8564
DEBUG flwr 2023-07-26 04:20:27,083 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2900133)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2900131)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 04:21:45,895 | server.py:229 | fit_round 6 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2900136)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2900133)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2900131)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2900139)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2900137)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2900138)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2900140)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2900136)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2900141)[0m Fitting Client 14
Warm start at round 6
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2900137)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2900140)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2900141)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2900139)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2900138)[0m malloc_consolidate(): invalid chunk size
E0726 04:21:49.068683336 2991040 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.02223840181250125, val accuracy : 0.70128, best val accuracy : 0.7168
Average local training loss : 4.105754381790757
Average local training accuracy : 0.8812416666666668
INFO flwr 2023-07-26 04:22:54,367 | server.py:116 | fit progress: (6, 1.2615546478271484, {'server_test_acc': 0.713}, 947.4896490980173)
INFO flwr 2023-07-26 04:22:54,367 | server.py:163 | evaluate_round 6: no clients selected, cancel
Cluster score for round 7 = 3889.4091796875
INFO flwr 2023-07-26 04:23:02,398 | fed_df.py:217 | Number of selected crops : 8743
DEBUG flwr 2023-07-26 04:23:04,925 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3044543)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3044547)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 04:24:23,781 | server.py:229 | fit_round 7 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3044543)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3044545)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3044546)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3044551)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3044549)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3044547)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3044548)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3044550)[0m Fitting Client 14
Warm start at round 7
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3044548)[0m double free or corruption (fasttop)
E0726 04:24:24.673405111 2992187 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
[2m[36m(launch_and_fit pid=3044549)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3044550)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3044551)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3044546)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3044545)[0m double free or corruption (fasttop)
E0726 04:24:26.257646566 3135270 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.024230653269216418, val accuracy : 0.7028000000000001, best val accuracy : 0.7216
Average local training loss : 3.8861756986007094
Average local training accuracy : 0.9012875000000001
INFO flwr 2023-07-26 04:25:31,118 | server.py:116 | fit progress: (7, 1.2060601654052734, {'server_test_acc': 0.7175}, 1104.2401776720071)
INFO flwr 2023-07-26 04:25:31,118 | server.py:163 | evaluate_round 7: no clients selected, cancel
Cluster score for round 8 = 3417.491943359375
INFO flwr 2023-07-26 04:25:39,125 | fed_df.py:217 | Number of selected crops : 8306
DEBUG flwr 2023-07-26 04:25:41,560 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3186486)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3186491)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 04:27:00,135 | server.py:229 | fit_round 8 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3186486)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3186491)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3186493)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3186492)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3186504)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3186494)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3186503)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3186505)[0m Fitting Client 17
Warm start at round 8
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3186492)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3186504)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3186503)[0m malloc_consolidate(): invalid chunk size
E0726 04:27:01.739174447 3276781 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
[2m[36m(launch_and_fit pid=3186494)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3186493)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.021022100619971753, val accuracy : 0.7049199999999999, best val accuracy : 0.7182
Average local training loss : 3.7369378676638014
Average local training accuracy : 0.9128402777777778
INFO flwr 2023-07-26 04:28:08,128 | server.py:116 | fit progress: (8, 1.291130435180664, {'server_test_acc': 0.7164}, 1261.250785246957)
INFO flwr 2023-07-26 04:28:08,129 | server.py:163 | evaluate_round 8: no clients selected, cancel
Cluster score for round 9 = 2080.611328125
INFO flwr 2023-07-26 04:28:16,140 | fed_df.py:217 | Number of selected crops : 8870
DEBUG flwr 2023-07-26 04:28:18,718 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 04:29:37,473 | server.py:229 | fit_round 9 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3330575)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3330578)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3330580)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3330576)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3330577)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3330582)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3330579)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3330581)[0m Fitting Client 2
Warm start at round 9
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3330580)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3330582)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3330578)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3330577)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3330581)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3330576)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3330579)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3330575)[0m double free or corruption (fasttop)
E0726 04:29:40.744631716 3276951 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.02289318052213639, val accuracy : 0.7094199999999999, best val accuracy : 0.723
Average local training loss : 3.6998810132965447
Average local training accuracy : 0.9170930555555555
INFO flwr 2023-07-26 04:30:44,085 | server.py:116 | fit progress: (9, 1.1593540069580077, {'server_test_acc': 0.7215}, 1417.2079061529366)
INFO flwr 2023-07-26 04:30:44,086 | server.py:163 | evaluate_round 9: no clients selected, cancel
Cluster score for round 10 = 2109.099365234375
INFO flwr 2023-07-26 04:30:52,065 | fed_df.py:217 | Number of selected crops : 8748
DEBUG flwr 2023-07-26 04:30:54,572 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3496508)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 04:32:13,262 | server.py:229 | fit_round 10 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3496516)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3496508)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3496514)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3496518)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3496516)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3496515)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3496517)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3496513)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3496512)[0m Fitting Client 9
Warm start at round 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3496514)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3496518)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3496515)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3496513)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3496517)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3496512)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.022560521649196745, val accuracy : 0.72142, best val accuracy : 0.7376
Average local training loss : 3.6333274545148018
Average local training accuracy : 0.922086111111111
INFO flwr 2023-07-26 04:33:26,033 | server.py:116 | fit progress: (10, 1.1770240661621094, {'server_test_acc': 0.738}, 1579.1551950059365)
INFO flwr 2023-07-26 04:33:26,033 | server.py:163 | evaluate_round 10: no clients selected, cancel
Cluster score for round 11 = 1946.1546630859375
INFO flwr 2023-07-26 04:33:34,163 | fed_df.py:217 | Number of selected crops : 8700
DEBUG flwr 2023-07-26 04:33:36,649 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 04:34:54,715 | server.py:229 | fit_round 11 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3638364)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3638365)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3638370)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3638367)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3638369)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3638372)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3638371)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3638373)[0m Fitting Client 14
Warm start at round 11
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3638367)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3638364)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3638372)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3638365)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3638373)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3638369)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3638371)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3638370)[0m double free or corruption (fasttop)
E0726 04:34:57.500527479 3729414 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.022331899775192142, val accuracy : 0.73184, best val accuracy : 0.7514
Average local training loss : 3.509078675881028
Average local training accuracy : 0.9295749999999999
INFO flwr 2023-07-26 04:36:06,426 | server.py:116 | fit progress: (11, 1.1770524993896485, {'server_test_acc': 0.7428}, 1739.5480474359356)
INFO flwr 2023-07-26 04:36:06,426 | server.py:163 | evaluate_round 11: no clients selected, cancel
Cluster score for round 12 = 1540.26171875
INFO flwr 2023-07-26 04:36:14,451 | fed_df.py:217 | Number of selected crops : 8405
DEBUG flwr 2023-07-26 04:36:16,918 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3782818)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 04:37:35,351 | server.py:229 | fit_round 12 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3782823)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3782825)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3782818)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3782821)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3782822)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3782823)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3782820)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3782825)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3782826)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3782824)[0m Fitting Client 7
Warm start at round 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3782826)[0m malloc_consolidate(): invalid chunk size
E0726 04:37:36.485918984 3729851 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
[2m[36m(launch_and_fit pid=3782821)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3782820)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3782824)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=3782822)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.02908816164173186, val accuracy : 0.7248000000000001, best val accuracy : 0.7376
Average local training loss : 3.404593663476408
Average local training accuracy : 0.9391611111111111
INFO flwr 2023-07-26 04:38:44,181 | server.py:116 | fit progress: (12, 1.1051450775146485, {'server_test_acc': 0.7379}, 1897.303642272018)
INFO flwr 2023-07-26 04:38:44,181 | server.py:163 | evaluate_round 12: no clients selected, cancel
Cluster score for round 13 = 1974.462158203125
INFO flwr 2023-07-26 04:38:52,229 | fed_df.py:217 | Number of selected crops : 8032
DEBUG flwr 2023-07-26 04:38:54,561 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3927199)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 04:40:12,966 | server.py:229 | fit_round 13 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3927194)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3927196)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3927199)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3927198)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3927201)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3927202)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3927200)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3927203)[0m Fitting Client 6
Warm start at round 13
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3927201)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3927198)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3927196)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3927202)[0m double free or corruption (fasttop)
E0726 04:40:14.692802108 4017169 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
[2m[36m(launch_and_fit pid=3927203)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3927200)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3927194)[0m malloc_consolidate(): invalid chunk size
E0726 04:40:47.758541493 4017709 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.03777308871876448, val accuracy : 0.74486, best val accuracy : 0.7556
Average local training loss : 3.415812234207988
Average local training accuracy : 0.9395472222222222
INFO flwr 2023-07-26 04:41:24,634 | server.py:116 | fit progress: (13, 1.1980705078125, {'server_test_acc': 0.7469}, 2057.756393241929)
INFO flwr 2023-07-26 04:41:24,634 | server.py:163 | evaluate_round 13: no clients selected, cancel
Cluster score for round 14 = 525.3673706054688
INFO flwr 2023-07-26 04:41:32,738 | fed_df.py:217 | Number of selected crops : 8822
DEBUG flwr 2023-07-26 04:41:35,345 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=4073956)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4073955)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 04:42:54,029 | server.py:229 | fit_round 14 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=4073959)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4073954)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=4073955)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=4073953)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=4073956)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=4073957)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=4073960)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=4073958)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=4073959)[0m Fitting Client 15
Warm start at round 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=4073953)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4073954)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4073957)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4073958)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4073960)[0m malloc_consolidate(): invalid chunk size
E0726 04:42:56.653103596 4165003 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.04395889975130558, val accuracy : 0.75098, best val accuracy : 0.7654
Average local training loss : 3.383355456031859
Average local training accuracy : 0.9390597222222222
INFO flwr 2023-07-26 04:44:01,860 | server.py:116 | fit progress: (14, 1.0403674560546874, {'server_test_acc': 0.7479}, 2214.982915189932)
INFO flwr 2023-07-26 04:44:01,861 | server.py:163 | evaluate_round 14: no clients selected, cancel
Cluster score for round 15 = 1648.505615234375
INFO flwr 2023-07-26 04:44:09,916 | fed_df.py:217 | Number of selected crops : 7378
DEBUG flwr 2023-07-26 04:44:12,192 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=22544)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=22546)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 04:45:30,835 | server.py:229 | fit_round 15 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=22552)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=22544)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=22546)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=22548)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=22553)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=22550)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=22552)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=22551)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=22554)[0m Fitting Client 11
Warm start at round 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=22550)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=22553)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=22548)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=22554)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=22551)[0m double free or corruption (fasttop)
E0726 04:45:33.193281477 4165272 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.02520288676209748, val accuracy : 0.7375200000000001, best val accuracy : 0.7528
Average local training loss : 3.3780736701563
Average local training accuracy : 0.9405055555555557
INFO flwr 2023-07-26 04:46:45,034 | server.py:116 | fit progress: (15, 1.1313784423828126, {'server_test_acc': 0.7477}, 2378.1569581389194)
INFO flwr 2023-07-26 04:46:45,035 | server.py:163 | evaluate_round 15: no clients selected, cancel
Cluster score for round 16 = 1605.7279052734375
INFO flwr 2023-07-26 04:46:53,013 | fed_df.py:217 | Number of selected crops : 7596
DEBUG flwr 2023-07-26 04:46:55,288 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=196072)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=196074)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 04:48:13,747 | server.py:229 | fit_round 16 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=196082)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=196078)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=196072)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=196074)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=196078)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=196082)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=196080)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=196079)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=196081)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=196077)[0m Fitting Client 7
Warm start at round 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=196077)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=196081)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=196080)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=196079)[0m malloc_consolidate(): invalid chunk size
E0726 04:48:18.546697746  128798 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
E0726 04:48:18.546802846  128798 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
E0726 04:48:18.546828823  128798 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
E0726 04:48:53.893885668  289122 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.03443302289023995, val accuracy : 0.76194, best val accuracy : 0.7692
Average local training loss : 3.333111870661378
Average local training accuracy : 0.9423527777777777
INFO flwr 2023-07-26 04:49:28,298 | server.py:116 | fit progress: (16, 1.008534341430664, {'server_test_acc': 0.7607}, 2541.420161015005)
INFO flwr 2023-07-26 04:49:28,298 | server.py:163 | evaluate_round 16: no clients selected, cancel
Cluster score for round 17 = 2275.974609375
INFO flwr 2023-07-26 04:49:36,343 | fed_df.py:217 | Number of selected crops : 7051
DEBUG flwr 2023-07-26 04:49:38,585 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=345419)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 04:50:57,198 | server.py:229 | fit_round 17 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=345420)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=345418)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=345420)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=345419)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=345423)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=345418)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=345425)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=345424)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=345427)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=345426)[0m Fitting Client 2
Warm start at round 17
Performing server side distillation training...
[2m[36m(launch_and_fit pid=345426)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=345425)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=345424)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=345423)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=345427)[0m double free or corruption (fasttop)
E0726 04:51:00.002950366  436407 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.02393383485637605, val accuracy : 0.7415, best val accuracy : 0.7514
Average local training loss : 3.275393852591514
Average local training accuracy : 0.9462680555555555
INFO flwr 2023-07-26 04:52:13,905 | server.py:116 | fit progress: (17, 1.0717519805908202, {'server_test_acc': 0.7487}, 2707.027904308983)
INFO flwr 2023-07-26 04:52:13,906 | server.py:163 | evaluate_round 17: no clients selected, cancel
Cluster score for round 18 = 1674.773681640625
INFO flwr 2023-07-26 04:52:21,885 | fed_df.py:217 | Number of selected crops : 7378
DEBUG flwr 2023-07-26 04:52:24,216 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=497305)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=497308)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=497312)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 04:53:42,667 | server.py:229 | fit_round 18 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=497316)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=497308)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=497305)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=497311)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=497316)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=497314)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=497315)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=497313)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=497312)[0m Fitting Client 2
Warm start at round 18
Performing server side distillation training...
[2m[36m(launch_and_fit pid=497313)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=497314)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=497315)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=497311)[0m malloc_consolidate(): invalid chunk size
E0726 04:54:17.484318056  437147 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.03439433928206563, val accuracy : 0.7601000000000001, best val accuracy : 0.7728
Average local training loss : 3.276688477024436
Average local training accuracy : 0.9472444444444444
INFO flwr 2023-07-26 04:54:57,053 | server.py:116 | fit progress: (18, 0.9759585876464844, {'server_test_acc': 0.7692}, 2870.1750822359463)
INFO flwr 2023-07-26 04:54:57,053 | server.py:163 | evaluate_round 18: no clients selected, cancel
Cluster score for round 19 = 1861.844482421875
INFO flwr 2023-07-26 04:55:05,212 | fed_df.py:217 | Number of selected crops : 7288
DEBUG flwr 2023-07-26 04:55:07,463 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=646831)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 04:56:26,684 | server.py:229 | fit_round 19 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=646835)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=646833)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=646836)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=646833)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=646831)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=646837)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=646835)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=646840)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=646838)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=646836)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=646839)[0m Fitting Client 3
Warm start at round 19
Performing server side distillation training...
[2m[36m(launch_and_fit pid=646837)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=646840)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=646838)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=646839)[0m double free or corruption (fasttop)
E0726 04:56:29.181938069  613983 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.03899481236375869, val accuracy : 0.76352, best val accuracy : 0.7746
Average local training loss : 3.2593543473631144
Average local training accuracy : 0.947061111111111
INFO flwr 2023-07-26 04:57:40,518 | server.py:116 | fit progress: (19, 0.9245349884033203, {'server_test_acc': 0.7711}, 3033.6403180189664)
INFO flwr 2023-07-26 04:57:40,518 | server.py:163 | evaluate_round 19: no clients selected, cancel
Cluster score for round 20 = 3185.103515625
INFO flwr 2023-07-26 04:57:48,522 | fed_df.py:217 | Number of selected crops : 6866
DEBUG flwr 2023-07-26 04:57:50,703 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 04:59:09,153 | server.py:229 | fit_round 20 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=796294)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=796298)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=796294)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=796296)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=796300)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=796301)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=796302)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=796303)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=796304)[0m Fitting Client 13
Warm start at round 20
Performing server side distillation training...
[2m[36m(launch_and_fit pid=796300)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=796296)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=796303)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=796304)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=796302)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=796298)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=796301)[0m malloc_consolidate(): invalid chunk size
E0726 04:59:11.977225138  738236 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.023441476061940192, val accuracy : 0.76292, best val accuracy : 0.775
Average local training loss : 3.234136852622032
Average local training accuracy : 0.9485222222222223
INFO flwr 2023-07-26 05:00:30,808 | server.py:116 | fit progress: (20, 0.9433052459716796, {'server_test_acc': 0.7679}, 3203.9309181349818)
INFO flwr 2023-07-26 05:00:30,809 | server.py:163 | evaluate_round 20: no clients selected, cancel
Cluster score for round 21 = 2067.433349609375
INFO flwr 2023-07-26 05:00:38,855 | fed_df.py:217 | Number of selected crops : 6897
DEBUG flwr 2023-07-26 05:00:41,065 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=963216)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=963235)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=963259)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 05:02:00,312 | server.py:229 | fit_round 21 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=963214)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=963216)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=963234)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=963214)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=963236)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=963235)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=963237)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=963259)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=963258)[0m Fitting Client 5
Warm start at round 21
Performing server side distillation training...
[2m[36m(launch_and_fit pid=963234)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=963258)[0m double free or corruption (fasttop)
E0726 05:02:01.733431619 1062607 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=963237)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=963236)[0m malloc_consolidate(): invalid chunk size
E0726 05:02:56.276820285 1105257 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.024689341116696597, val accuracy : 0.75878, best val accuracy : 0.7746
Average local training loss : 3.2559876888990402
Average local training accuracy : 0.9473416666666666
INFO flwr 2023-07-26 05:03:16,913 | server.py:116 | fit progress: (21, 0.954579296875, {'server_test_acc': 0.7759}, 3370.035005175974)
INFO flwr 2023-07-26 05:03:16,913 | server.py:163 | evaluate_round 21: no clients selected, cancel
Cluster score for round 22 = 1855.68798828125
INFO flwr 2023-07-26 05:03:24,893 | fed_df.py:217 | Number of selected crops : 7122
DEBUG flwr 2023-07-26 05:03:27,117 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1124093)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1124100)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1124101)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 05:04:46,366 | server.py:229 | fit_round 22 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1124093)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1124100)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1124102)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1124099)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1124097)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1124098)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1124101)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1124103)[0m Fitting Client 10
Warm start at round 22
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1124103)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1124097)[0m double free or corruption (fasttop)
E0726 05:04:47.273331173 1106040 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=1124098)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1124102)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1124099)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.035988959912210704, val accuracy : 0.76684, best val accuracy : 0.7818
Average local training loss : 3.229842496477068
Average local training accuracy : 0.9497
INFO flwr 2023-07-26 05:06:03,138 | server.py:116 | fit progress: (22, 0.9213360992431641, {'server_test_acc': 0.7736}, 3536.260298224981)
INFO flwr 2023-07-26 05:06:03,138 | server.py:163 | evaluate_round 22: no clients selected, cancel
Cluster score for round 23 = 1961.717041015625
INFO flwr 2023-07-26 05:06:11,168 | fed_df.py:217 | Number of selected crops : 6522
DEBUG flwr 2023-07-26 05:06:13,308 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1275747)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1275755)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 05:07:32,094 | server.py:229 | fit_round 23 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1275752)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1275751)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1275747)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1275751)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1275753)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1275754)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1275752)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1275755)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1275757)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1275756)[0m Fitting Client 16
Warm start at round 23
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1275756)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1275754)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1275753)[0m malloc_consolidate(): invalid chunk size
E0726 05:07:33.605718072 1365844 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=1275757)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.035955512011423704, val accuracy : 0.7674000000000001, best val accuracy : 0.7734
Average local training loss : 3.2051235806196927
Average local training accuracy : 0.951
INFO flwr 2023-07-26 05:08:52,910 | server.py:116 | fit progress: (23, 0.9935874755859375, {'server_test_acc': 0.7614}, 3706.032083256985)
INFO flwr 2023-07-26 05:08:52,910 | server.py:163 | evaluate_round 23: no clients selected, cancel
Cluster score for round 24 = 2345.24853515625
INFO flwr 2023-07-26 05:09:00,977 | fed_df.py:217 | Number of selected crops : 6605
DEBUG flwr 2023-07-26 05:09:03,149 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1431072)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1431074)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 05:10:21,594 | server.py:229 | fit_round 24 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1431072)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1431080)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1431075)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1431074)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1431077)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1431078)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1431081)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1431079)[0m Fitting Client 14
Warm start at round 24
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1431079)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1431080)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1431077)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1431081)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1431078)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1431075)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.034086616806685927, val accuracy : 0.76582, best val accuracy : 0.7778
Average local training loss : 3.2244977941736575
Average local training accuracy : 0.9490819444444445
INFO flwr 2023-07-26 05:11:42,717 | server.py:116 | fit progress: (24, 0.9196140808105469, {'server_test_acc': 0.7718}, 3875.8397340090014)
INFO flwr 2023-07-26 05:11:42,718 | server.py:163 | evaluate_round 24: no clients selected, cancel
Cluster score for round 25 = 1761.0439453125
INFO flwr 2023-07-26 05:11:50,764 | fed_df.py:217 | Number of selected crops : 6808
DEBUG flwr 2023-07-26 05:11:52,934 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1586634)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 05:13:10,733 | server.py:229 | fit_round 25 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1586634)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1586643)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1586642)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1586638)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1586641)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1586637)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1586640)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1586639)[0m Fitting Client 19
Warm start at round 25
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1586639)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1586641)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1586640)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1586642)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1586638)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1586643)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1586637)[0m double free or corruption (fasttop)
E0726 05:13:14.906638730 1366181 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.03137778341956437, val accuracy : 0.76912, best val accuracy : 0.7798
Average local training loss : 3.1367767082527283
Average local training accuracy : 0.9559750000000001
INFO flwr 2023-07-26 05:14:27,532 | server.py:116 | fit progress: (25, 0.9514631408691406, {'server_test_acc': 0.7772}, 4040.65455529897)
INFO flwr 2023-07-26 05:14:27,532 | server.py:163 | evaluate_round 25: no clients selected, cancel
Cluster score for round 26 = 1643.450439453125
INFO flwr 2023-07-26 05:14:35,726 | fed_df.py:217 | Number of selected crops : 6902
DEBUG flwr 2023-07-26 05:14:37,904 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1738494)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 05:15:56,974 | server.py:229 | fit_round 26 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1738488)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1738494)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1738493)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1738492)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1738495)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1738496)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1738498)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1738497)[0m Fitting Client 12
Warm start at round 26
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1738495)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1738496)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1738498)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1738488)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1738493)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1738497)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1738492)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.03583585098013282, val accuracy : 0.75932, best val accuracy : 0.7726
Average local training loss : 3.168192665465176
Average local training accuracy : 0.9536736111111109
INFO flwr 2023-07-26 05:17:14,739 | server.py:116 | fit progress: (26, 0.8905548400878907, {'server_test_acc': 0.7798}, 4207.861023353995)
INFO flwr 2023-07-26 05:17:14,739 | server.py:163 | evaluate_round 26: no clients selected, cancel
E0726 05:17:16.289613444 1910761 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
E0726 05:17:16.289914514 1910761 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Cluster score for round 27 = 1160.5653076171875
INFO flwr 2023-07-26 05:17:22,808 | fed_df.py:217 | Number of selected crops : 6739
DEBUG flwr 2023-07-26 05:17:25,021 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1914207)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 05:18:43,504 | server.py:229 | fit_round 27 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1914220)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1914207)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1914236)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1914232)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1914220)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1914221)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1914234)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1914235)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1914219)[0m Fitting Client 15
Warm start at round 27
Performing server side distillation training...
E0726 05:18:44.418796928 2003861 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=1914236)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1914219)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1914234)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1914235)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1914232)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1914221)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.0444290517102927, val accuracy : 0.77222, best val accuracy : 0.7776
Average local training loss : 3.159606901742518
Average local training accuracy : 0.9535361111111111
INFO flwr 2023-07-26 05:20:00,588 | server.py:116 | fit progress: (27, 1.0064248016357422, {'server_test_acc': 0.7742}, 4373.710631067981)
INFO flwr 2023-07-26 05:20:00,588 | server.py:163 | evaluate_round 27: no clients selected, cancel
Cluster score for round 28 = 405.159423828125
INFO flwr 2023-07-26 05:20:08,613 | fed_df.py:217 | Number of selected crops : 7459
DEBUG flwr 2023-07-26 05:20:11,248 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2065993)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 05:21:29,685 | server.py:229 | fit_round 28 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2065996)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2065990)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2065994)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2065993)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2065989)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2065995)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2065996)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2065997)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2065998)[0m Fitting Client 3
Warm start at round 28
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2065994)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2065995)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2065990)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2065998)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2065989)[0m malloc_consolidate(): invalid chunk size
E0726 05:21:31.270499653 2157361 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=2065997)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.05427892678231001, val accuracy : 0.7772, best val accuracy : 0.784
Average local training loss : 3.1624556992203
Average local training accuracy : 0.9529236111111111
INFO flwr 2023-07-26 05:22:44,579 | server.py:116 | fit progress: (28, 0.9758055816650391, {'server_test_acc': 0.7785}, 4537.701942642918)
INFO flwr 2023-07-26 05:22:44,580 | server.py:163 | evaluate_round 28: no clients selected, cancel
Cluster score for round 29 = 448.6209716796875
INFO flwr 2023-07-26 05:22:52,642 | fed_df.py:217 | Number of selected crops : 7236
DEBUG flwr 2023-07-26 05:22:55,293 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2216356)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2216363)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 05:24:14,247 | server.py:229 | fit_round 29 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2216358)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2216357)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2216357)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2216358)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2216356)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=2216360)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2216362)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2216363)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2216361)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2216359)[0m Fitting Client 19
Warm start at round 29
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2216359)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2216362)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2216361)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2216360)[0m double free or corruption (fasttop)
E0726 05:24:17.057653502 2157563 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
E0726 05:24:17.057757057 2157563 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
E0726 05:24:49.359492112 2332754 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
Distillation training stopped at step number : 500
Average fusion training loss : 0.03913105319067836, val accuracy : 0.7669599999999999, best val accuracy : 0.7746
Average local training loss : 3.09252222944051
Average local training accuracy : 0.9582250000000001
INFO flwr 2023-07-26 05:25:28,413 | server.py:116 | fit progress: (29, 0.9620880401611328, {'server_test_acc': 0.7729}, 4701.535684232018)
INFO flwr 2023-07-26 05:25:28,413 | server.py:163 | evaluate_round 29: no clients selected, cancel
Cluster score for round 30 = 640.3294067382812
INFO flwr 2023-07-26 05:25:36,468 | fed_df.py:217 | Number of selected crops : 6952
DEBUG flwr 2023-07-26 05:25:38,689 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2365783)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2365776)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 05:26:57,436 | server.py:229 | fit_round 30 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2365777)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2365782)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2365779)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2365786)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2365776)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2365777)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2365783)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2365779)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2365782)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2365786)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2365785)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2365784)[0m Fitting Client 14
Warm start at round 30
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2365784)[0m malloc_consolidate(): invalid chunk size
E0726 05:26:58.863321797 2333291 chttp2_transport.cc:1079]             ipv4:145.136.62.71:38322: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): âˆž
[2m[36m(launch_and_fit pid=2365785)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.043451797995716336, val accuracy : 0.7701, best val accuracy : 0.7786
Average local training loss : 3.1788244461640716
Average local training accuracy : 0.9516666666666667
INFO flwr 2023-07-26 05:28:14,228 | server.py:116 | fit progress: (30, 1.0293758087158202, {'server_test_acc': 0.7667}, 4867.3501154090045)
INFO flwr 2023-07-26 05:28:14,228 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-07-26 05:28:14,228 | server.py:144 | FL finished in 4867.350579037913
INFO flwr 2023-07-26 05:28:14,228 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-07-26 05:28:14,229 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-07-26 05:28:14,229 | app.py:204 | app_fit: losses_centralized [(0, 2.4661781799316405), (1, 1.8755222045898436), (2, 1.3747336517333983), (3, 1.3859152038574218), (4, 1.3104875579833983), (5, 1.2952660095214843), (6, 1.2615546478271484), (7, 1.2060601654052734), (8, 1.291130435180664), (9, 1.1593540069580077), (10, 1.1770240661621094), (11, 1.1770524993896485), (12, 1.1051450775146485), (13, 1.1980705078125), (14, 1.0403674560546874), (15, 1.1313784423828126), (16, 1.008534341430664), (17, 1.0717519805908202), (18, 0.9759585876464844), (19, 0.9245349884033203), (20, 0.9433052459716796), (21, 0.954579296875), (22, 0.9213360992431641), (23, 0.9935874755859375), (24, 0.9196140808105469), (25, 0.9514631408691406), (26, 0.8905548400878907), (27, 1.0064248016357422), (28, 0.9758055816650391), (29, 0.9620880401611328), (30, 1.0293758087158202)]
INFO flwr 2023-07-26 05:28:14,229 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.0915), (1, 0.4216), (2, 0.5543), (3, 0.6346), (4, 0.672), (5, 0.6896), (6, 0.713), (7, 0.7175), (8, 0.7164), (9, 0.7215), (10, 0.738), (11, 0.7428), (12, 0.7379), (13, 0.7469), (14, 0.7479), (15, 0.7477), (16, 0.7607), (17, 0.7487), (18, 0.7692), (19, 0.7711), (20, 0.7679), (21, 0.7759), (22, 0.7736), (23, 0.7614), (24, 0.7718), (25, 0.7772), (26, 0.7798), (27, 0.7742), (28, 0.7785), (29, 0.7729), (30, 0.7667)]}
malloc_consolidate(): invalid chunk size
srun: error: gcn71: task 0: Aborted
srun: Terminating StepId=3148262.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3148262
Cluster: snellius
User/Group: sunnys/sunnys
State: COMPLETED (exit code 0)
Nodes: 1
Cores per node: 18
CPU Utilized: 02:53:22
CPU Efficiency: 11.26% of 1-01:39:18 core-walltime
Job Wall-clock time: 01:25:31
Memory Utilized: 57.91 GB
Memory Efficiency: 48.26% of 120.00 GB
