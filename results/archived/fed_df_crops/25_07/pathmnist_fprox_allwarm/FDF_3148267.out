-----BEGIN-----
-----SETTINGS-----
STRATEGY:feddf
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:pathmnist
PARTITION_ALPHA:10.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:512
LOCAL_EPOCHS:40
LOCAL_LR:0.05
DISTILL_BATCH_SIZE:512
SERVER_LR:0.005
SERVER_STEPS:500
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
SEED:42
CUDA_DETERMINISTIC:False
USE_CROPS:True
IMG_NAME:colonpath_sample.jpg
DISTILL_DATASET:cifar100
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:10000
DISTILL_TRANSFORMS:v0
WARM_START:True
WARM_START_ROUNDS:1
WARM_START_INTERVAL:1
KMEANS_N_CLUSTER:50
KMEANS_HEURISTICS:easy
KMEANS_MIXED_FACTOR:50-50
CONFIDENCE_THRESHOLD:0.9
CONFIDENCE_MIN_CROPS:2500
CLIPPING_FACTOR:2.5
FEDPROX_FACTOR:1.0
FEDPROX_ADAPTIVE:False
USE_CLIPPING:True
USE_ENTROPY:True
USE_KMEANS:True
USE_FEDPROX:True
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
---------
Generating crops for FedDF
Namespace(img_size=32, batch_size=32, num_imgs=100000, threads=18, vflip=False, deg=30, shear=30, cropfirst=True, initcrop=0.5, scale=[500, 1], randinterp=False, debug=False, imgpath='./static/single_images/colonpath_sample.jpg', targetpath='/scratch-local/sunnys.3148267/1690337093_371889345', seed=42, img_per_thread=5555)
will save 100000 patches in /scratch-local/sunnys.3148267/1690337093_371889345/single_img_crops/crops
100000 took 1.30min with 18 threads
---------
Simulating feddf training
INFO simulate 2023-07-26 04:06:26,647 | simulate.py:50 | Python script started : simulate.py
DEBUG simulate 2023-07-26 04:06:26,647 | simulate.py:55 | Reading args from argument parser
Downloading https://zenodo.org/record/6496656/files/pathmnist.npz?download=1 to /scratch-local/sunnys.3148267/1690337093_371889345/pathmnist.npz
Generating unified pathmnist dataset
Class histogram for 0-th partition (alpha=10.0, 9 classes): [490 604 231 501 464 620 475 540 575]
INFO flwr 2023-07-26 04:09:33,736 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-07-26 04:09:36,563	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8265 [39m[22m
INFO flwr 2023-07-26 04:09:37,556 | app.py:179 | Flower VCE: Ray initialized with resources: {'node:145.136.62.39': 1.0, 'memory': 103079215104.0, 'accelerator_type:A100': 1.0, 'GPU': 1.0, 'CPU': 18.0, 'object_store_memory': 61847529062.0}
INFO flwr 2023-07-26 04:09:37,556 | server.py:86 | Initializing global parameters
INFO flwr 2023-07-26 04:09:37,557 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-07-26 04:09:37,557 | server.py:88 | Evaluating initial parameters
INFO flwr 2023-07-26 04:09:46,523 | server.py:91 | initial parameters (loss, other metrics): 2.1845225108367154, {'server_test_acc': 0.11030640668523677}
INFO flwr 2023-07-26 04:09:46,523 | server.py:101 | FL starting
Cluster score for round 1 = 904.2111206054688
INFO flwr 2023-07-26 04:09:53,917 | fed_df.py:217 | Number of selected crops : 10000
DEBUG flwr 2023-07-26 04:09:56,735 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2479796)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2479795)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2479799)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 04:11:27,295 | server.py:229 | fit_round 1 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2479792)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2479794)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2479795)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2479797)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2479796)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2479799)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2479793)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2479798)[0m Fitting Client 10
Warm start at round 1
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2479794)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2479797)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2479798)[0m malloc_consolidate(): invalid chunk size
E0726 04:11:28.626087994 2570041 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
E0726 04:11:28.626294863 2570041 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
E0726 04:11:28.626313396 2570041 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
E0726 04:11:28.626323960 2570041 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
E0726 04:11:28.626336114 2570041 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
E0726 04:11:28.626349092 2570041 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
E0726 04:11:28.626360910 2570041 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 60000ms
[2m[36m(launch_and_fit pid=2479793)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=2479792)[0m malloc_consolidate(): invalid chunk size
E0726 04:11:57.046774572 2570319 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
E0726 04:11:57.046841471 2570319 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
E0726 04:11:57.046852132 2570319 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
E0726 04:11:57.046860350 2570319 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
E0726 04:11:57.046868319 2570319 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 120000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.41974295872449874, val accuracy : 0.4123165851489551, best val accuracy : 0.5111160515784793
Average local training loss : 8.592460895515979
Average local training accuracy : 0.6972175925925925
INFO flwr 2023-07-26 04:12:24,981 | server.py:116 | fit progress: (1, 2.315697955288263, {'server_test_acc': 0.3363509749303621}, 158.45727298600832)
INFO flwr 2023-07-26 04:12:24,981 | server.py:163 | evaluate_round 1: no clients selected, cancel
Cluster score for round 2 = 74485.015625
INFO flwr 2023-07-26 04:12:32,804 | fed_df.py:217 | Number of selected crops : 5166
DEBUG flwr 2023-07-26 04:12:34,621 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2618095)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 04:14:03,270 | server.py:229 | fit_round 2 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2618101)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2618096)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2618094)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2618099)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2618098)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2618095)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2618100)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2618097)[0m Fitting Client 8
Warm start at round 2
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2618100)[0m double free or corruption (fasttop)
E0726 04:14:04.178735943 2707824 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 240000ms
[2m[36m(launch_and_fit pid=2618097)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2618096)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2618094)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2618098)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2618101)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2618099)[0m malloc_consolidate(): invalid chunk size
E0726 04:14:05.718205498 2708229 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 480000ms
E0726 04:14:32.380773194 2709487 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 960000ms
E0726 04:15:22.786394733 2731525 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1920000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.14474741418659687, val accuracy : 0.3164517563361494, best val accuracy : 0.39506447309915516
Average local training loss : 7.134476353414357
Average local training accuracy : 0.7812777777777778
INFO flwr 2023-07-26 04:15:32,040 | server.py:116 | fit progress: (2, 3.559391582244618, {'server_test_acc': 0.2508356545961003}, 345.5166609790176)
INFO flwr 2023-07-26 04:15:32,040 | server.py:163 | evaluate_round 2: no clients selected, cancel
Cluster score for round 3 = 75723.734375
INFO flwr 2023-07-26 04:15:40,049 | fed_df.py:217 | Number of selected crops : 5646
DEBUG flwr 2023-07-26 04:15:41,966 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 04:17:10,157 | server.py:229 | fit_round 3 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2782585)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2782586)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=2782587)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2782585)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2782577)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2782583)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2782582)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2782584)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2782581)[0m Fitting Client 17
Warm start at round 3
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2782581)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2782584)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2782587)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2782586)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2782577)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2782582)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2782583)[0m double free or corruption (fasttop)
E0726 04:17:12.324989271 2873570 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 3840000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.09832915719598531, val accuracy : 0.4569475322365495, best val accuracy : 0.5723654957759003
Average local training loss : 6.232019687816501
Average local training accuracy : 0.8398657407407406
INFO flwr 2023-07-26 04:18:33,477 | server.py:116 | fit progress: (3, 5.5029205226632545, {'server_test_acc': 0.40278551532033424}, 526.9532370860106)
INFO flwr 2023-07-26 04:18:33,477 | server.py:163 | evaluate_round 3: no clients selected, cancel
Cluster score for round 4 = 114842.140625
INFO flwr 2023-07-26 04:18:41,437 | fed_df.py:217 | Number of selected crops : 5128
DEBUG flwr 2023-07-26 04:18:43,256 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2942024)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2942026)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2942021)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 04:20:12,225 | server.py:229 | fit_round 4 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2942024)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2942023)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2942020)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2942022)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=2942026)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2942019)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2942025)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2942021)[0m Fitting Client 7
Warm start at round 4
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2942023)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2942019)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2942025)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2942020)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2942022)[0m malloc_consolidate(): invalid chunk size
E0726 04:20:15.135049184 2873772 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 7680000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.13642050620168447, val accuracy : 0.29873277012005334, best val accuracy : 0.3355935971542908
Average local training loss : 5.3503344619646676
Average local training accuracy : 0.8967391975308643
INFO flwr 2023-07-26 04:21:41,199 | server.py:116 | fit progress: (4, 9.563964426152221, {'server_test_acc': 0.2743732590529248}, 714.6757901249803)
INFO flwr 2023-07-26 04:21:41,200 | server.py:163 | evaluate_round 4: no clients selected, cancel
Cluster score for round 5 = 96695.4921875
INFO flwr 2023-07-26 04:21:49,246 | fed_df.py:217 | Number of selected crops : 4780
DEBUG flwr 2023-07-26 04:21:50,982 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3130248)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3130250)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3130244)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 04:23:19,172 | server.py:229 | fit_round 5 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3130245)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3130249)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3130247)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3130246)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3130244)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3130250)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3130241)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3130248)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3130245)[0m Fitting Client 2
Warm start at round 5
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3130247)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3130241)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3130249)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3130246)[0m malloc_consolidate(): invalid chunk size
E0726 04:23:21.956446161 3033880 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 15360000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.10929671200364828, val accuracy : 0.37415518008003557, best val accuracy : 0.40051133837261005
Average local training loss : 4.968926224857569
Average local training accuracy : 0.9208001543209877
INFO flwr 2023-07-26 04:24:53,524 | server.py:116 | fit progress: (5, 6.1782329665585145, {'server_test_acc': 0.23175487465181058}, 907.0010317430133)
INFO flwr 2023-07-26 04:24:53,525 | server.py:163 | evaluate_round 5: no clients selected, cancel
Cluster score for round 6 = 89130.453125
INFO flwr 2023-07-26 04:25:01,565 | fed_df.py:217 | Number of selected crops : 5506
DEBUG flwr 2023-07-26 04:25:03,463 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3299498)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 04:26:31,402 | server.py:229 | fit_round 6 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3299499)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3299492)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=3299494)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3299497)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3299498)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3299496)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3299493)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3299495)[0m Fitting Client 14
Warm start at round 6
Performing server side distillation training...
E0726 04:26:32.048757198 3222102 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 30720000ms
[2m[36m(launch_and_fit pid=3299492)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3299495)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3299494)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3299497)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3299499)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3299493)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.15456801514327526, val accuracy : 0.2962316585148955, best val accuracy : 0.34737661182747887
Average local training loss : 4.592653665412217
Average local training accuracy : 0.9436628086419753
INFO flwr 2023-07-26 04:28:00,073 | server.py:116 | fit progress: (6, 6.860692448735569, {'server_test_acc': 0.32200557103064065}, 1093.5497801949969)
INFO flwr 2023-07-26 04:28:00,074 | server.py:163 | evaluate_round 6: no clients selected, cancel
Cluster score for round 7 = 112418.640625
INFO flwr 2023-07-26 04:28:08,111 | fed_df.py:217 | Number of selected crops : 4794
DEBUG flwr 2023-07-26 04:28:09,868 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3464028)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3464025)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3464021)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 04:29:38,355 | server.py:229 | fit_round 7 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3464027)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3464028)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3464021)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3464026)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3464023)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3464019)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3464025)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3464024)[0m Fitting Client 8
Warm start at round 7
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3464023)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3464027)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3464019)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3464026)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3464024)[0m double free or corruption (fasttop)
E0726 04:29:41.355580424 3389370 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 61440000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.060772186428308485, val accuracy : 0.33240329035126726, best val accuracy : 0.3679413072476656
Average local training loss : 4.308482162561267
Average local training accuracy : 0.9602114197530865
INFO flwr 2023-07-26 04:31:13,747 | server.py:116 | fit progress: (7, 7.356159318589234, {'server_test_acc': 0.30877437325905294}, 1287.223342577985)
INFO flwr 2023-07-26 04:31:13,747 | server.py:163 | evaluate_round 7: no clients selected, cancel
Cluster score for round 8 = 74948.796875
INFO flwr 2023-07-26 04:31:21,808 | fed_df.py:217 | Number of selected crops : 5063
DEBUG flwr 2023-07-26 04:31:23,617 | server.py:215 | fit_round 8: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3633265)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3633260)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 04:32:52,036 | server.py:229 | fit_round 8 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3633264)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3633261)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3633259)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3633266)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3633264)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3633265)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3633260)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=3633263)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3633261)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=3633262)[0m Fitting Client 15
Warm start at round 8
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3633266)[0m malloc_consolidate(): invalid chunk size
E0726 04:32:52.892822506 3556071 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 122880000ms
[2m[36m(launch_and_fit pid=3633262)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3633259)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3633263)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.0676173596084118, val accuracy : 0.1362827923521565, best val accuracy : 0.19141840818141395
Average local training loss : 4.260839888919144
Average local training accuracy : 0.9631188271604938
INFO flwr 2023-07-26 04:34:27,923 | server.py:116 | fit progress: (8, 55.02254277391354, {'server_test_acc': 0.24317548746518106}, 1481.3999252669746)
INFO flwr 2023-07-26 04:34:27,924 | server.py:163 | evaluate_round 8: no clients selected, cancel
Cluster score for round 9 = 138719.5625
INFO flwr 2023-07-26 04:34:36,020 | fed_df.py:217 | Number of selected crops : 5047
DEBUG flwr 2023-07-26 04:34:37,828 | server.py:215 | fit_round 9: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3802431)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 04:36:05,962 | server.py:229 | fit_round 9 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3802425)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3802431)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=3802429)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=3802432)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3802430)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3802428)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3802427)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3802426)[0m Fitting Client 5
Warm start at round 9
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3802432)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3802430)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3802426)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3802429)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3802425)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3802428)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3802427)[0m malloc_consolidate(): invalid chunk size
E0726 04:36:08.459451966 3723365 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 245760000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.07620504994690418, val accuracy : 0.2786794130724767, best val accuracy : 0.3342596709648733
Average local training loss : 4.150200382806361
Average local training accuracy : 0.969908950617284
INFO flwr 2023-07-26 04:37:42,774 | server.py:116 | fit progress: (9, 9.60084896247035, {'server_test_acc': 0.2923398328690808}, 1676.2506415160024)
INFO flwr 2023-07-26 04:37:42,774 | server.py:163 | evaluate_round 9: no clients selected, cancel
Cluster score for round 10 = 177276.21875
INFO flwr 2023-07-26 04:37:50,920 | fed_df.py:217 | Number of selected crops : 5108
DEBUG flwr 2023-07-26 04:37:52,772 | server.py:215 | fit_round 10: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3995748)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3995751)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 04:39:20,546 | server.py:229 | fit_round 10 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3995747)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=3995749)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=3995746)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3995745)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3995744)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3995751)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3995750)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3995748)[0m Fitting Client 10
Warm start at round 10
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3995747)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3995750)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3995749)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3995745)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3995746)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3995744)[0m malloc_consolidate(): invalid chunk size
E0726 04:39:23.042281614 4086938 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 491520000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.05089578339084983, val accuracy : 0.1816918630502446, best val accuracy : 0.23488216985326812
Average local training loss : 4.1288595184683805
Average local training accuracy : 0.9705949074074073
INFO flwr 2023-07-26 04:40:57,258 | server.py:116 | fit progress: (10, 4.389169661646766, {'server_test_acc': 0.16462395543175487}, 1870.7343201899785)
INFO flwr 2023-07-26 04:40:57,258 | server.py:163 | evaluate_round 10: no clients selected, cancel
Cluster score for round 11 = 56062.78125
INFO flwr 2023-07-26 04:41:05,354 | fed_df.py:217 | Number of selected crops : 5192
DEBUG flwr 2023-07-26 04:41:07,181 | server.py:215 | fit_round 11: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 04:42:34,505 | server.py:229 | fit_round 11 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=4165055)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4165059)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=4165057)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=4165055)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=4165051)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=4165053)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=4165054)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=4165056)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=4165058)[0m Fitting Client 9
Warm start at round 11
Performing server side distillation training...
[2m[36m(launch_and_fit pid=4165056)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4165058)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4165059)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=4165053)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4165051)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4165057)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=4165054)[0m malloc_consolidate(): invalid chunk size
E0726 04:42:37.721052618   62755 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 983040000ms
Distillation training stopped at step number : 500
Average fusion training loss : 0.05015783961117268, val accuracy : 0.26945309026233877, best val accuracy : 0.3148065807025345
Average local training loss : 4.084254290349782
Average local training accuracy : 0.973883487654321
INFO flwr 2023-07-26 04:44:05,008 | server.py:116 | fit progress: (11, 2.6205972607753405, {'server_test_acc': 0.35584958217270196}, 2058.4848491909797)
INFO flwr 2023-07-26 04:44:05,009 | server.py:163 | evaluate_round 11: no clients selected, cancel
Cluster score for round 12 = 63365.0859375
INFO flwr 2023-07-26 04:44:13,051 | fed_df.py:217 | Number of selected crops : 5048
DEBUG flwr 2023-07-26 04:44:14,851 | server.py:215 | fit_round 12: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=136434)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=136430)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 04:45:43,178 | server.py:229 | fit_round 12 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=136427)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=136434)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=136435)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=136437)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=136436)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=136432)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=136427)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=136430)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=136433)[0m Fitting Client 5
Warm start at round 12
Performing server side distillation training...
[2m[36m(launch_and_fit pid=136436)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=136437)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=136432)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=136435)[0m double free or corruption (fasttop)
E0726 04:45:44.796663171   63996 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): 1966080000ms
[2m[36m(launch_and_fit pid=136433)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.061960419815033675, val accuracy : 0.18560471320586927, best val accuracy : 0.2334370831480658
Average local training loss : 3.9861228733323517
Average local training accuracy : 0.9790162037037036
INFO flwr 2023-07-26 04:47:19,344 | server.py:116 | fit progress: (12, 11.149119259720061, {'server_test_acc': 0.17938718662952646}, 2252.821027205966)
INFO flwr 2023-07-26 04:47:19,345 | server.py:163 | evaluate_round 12: no clients selected, cancel
Cluster score for round 13 = 99815.71875
INFO flwr 2023-07-26 04:47:27,466 | fed_df.py:217 | Number of selected crops : 5009
DEBUG flwr 2023-07-26 04:47:29,233 | server.py:215 | fit_round 13: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=305875)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=305877)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=305879)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 04:48:57,693 | server.py:229 | fit_round 13 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=305875)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=305881)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=305879)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=305878)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=305880)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=305877)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=305876)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=305882)[0m Fitting Client 14
Warm start at round 13
Performing server side distillation training...
[2m[36m(launch_and_fit pid=305881)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=305876)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=305880)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=305882)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=305878)[0m malloc_consolidate(): invalid chunk size
E0726 04:48:59.889788201  397089 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 04:50:29.094083926  397461 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.07445817836746574, val accuracy : 0.19858826144953312, best val accuracy : 0.22676745220097821
Average local training loss : 3.9969120212830602
Average local training accuracy : 0.978295524691358
INFO flwr 2023-07-26 04:50:33,955 | server.py:116 | fit progress: (13, 6.304451948288091, {'server_test_acc': 0.2594707520891365}, 2447.43137017102)
INFO flwr 2023-07-26 04:50:33,955 | server.py:163 | evaluate_round 13: no clients selected, cancel
Cluster score for round 14 = 138004.5
INFO flwr 2023-07-26 04:50:41,972 | fed_df.py:217 | Number of selected crops : 5168
DEBUG flwr 2023-07-26 04:50:43,829 | server.py:215 | fit_round 14: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=475754)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=475750)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 04:52:12,096 | server.py:229 | fit_round 14 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=475760)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=475758)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=475755)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=475754)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=475756)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=475753)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=475759)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=475750)[0m Fitting Client 10
Warm start at round 14
Performing server side distillation training...
[2m[36m(launch_and_fit pid=475758)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=475760)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=475755)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=475756)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=475759)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=475753)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.08317701072990895, val accuracy : 0.2878612716763006, best val accuracy : 0.33003557136505113
Average local training loss : 3.9478047327138484
Average local training accuracy : 0.9809305555555556
INFO flwr 2023-07-26 04:53:42,250 | server.py:116 | fit progress: (14, 23.786253093411332, {'server_test_acc': 0.21406685236768802}, 2635.7263705459773)
INFO flwr 2023-07-26 04:53:42,250 | server.py:163 | evaluate_round 14: no clients selected, cancel
Cluster score for round 15 = 149707.90625
INFO flwr 2023-07-26 04:53:50,339 | fed_df.py:217 | Number of selected crops : 5019
DEBUG flwr 2023-07-26 04:53:52,122 | server.py:215 | fit_round 15: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=664023)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=664018)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 04:55:20,258 | server.py:229 | fit_round 15 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=664019)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=664014)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=664022)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=664023)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=664019)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=664021)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=664018)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=664017)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=664020)[0m Fitting Client 2
Warm start at round 15
Performing server side distillation training...
[2m[36m(launch_and_fit pid=664014)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=664020)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=664021)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=664022)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=664017)[0m malloc_consolidate(): invalid chunk size
E0726 04:55:23.325549266  469686 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.07715664772689343, val accuracy : 0.25345709204090705, best val accuracy : 0.27612272120942644
Average local training loss : 3.938465911708772
Average local training accuracy : 0.9812685185185186
INFO flwr 2023-07-26 04:56:56,519 | server.py:116 | fit progress: (15, 4.53583513435215, {'server_test_acc': 0.28147632311977716}, 2829.995032758976)
INFO flwr 2023-07-26 04:56:56,519 | server.py:163 | evaluate_round 15: no clients selected, cancel
Cluster score for round 16 = 124626.8828125
INFO flwr 2023-07-26 04:57:04,654 | fed_df.py:217 | Number of selected crops : 5027
DEBUG flwr 2023-07-26 04:57:06,451 | server.py:215 | fit_round 16: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=833325)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=833324)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 04:58:34,224 | server.py:229 | fit_round 16 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=833322)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=833324)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=833323)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=833325)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=833320)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=833318)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=833319)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=833321)[0m Fitting Client 18
Warm start at round 16
Performing server side distillation training...
[2m[36m(launch_and_fit pid=833322)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=833318)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=833320)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=833319)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=833321)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=833323)[0m corrupted size vs. prev_size in fastbins
E0726 04:58:36.505971840  756074 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.12042003881186247, val accuracy : 0.1771009337483326, best val accuracy : 0.2765673632725656
Average local training loss : 3.874107497278601
Average local training accuracy : 0.9847716049382716
INFO flwr 2023-07-26 05:00:10,747 | server.py:116 | fit progress: (16, 10.661951091628222, {'server_test_acc': 0.2662952646239554}, 3024.2230383419665)
INFO flwr 2023-07-26 05:00:10,747 | server.py:163 | evaluate_round 16: no clients selected, cancel
Cluster score for round 17 = 137829.359375
INFO flwr 2023-07-26 05:00:18,921 | fed_df.py:217 | Number of selected crops : 4916
DEBUG flwr 2023-07-26 05:00:20,716 | server.py:215 | fit_round 17: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1002750)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 05:01:48,368 | server.py:229 | fit_round 17 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1002749)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1002743)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1002746)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1002750)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1002748)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=1002751)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1002745)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1002747)[0m Fitting Client 17
Warm start at round 17
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1002743)[0m double free or corruption (fasttop)
E0726 05:01:48.981981217 1092761 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1002749)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1002745)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1002748)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1002751)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1002746)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1002747)[0m double free or corruption (fasttop)
Distillation training stopped at step number : 500
Average fusion training loss : 0.0627082551047206, val accuracy : 0.26712983548243663, best val accuracy : 0.34926634059582035
Average local training loss : 3.8555676943622528
Average local training accuracy : 0.985966049382716
INFO flwr 2023-07-26 05:03:24,188 | server.py:116 | fit progress: (17, 2.5049265577268467, {'server_test_acc': 0.43175487465181056}, 3217.664551252965)
INFO flwr 2023-07-26 05:03:24,188 | server.py:163 | evaluate_round 17: no clients selected, cancel
Cluster score for round 18 = 46618.85546875
INFO flwr 2023-07-26 05:03:32,369 | fed_df.py:217 | Number of selected crops : 5169
DEBUG flwr 2023-07-26 05:03:34,248 | server.py:215 | fit_round 18: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1172646)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1172639)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1172648)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 05:05:01,614 | server.py:229 | fit_round 18 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1172639)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=1172637)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1172643)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1172642)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1172644)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1172646)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1172647)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1172648)[0m Fitting Client 1
Warm start at round 18
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1172647)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1172643)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1172637)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1172644)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1172642)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.3860898460149765, val accuracy : 0.3456425077812361, best val accuracy : 0.37072032014228545
Average local training loss : 3.861028022132814
Average local training accuracy : 0.9856990740740741
INFO flwr 2023-07-26 05:06:31,816 | server.py:116 | fit progress: (18, 3.0190004061855644, {'server_test_acc': 0.3331476323119777}, 3405.292556564964)
INFO flwr 2023-07-26 05:06:31,816 | server.py:163 | evaluate_round 18: no clients selected, cancel
Cluster score for round 19 = 118335.9375
INFO flwr 2023-07-26 05:06:39,983 | fed_df.py:217 | Number of selected crops : 4681
DEBUG flwr 2023-07-26 05:06:41,699 | server.py:215 | fit_round 19: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1337195)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1337191)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1337187)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 05:08:09,536 | server.py:229 | fit_round 19 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1337197)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1337194)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1337193)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1337187)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=1337195)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1337196)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=1337188)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=1337194)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1337197)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1337191)[0m Fitting Client 7
Warm start at round 19
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1337196)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1337193)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1337188)[0m double free or corruption (fasttop)
E0726 05:08:15.853347546 1092929 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.21654643738269805, val accuracy : 0.3221654068474878, best val accuracy : 0.3490440195642508
Average local training loss : 3.8710865104570984
Average local training accuracy : 0.9851913580246913
INFO flwr 2023-07-26 05:09:45,490 | server.py:116 | fit progress: (19, 3.691766916344093, {'server_test_acc': 0.2550139275766017}, 3598.966170387983)
INFO flwr 2023-07-26 05:09:45,490 | server.py:163 | evaluate_round 19: no clients selected, cancel
Cluster score for round 20 = 69829.546875
INFO flwr 2023-07-26 05:09:53,703 | fed_df.py:217 | Number of selected crops : 5053
DEBUG flwr 2023-07-26 05:09:55,498 | server.py:215 | fit_round 20: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1530407)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1530412)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 05:11:22,786 | server.py:229 | fit_round 20 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1530413)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1530414)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1530412)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1530407)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1530411)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=1530408)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=1530410)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=1530409)[0m Fitting Client 10
Warm start at round 20
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1530408)[0m malloc_consolidate(): invalid chunk size
E0726 05:11:23.809289038 1453260 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1530411)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1530410)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1530409)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1530414)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1530413)[0m malloc_consolidate(): invalid chunk size
E0726 05:11:25.297633076 1620718 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.06451228890568018, val accuracy : 0.23587149844375274, best val accuracy : 0.2700088928412628
Average local training loss : 3.864397458545864
Average local training accuracy : 0.985662037037037
INFO flwr 2023-07-26 05:12:59,877 | server.py:116 | fit progress: (20, 3.656252500805018, {'server_test_acc': 0.3448467966573816}, 3793.3531603940064)
INFO flwr 2023-07-26 05:12:59,877 | server.py:163 | evaluate_round 20: no clients selected, cancel
Cluster score for round 21 = 40955.375
INFO flwr 2023-07-26 05:13:07,973 | fed_df.py:217 | Number of selected crops : 5157
DEBUG flwr 2023-07-26 05:13:09,808 | server.py:215 | fit_round 21: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1699885)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 05:14:38,364 | server.py:229 | fit_round 21 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1699883)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1699884)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=1699889)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=1699888)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=1699882)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=1699886)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1699887)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=1699885)[0m Fitting Client 18
Warm start at round 21
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1699889)[0m double free or corruption (fasttop)
E0726 05:14:39.314956275 1789716 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1699883)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1699882)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1699887)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1699886)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1699884)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1699888)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.2699918280541897, val accuracy : 0.24267452200978212, best val accuracy : 0.30824811027123167
Average local training loss : 3.8443653820082546
Average local training accuracy : 0.9865964506172841
INFO flwr 2023-07-26 05:16:08,670 | server.py:116 | fit progress: (21, 3.9865428287006686, {'server_test_acc': 0.3211699164345404}, 3982.146272518963)
INFO flwr 2023-07-26 05:16:08,670 | server.py:163 | evaluate_round 21: no clients selected, cancel
Cluster score for round 22 = 74090.640625
INFO flwr 2023-07-26 05:16:16,892 | fed_df.py:217 | Number of selected crops : 4943
DEBUG flwr 2023-07-26 05:16:18,654 | server.py:215 | fit_round 22: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=1864144)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1864137)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1864147)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 05:17:47,140 | server.py:229 | fit_round 22 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=1864146)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1864144)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=1864145)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=1864147)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=1864146)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=1864137)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=1864139)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=1864143)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=1864136)[0m Fitting Client 6
Warm start at round 22
Performing server side distillation training...
[2m[36m(launch_and_fit pid=1864143)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=1864145)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=1864136)[0m malloc_consolidate(): invalid chunk size
E0726 05:17:48.733306391 1954584 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=1864139)[0m malloc_consolidate(): invalid chunk size
Distillation training stopped at step number : 500
Average fusion training loss : 0.18189415144920348, val accuracy : 0.19576478434859937, best val accuracy : 0.2372165406847488
Average local training loss : 3.8098626094870274
Average local training accuracy : 0.9883966049382716
INFO flwr 2023-07-26 05:19:23,698 | server.py:116 | fit progress: (22, 14.897699195628046, {'server_test_acc': 0.2001392757660167}, 4177.174858147977)
INFO flwr 2023-07-26 05:19:23,699 | server.py:163 | evaluate_round 22: no clients selected, cancel
Cluster score for round 23 = 106426.8125
INFO flwr 2023-07-26 05:19:31,851 | fed_df.py:217 | Number of selected crops : 4544
DEBUG flwr 2023-07-26 05:19:33,551 | server.py:215 | fit_round 23: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2033455)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2033448)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2033449)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2033451)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2033450)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 05:21:06,437 | server.py:229 | fit_round 23 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2033454)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=2033453)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2033450)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2033452)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2033448)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2033449)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2033455)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2033451)[0m Fitting Client 12
Warm start at round 23
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2033453)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2033452)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2033454)[0m malloc_consolidate(): invalid chunk size
E0726 05:21:10.174705014 2124666 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.2237308429479599, val accuracy : 0.21798577145397954, best val accuracy : 0.28334815473543795
Average local training loss : 3.823148051369935
Average local training accuracy : 0.9875246913580247
INFO flwr 2023-07-26 05:22:51,565 | server.py:116 | fit progress: (23, 13.823378536893797, {'server_test_acc': 0.25431754874651813}, 4385.041732724989)
INFO flwr 2023-07-26 05:22:51,565 | server.py:163 | evaluate_round 23: no clients selected, cancel
Cluster score for round 24 = 92060.2734375
INFO flwr 2023-07-26 05:22:59,774 | fed_df.py:217 | Number of selected crops : 4872
DEBUG flwr 2023-07-26 05:23:01,547 | server.py:215 | fit_round 24: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2225328)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2225327)[0m double free or corruption (fasttop)
DEBUG flwr 2023-07-26 05:24:30,225 | server.py:229 | fit_round 24 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2225326)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2225323)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2225325)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2225326)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2225319)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2225323)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2225327)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2225328)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2225324)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2225322)[0m Fitting Client 7
Warm start at round 24
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2225319)[0m double free or corruption (fasttop)
E0726 05:24:31.018406236 2126155 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=2225325)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2225322)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2225324)[0m malloc_consolidate(): invalid chunk size
E0726 05:24:53.347630572 2341956 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 05:24:53.347722082 2341956 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.22650367540121077, val accuracy : 0.18772787905735883, best val accuracy : 0.21520675855935972
Average local training loss : 3.8198911741375925
Average local training accuracy : 0.9879382716049383
INFO flwr 2023-07-26 05:26:06,425 | server.py:116 | fit progress: (24, 24.253707758231414, {'server_test_acc': 0.16392757660167132}, 4579.901293116971)
INFO flwr 2023-07-26 05:26:06,425 | server.py:163 | evaluate_round 24: no clients selected, cancel
Cluster score for round 25 = 39663.5
INFO flwr 2023-07-26 05:26:14,598 | fed_df.py:217 | Number of selected crops : 4676
DEBUG flwr 2023-07-26 05:26:16,302 | server.py:215 | fit_round 25: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2403737)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2403736)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 05:27:43,680 | server.py:229 | fit_round 25 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2403738)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2403739)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2403733)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2403731)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=2403740)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=2403732)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=2403736)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2403737)[0m Fitting Client 18
Warm start at round 25
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2403732)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2403738)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2403733)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2403739)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2403731)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2403740)[0m double free or corruption (fasttop)
E0726 05:27:48.434878233 2342628 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.2875533257722855, val accuracy : 0.16590706980880393, best val accuracy : 0.23010226767452202
Average local training loss : 3.7872504008933903
Average local training accuracy : 0.9896203703703705
INFO flwr 2023-07-26 05:29:20,327 | server.py:116 | fit progress: (25, 10.986384168109522, {'server_test_acc': 0.24122562674094708}, 4773.803207652993)
INFO flwr 2023-07-26 05:29:20,327 | server.py:163 | evaluate_round 25: no clients selected, cancel
Cluster score for round 26 = 24597.517578125
INFO flwr 2023-07-26 05:29:28,554 | fed_df.py:217 | Number of selected crops : 5079
DEBUG flwr 2023-07-26 05:29:30,415 | server.py:215 | fit_round 26: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2573826)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2573831)[0m corrupted size vs. prev_size in fastbins
[2m[36m(launch_and_fit pid=2573833)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2573827)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 05:30:58,906 | server.py:229 | fit_round 26 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2573828)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=2573830)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=2573829)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=2573827)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2573832)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2573826)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=2573831)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2573833)[0m Fitting Client 19
Warm start at round 26
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2573828)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2573829)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2573830)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2573832)[0m malloc_consolidate(): invalid chunk size
E0726 05:31:05.036933557 2667253 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.46878255623579024, val accuracy : 0.21596265006669632, best val accuracy : 0.2417741218319253
Average local training loss : 3.7908389719203113
Average local training accuracy : 0.9894212962962963
INFO flwr 2023-07-26 05:32:34,565 | server.py:116 | fit progress: (26, 12.202830810334357, {'server_test_acc': 0.1094707520891365}, 4968.041198730003)
INFO flwr 2023-07-26 05:32:34,565 | server.py:163 | evaluate_round 26: no clients selected, cancel
Cluster score for round 27 = 11741.357421875
INFO flwr 2023-07-26 05:32:42,741 | fed_df.py:217 | Number of selected crops : 5502
DEBUG flwr 2023-07-26 05:32:44,835 | server.py:215 | fit_round 27: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2743345)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2743340)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 05:34:13,081 | server.py:229 | fit_round 27 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2743345)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2743339)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2743344)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2743340)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2743342)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=2743346)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2743341)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=2743343)[0m Fitting Client 17
Warm start at round 27
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2743342)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2743346)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2743339)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2743343)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2743344)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2743341)[0m malloc_consolidate(): invalid chunk size
E0726 05:34:15.703015316 2834285 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.4705545161366463, val accuracy : 0.24534237438861717, best val accuracy : 0.2613383726100489
Average local training loss : 3.779930939618498
Average local training accuracy : 0.9900648148148147
INFO flwr 2023-07-26 05:35:43,941 | server.py:116 | fit progress: (27, 7.49144360215551, {'server_test_acc': 0.2818941504178273}, 5157.417481453973)
INFO flwr 2023-07-26 05:35:43,941 | server.py:163 | evaluate_round 27: no clients selected, cancel
Cluster score for round 28 = 30241.90625
INFO flwr 2023-07-26 05:35:52,190 | fed_df.py:217 | Number of selected crops : 4598
DEBUG flwr 2023-07-26 05:35:53,903 | server.py:215 | fit_round 28: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=2907613)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2907614)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 05:37:21,303 | server.py:229 | fit_round 28 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=2907616)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=2907617)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=2907614)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=2907618)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=2907611)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=2907615)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=2907609)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=2907613)[0m Fitting Client 8
Warm start at round 28
Performing server side distillation training...
[2m[36m(launch_and_fit pid=2907618)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2907616)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=2907617)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2907611)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2907609)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=2907615)[0m double free or corruption (fasttop)
E0726 05:38:15.920308616 3050148 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.2781243134140968, val accuracy : 0.19007336594041796, best val accuracy : 0.22054246331702979
Average local training loss : 3.7790381827391686
Average local training accuracy : 0.9899984567901235
INFO flwr 2023-07-26 05:39:07,050 | server.py:116 | fit progress: (28, 4.5191215578892105, {'server_test_acc': 0.1626740947075209}, 5360.526120955998)
INFO flwr 2023-07-26 05:39:07,050 | server.py:163 | evaluate_round 28: no clients selected, cancel
Cluster score for round 29 = 51604.2265625
INFO flwr 2023-07-26 05:39:15,185 | fed_df.py:217 | Number of selected crops : 3725
DEBUG flwr 2023-07-26 05:39:16,663 | server.py:215 | fit_round 29: strategy sampled 8 clients (out of 20)
[2m[36m(launch_and_fit pid=3108349)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3108350)[0m malloc_consolidate(): invalid chunk size
DEBUG flwr 2023-07-26 05:40:44,550 | server.py:229 | fit_round 29 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3108344)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3108351)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=3108348)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=3108352)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=3108344)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3108350)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3108353)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=3108349)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=3108354)[0m Fitting Client 19
Warm start at round 29
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3108352)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3108354)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3108353)[0m double free or corruption (fasttop)
E0726 05:40:45.628547792 3052102 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
[2m[36m(launch_and_fit pid=3108348)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3108351)[0m malloc_consolidate(): invalid chunk size
E0726 05:41:31.098597061 3235566 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.3604807951450348, val accuracy : 0.22577812361049357, best val accuracy : 0.3149177412183193
Average local training loss : 3.7571091924794016
Average local training accuracy : 0.991158950617284
INFO flwr 2023-07-26 05:42:37,832 | server.py:116 | fit progress: (29, 4.060001960371862, {'server_test_acc': 0.32506963788300836}, 5571.308238861966)
INFO flwr 2023-07-26 05:42:37,832 | server.py:163 | evaluate_round 29: no clients selected, cancel
Cluster score for round 30 = 45693.96875
INFO flwr 2023-07-26 05:42:46,023 | fed_df.py:217 | Number of selected crops : 4757
DEBUG flwr 2023-07-26 05:42:47,927 | server.py:215 | fit_round 30: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-07-26 05:44:15,372 | server.py:229 | fit_round 30 received 8 results and 0 failures
[2m[36m(launch_and_fit pid=3293808)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=3293801)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=3293803)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=3293802)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=3293805)[0m Fitting Client 19
[2m[36m(launch_and_fit pid=3293807)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=3293806)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=3293804)[0m Fitting Client 10
Warm start at round 30
Performing server side distillation training...
[2m[36m(launch_and_fit pid=3293808)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3293803)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3293801)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3293802)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3293805)[0m malloc_consolidate(): invalid chunk size
[2m[36m(launch_and_fit pid=3293807)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3293804)[0m double free or corruption (fasttop)
[2m[36m(launch_and_fit pid=3293806)[0m double free or corruption (fasttop)
E0726 05:44:18.359540248 3384851 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
E0726 05:45:21.800190416 3435737 chttp2_transport.cc:1079]             ipv4:145.136.62.39:61547: Received a GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to "too_many_pings". Current keepalive time (before throttling): ∞
Distillation training stopped at step number : 500
Average fusion training loss : 0.3856005746126175, val accuracy : 0.1932414406402846, best val accuracy : 0.22799021787461093
Average local training loss : 3.7493296618573373
Average local training accuracy : 0.9915424382716049
INFO flwr 2023-07-26 05:45:52,013 | server.py:116 | fit progress: (30, 4.1619932238438, {'server_test_acc': 0.24860724233983286}, 5765.48930272297)
INFO flwr 2023-07-26 05:45:52,013 | server.py:163 | evaluate_round 30: no clients selected, cancel
INFO flwr 2023-07-26 05:45:52,013 | server.py:144 | FL finished in 5765.489670892013
INFO flwr 2023-07-26 05:45:52,014 | app.py:202 | app_fit: losses_distributed []
INFO flwr 2023-07-26 05:45:52,014 | app.py:203 | app_fit: metrics_distributed {}
INFO flwr 2023-07-26 05:45:52,015 | app.py:204 | app_fit: losses_centralized [(0, 2.1845225108367154), (1, 2.315697955288263), (2, 3.559391582244618), (3, 5.5029205226632545), (4, 9.563964426152221), (5, 6.1782329665585145), (6, 6.860692448735569), (7, 7.356159318589234), (8, 55.02254277391354), (9, 9.60084896247035), (10, 4.389169661646766), (11, 2.6205972607753405), (12, 11.149119259720061), (13, 6.304451948288091), (14, 23.786253093411332), (15, 4.53583513435215), (16, 10.661951091628222), (17, 2.5049265577268467), (18, 3.0190004061855644), (19, 3.691766916344093), (20, 3.656252500805018), (21, 3.9865428287006686), (22, 14.897699195628046), (23, 13.823378536893797), (24, 24.253707758231414), (25, 10.986384168109522), (26, 12.202830810334357), (27, 7.49144360215551), (28, 4.5191215578892105), (29, 4.060001960371862), (30, 4.1619932238438)]
INFO flwr 2023-07-26 05:45:52,015 | app.py:205 | app_fit: metrics_centralized {'server_test_acc': [(0, 0.11030640668523677), (1, 0.3363509749303621), (2, 0.2508356545961003), (3, 0.40278551532033424), (4, 0.2743732590529248), (5, 0.23175487465181058), (6, 0.32200557103064065), (7, 0.30877437325905294), (8, 0.24317548746518106), (9, 0.2923398328690808), (10, 0.16462395543175487), (11, 0.35584958217270196), (12, 0.17938718662952646), (13, 0.2594707520891365), (14, 0.21406685236768802), (15, 0.28147632311977716), (16, 0.2662952646239554), (17, 0.43175487465181056), (18, 0.3331476323119777), (19, 0.2550139275766017), (20, 0.3448467966573816), (21, 0.3211699164345404), (22, 0.2001392757660167), (23, 0.25431754874651813), (24, 0.16392757660167132), (25, 0.24122562674094708), (26, 0.1094707520891365), (27, 0.2818941504178273), (28, 0.1626740947075209), (29, 0.32506963788300836), (30, 0.24860724233983286)]}
malloc_consolidate(): invalid chunk size
srun: error: gcn39: task 0: Aborted
srun: Terminating StepId=3148267.1
-----EXPERIMENT ENDS-----
-----CLEANING UP DISK------
-----END-----

JOB STATISTICS
==============
Job ID: 3148267
Cluster: snellius
User/Group: sunnys/sunnys
State: RUNNING
Nodes: 1
Cores per node: 18
CPU Utilized: 03:33:29
CPU Efficiency: 11.64% of 1-06:34:30 core-walltime
Job Wall-clock time: 01:41:55
Memory Utilized: 56.85 GB
Memory Efficiency: 47.38% of 120.00 GB
WARNING: Efficiency statistics may be misleading for RUNNING jobs.
