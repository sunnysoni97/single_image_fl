-----BEGIN-----
-----SETTINGS-----
STRATEGY:fedavg
MODEL_NAME:resnet8
NUM_CLIENTS:20
NUM_ROUNDS:30
FRACTION_FIT:0.4
FRACTION_EVALUATE:0.0
DATASET_NAME:cifar10
PARTITION_ALPHA:1.0
PARTITION_VAL_RATIO:0.1
BATCH_SIZE:1024
LOCAL_EPOCHS:80
LOCAL_LR:0.05
DISTILL_BATCH_SIZE:1024
SERVER_LR:0.005
SERVER_STEPS:500
SERVER_EARLY_STEPS:1000
USE_EARLY_STOPPING:False
USE_ADAPTIVE_LR:False
SEED:42
CUDA_DETERMINISTIC:False
USE_CROPS:False
IMG_NAME:ameyoko.jpg
DISTILL_DATASET:cifar100
DISTILL_ALPHA:1.0
NUM_DISTILL_IMAGES:2250
DISTILL_TRANSFORMS:v1
WARM_START:True
WARM_START_ROUNDS:30
WARM_START_INTERVAL:1
DEBUG:False
-----SETTINGS END-----
-----EXPERIMENT BEGINS-----
Simulating fedavg training
INFO flwr 2023-05-31 11:49:29,703 | app.py:145 | Starting Flower simulation, config: ServerConfig(num_rounds=30, round_timeout=None)
2023-05-31 11:49:32,549	INFO worker.py:1529 -- Started a local Ray instance. View the dashboard at [1m[32m127.0.0.1:8265 [39m[22m
INFO flwr 2023-05-31 11:49:36,565 | app.py:179 | Flower VCE: Ray initialized with resources: {'accelerator_type:A100': 1.0, 'node:145.136.62.44': 1.0, 'object_store_memory': 158480291020.0, 'GPU': 1.0, 'memory': 359787345716.0, 'CPU': 72.0}
INFO flwr 2023-05-31 11:49:36,565 | server.py:86 | Initializing global parameters
INFO flwr 2023-05-31 11:49:36,565 | server.py:266 | Using initial parameters provided by strategy
INFO flwr 2023-05-31 11:49:36,565 | server.py:88 | Evaluating initial parameters
Downloading https://www.cs.toronto.edu/~kriz/cifar-10-python.tar.gz to /scratch-local/sunnys.2821392/cifar-10-python.tar.gz
Extracting /scratch-local/sunnys.2821392/cifar-10-python.tar.gz to /scratch-local/sunnys.2821392
Generating unified cifar10 dataset
Class histogram for 0-th partition (alpha=1.0, 10 classes): [440 381 415  39  10 257 227 532  17 182]
INFO flwr 2023-05-31 11:49:41,808 | server.py:91 | initial parameters (loss, other metrics): 2.323421728515625, {'server_test_acc': 0.108}
INFO flwr 2023-05-31 11:49:41,808 | server.py:101 | FL starting
DEBUG flwr 2023-05-31 11:49:41,808 | server.py:215 | fit_round 1: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-05-31 11:50:34,089 | server.py:229 | fit_round 1 received 8 results and 0 failures
Server test accuracy after round 0: 0.108
[2m[36m(launch_and_fit pid=4154830)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=4154828)[0m Fitting Client 3
[2m[36m(launch_and_fit pid=4154825)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=4154829)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=4154826)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=4154823)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=4154824)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=4154827)[0m Fitting Client 7
Average local training loss : 3.7194669638760383
Average local training accuracy : 0.5624958333333334
INFO flwr 2023-05-31 11:50:34,951 | server.py:116 | fit progress: (1, 2.2955420532226563, {'server_test_acc': 0.1109}, 53.14329356979579)
INFO flwr 2023-05-31 11:50:34,952 | server.py:163 | evaluate_round 1: no clients selected, cancel
DEBUG flwr 2023-05-31 11:50:34,952 | server.py:215 | fit_round 2: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-05-31 11:51:27,370 | server.py:229 | fit_round 2 received 8 results and 0 failures
Server test accuracy after round 1: 0.1109
[2m[36m(launch_and_fit pid=55401)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=55392)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=55402)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=55396)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=55397)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=55399)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=55398)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=55400)[0m Fitting Client 8
Average local training loss : 2.8891695502679795
Average local training accuracy : 0.6552805555555556
INFO flwr 2023-05-31 11:51:28,264 | server.py:116 | fit progress: (2, 3.072361767578125, {'server_test_acc': 0.1156}, 106.45632841112092)
INFO flwr 2023-05-31 11:51:28,265 | server.py:163 | evaluate_round 2: no clients selected, cancel
DEBUG flwr 2023-05-31 11:51:28,265 | server.py:215 | fit_round 3: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-05-31 11:52:19,843 | server.py:229 | fit_round 3 received 8 results and 0 failures
Server test accuracy after round 2: 0.1156
[2m[36m(launch_and_fit pid=150507)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=150505)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=150502)[0m Fitting Client 5
[2m[36m(launch_and_fit pid=150500)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=150506)[0m Fitting Client 16
[2m[36m(launch_and_fit pid=150503)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=150508)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=150504)[0m Fitting Client 7
Average local training loss : 2.4332705674460158
Average local training accuracy : 0.7094930555555555
INFO flwr 2023-05-31 11:52:20,734 | server.py:116 | fit progress: (3, 2.020824658203125, {'server_test_acc': 0.3661}, 158.92599926702678)
INFO flwr 2023-05-31 11:52:20,734 | server.py:163 | evaluate_round 3: no clients selected, cancel
DEBUG flwr 2023-05-31 11:52:20,734 | server.py:215 | fit_round 4: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-05-31 11:53:12,639 | server.py:229 | fit_round 4 received 8 results and 0 failures
Server test accuracy after round 3: 0.3661
[2m[36m(launch_and_fit pid=244855)[0m Fitting Client 0
[2m[36m(launch_and_fit pid=244853)[0m Fitting Client 1
[2m[36m(launch_and_fit pid=244852)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=244849)[0m Fitting Client 7
[2m[36m(launch_and_fit pid=244856)[0m Fitting Client 13
[2m[36m(launch_and_fit pid=244854)[0m Fitting Client 18
[2m[36m(launch_and_fit pid=244851)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=244857)[0m Fitting Client 12
Average local training loss : 1.592096192552708
Average local training accuracy : 0.8143798611111112
INFO flwr 2023-05-31 11:53:13,575 | server.py:116 | fit progress: (4, 1.7848753784179687, {'server_test_acc': 0.5077}, 211.767077839002)
INFO flwr 2023-05-31 11:53:13,575 | server.py:163 | evaluate_round 4: no clients selected, cancel
DEBUG flwr 2023-05-31 11:53:13,576 | server.py:215 | fit_round 5: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-05-31 11:54:06,840 | server.py:229 | fit_round 5 received 8 results and 0 failures
Server test accuracy after round 4: 0.5077
[2m[36m(launch_and_fit pid=339039)[0m Fitting Client 8
[2m[36m(launch_and_fit pid=339043)[0m Fitting Client 11
[2m[36m(launch_and_fit pid=339038)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=339042)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=339036)[0m Fitting Client 10
[2m[36m(launch_and_fit pid=339044)[0m Fitting Client 9
[2m[36m(launch_and_fit pid=339041)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=339040)[0m Fitting Client 6
Average local training loss : 1.3945040173828602
Average local training accuracy : 0.8391048611111112
INFO flwr 2023-05-31 11:54:07,715 | server.py:116 | fit progress: (5, 1.3675181274414063, {'server_test_acc': 0.6484}, 265.9072315711528)
INFO flwr 2023-05-31 11:54:07,716 | server.py:163 | evaluate_round 5: no clients selected, cancel
DEBUG flwr 2023-05-31 11:54:07,716 | server.py:215 | fit_round 6: strategy sampled 8 clients (out of 20)
DEBUG flwr 2023-05-31 11:55:00,475 | server.py:229 | fit_round 6 received 8 results and 0 failures
Server test accuracy after round 5: 0.6484
[2m[36m(launch_and_fit pid=433330)[0m Fitting Client 15
[2m[36m(launch_and_fit pid=433334)[0m Fitting Client 4
[2m[36m(launch_and_fit pid=433329)[0m Fitting Client 6
[2m[36m(launch_and_fit pid=433335)[0m Fitting Client 17
[2m[36m(launch_and_fit pid=433332)[0m Fitting Client 14
[2m[36m(launch_and_fit pid=433333)[0m Fitting Client 2
[2m[36m(launch_and_fit pid=433331)[0m Fitting Client 12
[2m[36m(launch_and_fit pid=433326)[0m Fitting Client 10
Average local training loss : 1.0325987199146767
Average local training accuracy : 0.882461111111111
INFO flwr 2023-05-31 11:55:01,348 | server.py:116 | fit progress: (6, 1.5093291137695313, {'server_test_acc': 0.6365}, 319.5394069538452)
INFO flwr 2023-05-31 11:55:01,348 | server.py:163 | evaluate_round 6: no clients selected, cancel
DEBUG flwr 2023-05-31 11:55:01,348 | server.py:215 | fit_round 7: strategy sampled 8 clients (out of 20)
